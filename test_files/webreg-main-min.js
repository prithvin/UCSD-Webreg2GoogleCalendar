$(function(){$("body").fadeIn(100);$.support.cors=true;if(!window.console){console={log:function(){}};}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(Ev){return jQuery.inArray(Ev,this);};}var DI=false;if(document.all&&!document.addEventListener){if(document.all&&!document.querySelector){alert("Your browser is currently not supported by Webreg.  Please update your browser to the current version or use the latest version of Chrome or Firefox for the best experience.");window.location.replace("http://students.ucsd.edu");}else{DI=true;}}function B8(){window.location.replace("/security/student/logout?url=http://students.ucsd.edu");}function DU(){window.location.replace("/webreg2/");}var Bn;$("#dialog-session-timeout").dialog({autoOpen:false,maxWidth:600,position:{my:"center",at:"center",of:window},height:"auto",width:600,modal:true,closeOnEscape:false,buttons:{"No":BQ,"Yes":Cd}});$(this).mousemove(function(Ew){if(Bn!=undefined){window.clearTimeout(Bn);}var Ev=1080000;Bn=window.setTimeout(Ea,Ev);});function Ea(){window.clearTimeout(Bn);var Ev=120000;Bn=window.setTimeout(BQ,Ev);$("#dialog-session-timeout").dialog("open");}function Cd(){$("#dialog-session-timeout").dialog("close");Bs(function(Ev){if(Ev!=undefined){if(!Ev.SESSION_OK){DU();}}else{DU();}});}function BQ(){$("#dialog-session-timeout").dialog("close");B8();}var CW=BE("p1");var CV=BE("p2");var DW=BE("p3");if(CW!=undefined){var BJ=CW.match(/^S1|^S2|^S3|^SU/i)?true:false;var X=(CW.match(/^S3/i))?true:false;}else{DU();}function BS(Ex){var Ev=Ex.substring(0,2);var Ey="";switch(Ev){case"SP":Ey+="Spring Quarter";break;case"FA":Ey+="Fall Quarter";break;case"WI":Ey+="Winter Quarter";break;case"S1":Ey+="Summer Session I";break;case"S2":Ey+="Summer Session II";break;case"S3":Ey+="Special Summer Session";break;case"SU":Ey+="Summer Med School";break;}var Ew=Ex.substring(2,4);return Ey+" 20"+Ew;}var Ab=BS(CW);var Cx=false;var G=false;var EO="/webreg2/resources/images/down_arrow.png";var DJ="/webreg2/resources/images/right_arrow.png";var D2="My Schedule";var EK=D2;var A5=[];A5.length=0;var Bp={};var Ao=new Date();var ET=Ao.getFullYear();var EY=Ao.getMonth();var Ec=Ao.getDate();var Eh=Ao.getDay();var B6=Ao.getTime();var Bf=EY+1;if(Bf<10){Bf="0"+String(Bf);}var El=Ec;if(El<10){El="0"+El;}var b=ET+"-"+Bf+"-"+El;var Di="Cannot edit at this time";var o="Cannot drop at this time";var EM="Cannot waitlist at this time";var Bz="Confirm your appointment time or check holds";var DE="Cannot enroll at this time";var Bm="Course already enrolled";var EA=Bm;var CO="Not available for MD";var N="Cannot plan at this time.";var Cf="Confirm your appointment time";var CH="Check your holds";var Bv="Course already waitlisted";var Ap="Course already enrolled or waitlisted";var Bc="Preauthorized enrollment";var AS="Section already planned, enrolled or waitlisted";var Bq="BEGIN DROP";var M="BEGIN DROP WAITLIST";var C6="BEGIN CHANGE";var Cv="BEGIN CHANGE WAITLIST";var Ce="This class does not allow you to change grade option or units.";var Cn=[];var D6=[];var DG="You have a scheduling conflict!";var Ds="You have scheduling conflicts!";var Cr=[];var Bt=[];var Cq="wr-grid-en";var Ch="wr-grid-wt";var C4="wr-grid-pl";var CD="wr-grid-ev";var Ak=[];Ak.length=0;var Ad={};Ad.length=0;var Eg=[];Eg.length=0;var C8={};var Cw="23";var Y="00";var Aj;var A7=[];A7.length=0;var DD="23";var z="00";var Db=false;var EJ="wr-search-group-row-section-";$.fn.floaterJump=function(){$("html, body").animate({scrollTop:$(this).offset().top+"px"},"fast");return this;};$("#wr-floater-img1").click(function(){$("#mainpage-div1-span1").floaterJump();});$("#wr-floater-img2").click(function(){$("#bottom-jumper").floaterJump();});function DR(){var Ez=$(window).width();var Ev=960;var Ew=Ez-Ev;if(Ew>85){var Ex=Math.round(Ew/2);var Ey=Ex+Ev+10;$(".wr-floater-img-class").css("left",Ey);$(".wr-floater-img-class").show();}else{$(".wr-floater-img-class").hide();}}DR();$(window).on("resize",function(){DR();});$(document).tooltip({show:{delay:100,duration:1000}});function BW(Ev){Ee({url:"/webreg2/svc/wradapter/get-current-name",dataType:"text",type:"GET",async:false,successF:Ev});}function x(Ey,Ev,Ex,Ew){Ee({url:"/webreg2/svc/wradapter/check-eligibility",dataType:"json",type:"GET",async:false,data:{"termcode":Ey,"seqid":Ev,"logged":Ex},successF:Ew});}function BP(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/check-academic-integrity",dataType:"json",type:"GET",async:false,data:{"section":Ew,"termcode":CW},successF:Ev});}function Dl(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/get-status-start",dataType:"json",type:"GET",async:false,data:{"termcode":Ex,"seqid":Ev},successF:Ew});}function C9(Ev){Ee({url:"/webreg2/svc/wradapter/get-term",dataType:"json",type:"GET",async:false,successF:Ev});}function Al(Ev){Ee({url:"/webreg2/svc/wradapter/get-msg-to-proceed",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function Ca(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-error-message",dataType:"json",type:"POST",async:false,data:{"code":Ew,"termcode":CW},successF:Ev});}function Eb(Ew,Ey,Ev,Ex){Ee({url:"/webreg2/svc/wradapter/secure/get-unit-options",dataType:"json",type:"GET",async:false,data:{"section":Ew,"subjcode":Ey,"crsecode":Ev,"termcode":CW},successF:Ex});}function CG(Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/check-drop-enroll-warn",dataType:"json",type:"POST",async:false,data:{"sectnum":Ev,"termcode":CW},successF:Ew});}function Ag(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/check-drop-financial",dataType:"json",type:"GET",async:false,data:{"termyear":Ew,"termcode":CW},successF:Ev});}function EL(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/send-email",dataType:"json",type:"POST",async:false,data:{"actionevent":Ew,"termcode":CW},successF:Ev});}function CN(Ev,Ew,Ey,E0,Ex){var Ez=Ev?"/webreg2/svc/wradapter/secure/drop-enroll":"/webreg2/svc/wradapter/secure/drop-wait";
Ee({url:Ez,dataType:"json",type:"POST",data:{"section":Ew,"subjcode":Ey,"crsecode":E0,"termcode":CW},successF:Ex});}function Bk(Ew,E3,Ex,Ev,E0,E4,E1,E2,Ez){var Ey=Ew?"/webreg2/svc/wradapter/secure/change-enroll":"/webreg2/svc/wradapter/secure/change-wait";Ee({url:Ey,dataType:"json",type:"POST",data:{"section":E3,"subjCode":Ex,"crseCode":Ev,"grade":E0,"unit":E4,"oldGrade":E1,"oldUnit":E2,"termcode":CW},successF:Ez});}function EX(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-msg-holds",dataType:"json",type:"GET",data:{"termcode":CW},successF:Ev});}function Aq(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-msg-status",dataType:"json",type:"GET",data:{"termcode":CW},successF:Ev});}function Bj(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-msg-pass",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function C(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-error-type4",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function q(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-msg-global",dataType:"json",type:"GET",data:{"termcode":CW},successF:Ev});}function EC(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-status-eligflags",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function EN(Ev){Ee({url:"/webreg2/svc/wradapter/secure/check-status-button",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function AR(Ev){Ee({url:"/webreg2/svc/wradapter/secure/check-status-waitlistable",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function Bh(Ey,Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-class",dataType:"json",type:"GET",async:false,data:{"schedname":Ey,"final":Ex,"sectnum":Ev,"termcode":CW},successF:Ew});}function S(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-preauth-info",dataType:"json",async:false,type:"GET",data:{"termcode":CW},successF:Ev});}function Ep(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-final-location-option",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function BG(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-final-sat2",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function Ay(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-inst-email-addr",dataType:"json",type:"GET",async:false,data:{"emailref":Ew,"termcode":CW},successF:Ev});}function Ck(E2,Ex,E1,Ew,Ez,E0,Ey){if(E2){var Ev="/webreg2/svc/wradapter/secure/add-wait";}else{var Ev="/webreg2/svc/wradapter/secure/add-enroll";}Ee({url:Ev,dataType:"json",type:"POST",data:{"section":Ex,"grade":E1,"unit":Ew,"subjcode":Ez,"crsecode":E0,"termcode":CW},successF:Ey});}function BZ(E1,Ez,Ev,Ex,E2,E0,Ew,Ey){Ee({url:"/webreg2/svc/wradapter/secure/plan-add",dataType:"json",async:false,type:"POST",data:{"schedname":E1,"subjcode":Ez,"crsecode":Ev,"sectnum":Ex,"sectcode":E2,"grade":E0,"unit":Ew,"termcode":CW},successF:Ey});}function u(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/plan-remove",dataType:"json",async:false,type:"POST",data:{"schedname":Ex,"sectnum":Ev,"termcode":CW},successF:Ew});}function BH(Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/plan-remove-all",dataType:"json",async:false,type:"POST",data:{"sectnum":Ev,"termcode":CW},successF:Ew});}function Dj(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/sched-remove",dataType:"json",async:false,type:"POST",data:{"schedname":Ew,"termcode":CW},successF:Ev});}function AW(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/plan-rename",dataType:"json",async:false,type:"POST",data:{"oldschedname":Ex,"newschedname":Ev,"termcode":CW},successF:Ew});}function ES(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/plan-copy",dataType:"json",async:false,type:"POST",data:{"oldschedname":Ex,"newschedname":Ev,"termcode":CW},successF:Ew});}function f(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/plan-count",dataType:"json",async:false,type:"GET",data:{"schedname":Ew,"termcode":CW},successF:Ev});}function Bi(E0,Ex,Ez,Ev,Ey){if(E0){var Ew="/webreg2/svc/wradapter/secure/edit-wait";}else{var Ew="/webreg2/svc/wradapter/secure/edit-enroll";}Ee({url:Ew,dataType:"json",type:"POST",data:{"section":Ex,"subjcode":Ez,"crsecode":Ev,"termcode":CW},successF:Ey});}function DZ(Ew,Ey,Ev,Ex){Ee({url:"/webreg2/svc/wradapter/secure/edit-plan",dataType:"json",type:"POST",data:{"section":Ew,"subjcode":Ey,"crsecode":Ev,"termcode":CW},successF:Ex});}function Ba(Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-enroll-add-dates",dataType:"json",async:false,type:"GET",data:{"termcode":CW},successF:Ev});}function A3(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-by-sectionid",dataType:"json",type:"GET",data:{"sectionid":Ew,"termcode":CW},successF:Ev});}function g(Ey,Ew,E2,E1,E4,E6,E5,Ev,E0,Ex,E3,Ez){Ee({url:"/webreg2/svc/wradapter/secure/search-by-all",dataType:"json",type:"GET",data:{"subjcode":Ey,"crsecode":Ew,"department":E2,"professor":E1,"title":E4,"levels":E6,"days":E5,"timestr":Ev,"opensection":E0,"isbasic":Ex,"basicsearchvalue":E3,"termcode":CW},successF:Ez});}function Ed(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-get-crse-text",dataType:"json",type:"GET",data:{"subjlist":Ew,"termcode":CW},successF:Ev});}function D5(Ex,Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-get-crse-list",dataType:"json",type:"GET",async:false,data:{"termcode":Ex,"subjlist":Ew},successF:Ev});}function Du(Ex,Ev,Ey,Ew){Ee({url:"/webreg2/svc/wradapter/secure/search-load-group-data",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex.toString().toUpperCase(),"crsecode":Ey.toString().toUpperCase(),"termcode":CW},successF:Ew});}function B9(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-get-section-text",dataType:"json",async:false,type:"GET",data:{"sectnumlist":Ew,"termcode":CW},successF:Ev});}function Dd(Ew,Ex,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-get-restriction",dataType:"json",async:false,type:"GET",data:{"subjcode":Ew,"crsecode":Ex,"termcode":CW},successF:Ev});}function Dk(Ew,Ex,Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-get-catalog",dataType:"json",async:false,type:"GET",data:{"subjcode":Ew,"crsecode":Ex,"termcode":CW},successF:Ev});
}function v(Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-load-subject",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function DX(Ev){Ee({url:"/webreg2/svc/wradapter/secure/search-load-department",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function By(Ez,Ex,Ew,Ey,Ev){Ee({url:"/webreg2/svc/wradapter/wr-logger",dataType:"json",type:"POST",data:{"sectnum":Ez,"subjcode":Ex,"crsecode":Ew.trim(),"action":Ey,"result":Ev,"termcode":CW},error:function(E0){return;}});}function Ef(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/wr-logger",dataType:"json",type:"POST",data:{"sectnum":0,"subjcode":"N/A","crsecode":"N/A","action":"CHECK ELIGIBILITY","result":"Fail: "+Ev,"termcode":Ew},error:function(Ex){return;}});}function Bl(Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/check-and-get-grade-unit",dataType:"json",type:"POST",async:false,data:{"section":Ev,"termcode":CW},successF:Ew});}function Dm(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/get-enroll-detail",dataType:"json",type:"GET",async:false,data:{"sectnumlist":Ew,"termcode":CW},successF:Ev});}function T(E0,Ev,Ew,Ez,Ex,Ey){Ee({url:"/webreg2/svc/wradapter/secure/event-add",dataType:"json",type:"POST",async:false,data:{"aename":E0,"aedays":Ev,"aestarttime":Ew,"aeendtime":Ez,"aelocation":Ex,"termcode":CW},successF:Ey});}function CA(Ev){Ee({url:"/webreg2/svc/wradapter/secure/event-get",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function Ct(Ew,Ev){Ee({url:"/webreg2/svc/wradapter/secure/event-remove",dataType:"json",type:"POST",async:false,data:{"aetimestamp":Ew,"termcode":CW},successF:Ev});}function A4(E1,E0,Ev,Ew,Ez,Ex,Ey){Ee({url:"/webreg2/svc/wradapter/secure/event-edit",dataType:"json",type:"POST",async:false,data:{"aetimestamp":E1,"aename":E0,"aedays":Ev,"aestarttime":Ew,"aeendtime":Ez,"aelocation":Ex,"termcode":CW},successF:Ey});}function A2(Ev){Ee({url:"/webreg2/svc/wradapter/secure/sched-get-schednames",dataType:"json",type:"GET",async:false,data:{"termcode":CW},successF:Ev});}function BB(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/get-status-for-level",dataType:"json",type:"GET",async:false,data:{"alevel":Ex,"seqid":Ev},successF:Ew});}function ED(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-major-restrictions",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function Af(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-college-restrictions",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function Er(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-academic-level-restrictions",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function D(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-class-level-restrictions",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function Dc(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-prerequisites",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function CT(Ex,Ev,Ew){Ee({url:"/webreg2/svc/wradapter/secure/get-academic-level-for-course",dataType:"json",type:"GET",async:false,data:{"subjcode":Ex,"crsecode":Ev,"termcode":CW},successF:Ew});}function Bs(Ev){Ee({url:"/webreg2/svc/wradapter/secure/ping-server",dataType:"json",type:"GET",async:true,successF:Ev});}var AC={"EDITELIG":"/webreg2/svc/wradapter/check-eligibility","DEL-ENRL":"/webreg2/svc/wradapter/secure/drop-enroll","DEL-WAIT":"/webreg2/svc/wradapter/secure/drop-wait","CHG-ENRL":"/webreg2/svc/wradapter/secure/change-enroll","CHG-WAIT":"/webreg2/svc/wradapter/secure/change-wait","ADD-WAIT":"/webreg2/svc/wradapter/secure/add-wait","ADD-ENRL":"/webreg2/svc/wradapter/secure/add-enroll","EDITWAIT":"/webreg2/svc/wradapter/secure/edit-wait","EDITENRL":"/webreg2/svc/wradapter/secure/edit-enroll"};function Ee(Ex){var Ew=true;var Ev={url:Ex.url,type:"GET",cache:false,crossDomain:true,error:function(E0,Ey,Ez){if(E0.status===0&&Ey=="timeout"){DL("<div class='msg error'><h4>Service Unavailable</h4><span>We're currently experiencing unusually high traffic.  Please try again in a few minutes.</span></div>");}else{if(E0.status===0||E0.status==307){DU();}else{DL("<div class='msg error'><h4>System Error</h4><span>Please try again and if the error persists report the problem at tritonlink@ucsd.edu</span></div>");}}return;},success:function(Ez){if((Ez.VERIFY!=undefined&&Ez.VERIFY=="FAIL")||Ez[0]!=undefined&&Ez[0].VERIFY!=undefined&&Ez[0].VERIFY=="FAIL"){DU();}for(var Ey in AC){if(Ex.url==AC[Ey]){}}if(Ew&&("successF" in Ex)){if(undefined!=Ez.OPSIV&&"FAIL"==Ez.OPSIV&&undefined!=Ez.IVORY_UNAVAIL_MSG){Ew=false;DL("<div class='msg error'><h4>Alert:</h4><span>"+Ez.IVORY_UNAVAIL_MSG+"</span></div>");}if(Ew){Ex.successF(Ez);}}}};if("type" in Ex){Ev.type=Ex.type;}if("data" in Ex){Ev.data=Ex.data;}if("dataType" in Ex){Ev.dataType=Ex.dataType;}if("contentType" in Ex){Ev.contentType=Ex.contentType;}if("mimeType" in Ex){Ev.mimeType=Ex.mimeType;}if("error" in Ex){Ev.error=Ex.error;}if("async" in Ex){Ev.async=Ex.async;}if("global" in Ex){Ev.global=Ex.global;}if("beforeSend" in Ex){Ev.beforeSend=Ex.beforeSend;}$.ajax(Ev);}$(document).ajaxStart(function(){$("body").addClass("wr-spinner-loading");});$(document).ajaxStop(function(){$("body").removeClass("wr-spinner-loading");});function DL(Ev){if(undefined!=Ev){$("#dialog-msg-small").dialog("open");D3(Ev);}}function Dz(Ex,Ez){var Ew=Ex.substring(0,2);var Ey="";switch(Ew){case"SU":Ey="Summer Med School";break;case"S1":Ey="Summer Session I";break;case"S2":Ey="Summer Session II";break;case"S3":Ey="Special Summer Session";break;case"FA":Ey="Fall Quarter";break;case"WI":Ey="Winter Quarter";break;case"SP":Ey="Spring Quarter";break;default:Ey="Unknown";break;}var Ev=Ez.replace(/\D/g,"");return Ey+" "+Ev.trim();}$("#wr-term-text").text("Term: "+Ab);var B2={};C9(function(Ev){$("#mainpage-select-term").empty();
B2={};$.each(Ev,function(Ex,Ez){var E0=Ez.termDesc;var Ew=Ez.seqId;var Ey=Ez.termCode;B2[Ey]=Ew;E0=Dz(Ey,E0);if(Ez.termCode==CW){$("<option selected='selected' value='"+Ew+":::"+Ey+"'>"+E0+"</option>").appendTo("#mainpage-select-term");}else{$("<option value='"+Ew+":::"+Ey+"'>"+E0+"</option>").appendTo("#mainpage-select-term");}});});if(DW!=undefined&&DW.localeCompare("true")==0){BT(CW,B2[CW]);}var AB=$("#mainpage-select-term option:selected").val();var Cl=(AB.split(":::"))[0];x(CW,Cl,false,function(Ev){if("SUCCESS"!=Ev.OPS){window.location.replace("/webreg2/start");}});var Eq=false;var EZ=false;var AT=false;var C0=true;EC(function(Ev){if(undefined!=Ev.ELIG_FLAGS){if(1==Ev.ELIG_FLAGS.toString().charAt(0)){Eq=true;}if(1==Ev.ELIG_FLAGS.toString().charAt(1)){EZ=true;}if(Eq||EZ){AT=true;}}});C(function(Ev){if(undefined!=Ev.GOT_NO_FTYPE){if(Ev.GOT_NO_FTYPE){C0=false;}}});var BF;function Df(Ev){window.clearTimeout(Bn);BF=window.setTimeout(CL,Ev);}function CL(){x(CW,B2[CW],false,function(Ev){window.clearTimeout(BF);if("SUCCESS"==Ev.OPS){Eq=false;EZ=false;AT=false;C0=true;EC(function(Ew){if(undefined!=Ew.ELIG_FLAGS){if(1==Ew.ELIG_FLAGS.toString().charAt(0)){Eq=true;}if(1==Ew.ELIG_FLAGS.toString().charAt(1)){EZ=true;}if(Eq||EZ){AT=true;}}});C(function(Ew){if(undefined!=Ew.GOT_NO_FTYPE){if(Ew.GOT_NO_FTYPE){C0=false;}}});if(EZ){Df(10000);}else{$("#dialog-msg-appttime").dialog("open");s();}}});}function AK(){$(".wrbuttong").button().button("enable");$(".wrbuttong").removeAttr("title");$(".wrbuttons").button().button("enable");$(".wrbuttons").removeAttr("title");$(".wrbuttonc").button().button("enable");$(".wrbuttonc").removeAttr("title");}function s(){AK();e();Aa();}function AD(FA){var Ex=FA.data.sectionHead;var E8=(FA.data.enStatus=="EN")?true:false;var FS=CV;var FE=FA.data.objid;var FG;var FR;var FP;var Ey;var FH=false;var E1=false;$("#diagclass-class-table-subj").empty();$("#diagclass-class-table-title").empty();$("#diagclass-class-table-grade-p").empty();$("#diagclass-class-table-unit-p").empty();$("#diagclass-class-table-code").empty();$("#diagclass-class-table-type").empty();$("#diagclass-class-table-days").empty();$("#diagclass-class-table-time").empty();$(".diagclass-class-table-no1234").empty();if(FE.toString().match(/^grid:/)){var FD=FE.split(":")[1];var FK=$("#list-id-table").jqGrid("getRowData",FD);subjCode=FK.SUBJ_CODE;FG=FK.CRSE_CODE;FR=FK.CRSE_TITLE;FP=FK.SECT_CREDIT_HRS;Ey=FK.GRADE_OPTION;if(E8){if(FK.GRADE_OPTN_CD_PLUS=="+"){FH=true;}if(FK.SECT_CREDIT_HRS_PL=="+"){E1=true;}}}else{var E4=$("#calendar-id").fullCalendar("clientEvents",FE)[0];subjCode=E4.subjCode;FG=E4.crseCode;FR=E4.stitle;FP=E4.unitVal.toFixed(2);Ey=E4.gradeVal;if(E8){FH=E4.gradeEnable;E1=E4.unitEnable;}}if(!E8){var FL=A0(Ex);FH=FL[0];E1=FL[1];}var FB=subjCode+FG;var Ez=$("#list-id-table");var FU=Ez.jqGrid("getDataIDs");var FN=[];for(var FM=0;FM<FU.length;FM++){var FF=FU[FM];FK=Ez.jqGrid("getRowData",FF);if(FK.colstatus.match(/plan/i)){continue;}if(undefined!=FK.PB_FRIEND&&"true"==FK.PB_FRIEND){continue;}if(FK.SECTION_HEAD==Ex){var FQ=CS(FK.FK_CDI_INSTR_TYPE);var FJ={key0:FQ,key1:FK.DAY_CODE,key2:FK.coltime,key3:FK.SECT_CODE,key4:FK.CRSE_TITLE};FN.push(FJ);}}var Ev=undefined;var E3=undefined;var E7=undefined;var FO=BM(FG);if(E1){Eb(Ex,subjCode,FG,function(FV){if("YES"==FV.UNIT){Ev=FV.UNIT_FROM;E3=FV.UNIT_TO;E7=FV.UNIT_INC;}});}var FI=$("#dialog-class").dialog("open");FI.dialog("option","section",Ex);FI.dialog("option","subjcode",subjCode);FI.dialog("option","crsecode",FG);FI.dialog("option","stitle",FR);FI.dialog("option","isenroll",E8);$("#diagclass-class-table-subj").text(FB);var FC=FN[0].key4.replace("<br>","");$("#diagclass-class-table-title").text(FC);$("#dialog-class-button-confirm").button("enable");var E5=$("#diagclass-class-table-grade-p");E5.empty();if(FH){FI.dialog("option","gradeenable",true);E5.append("<select class='diagxxx-class-table-td-select' id='diagclass-class-table-grade'></select>");var E2=$("#diagclass-class-table-grade");E2.empty();if(FS=="UN"){E2.append($("<option></option>").val("L").html("Letter"));E2.append($("<option></option>").val("P").html("Pass / No Pass"));}else{if(FS=="GR"){E2.append($("<option></option>").val("L").html("Letter"));E2.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));}else{if(FS=="PH"){CT(subjCode,FG,function(FV){if(FV.ACADEMIC_LEVEL=="GR"){E2.append($("<option></option>").val("L").html("Letter"));}else{E2.append($("<option></option>").val("H").html("Honors Pass / Fail"));}E2.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));});}}}E2.val(As(Ey));}else{E5.text(Ey);FI.dialog("option","gradeenable",false);}FI.dialog("option","oldgrade",Ey);var E0=$("#diagclass-class-table-unit-p");E0.empty();if(E1&&undefined!=Ev&&undefined!=E3&&undefined!=E7){FI.dialog("option","unitenable",true);E0.append("<select class='diagxxx-class-table-td-select' id='diagclass-class-table-unit' ></select>");var FT=$("#diagclass-class-table-unit");FT.empty();var E9=Ej(Ev,E3,E7,FP);$.each(E9.ob2,function(FV,FW){FT.append($("<option></option>").val(FV).html(FW));});FT.val(E9.ob1);}else{E0.text(FP);FI.dialog("option","unitenable",false);}FI.dialog("option","oldunit",FP);var E6=$("#diagclass-class-table");$(".diaclass-class-table-extra-row").empty();$.each(FN,function(FW,FX){if(0==FW){$("#diagclass-class-table-code").text(FX.key3);$("#diagclass-class-table-mt").text(FX.key0);$("#diagclass-class-table-days").text(FX.key1);$("#diagclass-class-table-time").text(FX.key2);}else{if(""==FX.key0.trim()&&""==FX.key1.trim()&&""==FX.key2.trim()){return;}var FV='<tr class="diaclass-class-table-extra-row diagclass-class-table-no1234" >';E6.append(FV+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+"<td>"+FX.key3+"</td>"+"<td>"+CS(FX.key0)+"</td>"+"<td>"+FX.key1+"</td>"+"<td>"+FX.key2+"</td>"+"</tr>");}});var Ew=(E8)?C6:Cv;
By(Ex,subjCode.trim(),FG.trim(),Ew,"");D3("<b>Change grading option and/or units</b><br />");}function AX(Ew){var E7=(Ew.data.enStatus=="EN")?true:false;var E8=Ew.data.sectionHead;var FF="";var Ex=false;var E1=undefined;var FB=CW.match(/^S1/i);var E9=CW.match(/^S2/i);if(E7&&BJ&&CM<=1){var E2="20"+CW.substring(2,4);E2=E2-1;var FB=CW.match(/^S1/i);var E9=CW.match(/^S2/i);Ag(E2,function(FH){$.each(FH,function(FI,FJ){if(undefined==E1){if(undefined!=FJ.ERR_MSG){E1=FJ.ERR_MSG;}}if(FB){if((FJ.AIDID.match(/^\s*DLS|^\s*DLU|^\s*DLG|^\s*DLP|^\s*DLX/i)&&"AA"==FJ.HOLD01)||FJ.AIDID.match(/^\s*PGS3|^\s*GS3|^\s*CA3R|^\s*CC3F|^\s*GGS3|^\s*CC3S|^\s*GPM3/i)){Ex=true;return false;}}else{if(E9){if((FJ.AIDID.match(/^\s*DLS|^\s*DLU|^\s*DLG|^\s*DLP|^\s*DLX/i)&&"BB"==FJ.HOLD02)||FJ.AIDID.match(/^\s*PGS7|^\s*GS7|^\s*CA7R|^\s*CC7F|^\s*GGS7|^\s*CC7S|^\s*SAG7|^\s*SAGG|^\s*GPM7/i)){Ex=true;return false;}}}});});}var E5="";var FD=[];var E0=$("#list-id-table");var FA=E0.jqGrid("getDataIDs");for(var FE=0;FE<FA.length;FE++){var E4=FA[FE];rowData=E0.jqGrid("getRowData",E4);if(rowData.colstatus.match(/plan/i)){continue;}if(undefined!=rowData.PB_FRIEND&&"true"==rowData.PB_FRIEND){continue;}if(rowData.SECTION_HEAD==E8){E5=CS(rowData.FK_CDI_INSTR_TYPE);if(undefined==E5||E5.trim()==""){E5=rowData.FK_CDI_INSTR_TYPE;}var Ey={key0:rowData.colsubj,key1:rowData.CRSE_TITLE,key2:E5,key3:rowData.DAY_CODE,key4:rowData.coltime,key5:rowData.SUBJ_CODE,key6:rowData.CRSE_CODE,key7:Ac(rowData.GRADE_OPTION),key8:rowData.SECT_CREDIT_HRS,key9:rowData.SECT_CODE};FD.push(Ey);}}if(Ex){var Ev="FAIL: Attempting to drop the last summer class for financial student.";var Ez="<div class='msg error'><h4>Request Unsuccessful</h4><span>"+Ev+"</span></div>";if(undefined!=E1){Ev="FAIL: "+E1;Ez="<div class='msg error'><h4>Request Unsuccessful</h4><span>"+E1+"</span></div>";}var FC=E7?Bq:M;By(E8,FD[0].key5,FD[0].key6,FC,Ev);var E6=$("#dialog-after-action").dialog("open");E6.dialog("option","buttons",O);E6.dialog("option","actionevent",Ez);D3(Ez);return;}if((FB||E9||X)&&CJ(E8)){var Ev=C8[E8].message;var Ez="<div class='msg error'><h4>Request Unsuccessful</h4><span>"+Ev+"</span></div>";Ev="FAIL: "+Ev;var FC=E7?Bq:M;By(E8,FD[0].key5,FD[0].key6,FC,Ev);var E6=$("#dialog-after-action").dialog("open");E6.dialog("option","buttons",O);E6.dialog("option","actionevent",Ez);D3(Ez);return;}if(E7){CG(E8,function(FH){if("Y"==FH.WARN_DROP){FF=FH.MSG;}});}var E3=$("#dialog-confirm-drop").dialog("open");E3.dialog("option","subjcrse",FD[0].key0);E3.dialog("option","subjcode",FD[0].key5);E3.dialog("option","crsecode",FD[0].key6);E3.dialog("option","stitle",FD[0].key1);E3.dialog("option","section",E8);E3.dialog("option","isenroll",E7);$("#diagdrop-class-table-subj").empty();$("#diagdrop-class-table-title").empty();$("#diagdrop-class-table-grade-p").empty();$("#diagdrop-class-table-unit-p").empty();$("#diagdrop-class-table-code").empty();$("#diagdrop-class-table-type").empty();$("#diagdrop-class-table-days").empty();$("#diagdrop-class-table-time").empty();$(".diagdrop-class-table-no1234").empty();$("#diagdrop-class-table-subj").text(FD[0].key0);$("#diagdrop-class-table-title").text(FD[0].key1);$("#diagdrop-class-table-grade-p").text(FD[0].key7);$("#diagdrop-class-table-unit-p").text(FD[0].key8);$("#diagdrop-class-table-code").text(FD[0].key9);$("#diagdrop-class-table-type").text(FD[0].key2);$("#diagdrop-class-table-days").text(FD[0].key3);$("#diagdrop-class-table-time").text(FD[0].key4);var FG=$("#diagdrop-class-table");$(".diagdrop-class-table-extra-row").empty();$.each(FD.slice(1),function(FI,FJ){var FH='<tr class="diagdrop-class-table-extra-row diagdrop-class-table-no1234" >';FG.append(FH+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+"<td>"+FJ.key9+"</td>"+"<td>"+FJ.key2+"</td>"+"<td>"+FJ.key3+"</td>"+"<td>"+FJ.key4+"</td>"+"</tr>");});if(E7){By(E8,FD[0].key5,FD[0].key6,Bq,FF);Dw("<div class='msg error'><h4>You are about to drop this class.</h4>"+FF+"<b>You will be dropped from all components of this class.<br />Are you sure you would like to drop this class?</b></div>");}else{By(E8,FD[0].key5,FD[0].key6,M,"");Dw("<div class='msg error'><h4>You are about to drop this wait-listed class.</h4><b>You will be dropped from all components of this class.<br />Are you sure you would like to drop this class?</b></div>");}}function CJ(Ex){var Ev=false;if(C8.hasOwnProperty(Ex)){Ev=C8[Ex].flag;}else{var Ew="";C8[Ex]={};BP(Ex,function(Ey){if(Ey.ACAD_INTEGRITY_FL=="X"){Ev=true;C8[Ex].message=Ey.ERROR_MESSAGE;}});C8[Ex].flag=Ev;}return Ev;}function Bx(Ey,Ez,Ev){var E1=$("#list-id-table");var Ex=E1.jqGrid("getDataIDs");for(var Ew=0;Ew<=Ex.length;Ew++){var E0=Ex[Ew];rowData=E1.jqGrid("getRowData",E0);if(rowData.SECTION_HEAD==Ey){if(rowData["GRADE_OPTION"].trim()!=""){E1.jqGrid("setCell",E0,"GRADE_OPTION",DC(Ez),"",{"title":Ac(Ez)});E1.jqGrid("setCell",E0,"SECT_CREDIT_HRS",Ev);}}}}function CS(Ew){var Ev;switch(Ew){case"LE":Ev="Lecture";break;case"DI":Ev="Discussion";break;case"LA":Ev="Lab";break;case"IN":Ev="Independent Study";break;case"SE":Ev="Seminar";break;case"AC":Ev="Activity";break;case"CL":Ev="Clinical Clerkship";break;case"CN":Ev="Clinic";break;case"CO":Ev="Conference";break;case"FW":Ev="Fieldwork";break;case"IT":Ev="Internship";break;case"OP":Ev="Outside Preparation";break;case"PR":Ev="Practicum";break;case"SA":Ev="Study Abroad";break;case"SI":Ev="Simultaneous Enrlmnt-Other UC";break;case"ST":Ev="Studio";break;case"TU":Ev="Tutorial";break;case"FI":Ev="Final Exam";break;case"MI":Ev="Midterm";break;case"FM":Ev="Film Sessions";break;case"PB":Ev="Problem Sessions";break;case"OT":Ev="Other Sessions";break;case"RE":Ev="Review Sessions";break;case"MU":Ev="Make-up Sessions";break;default:Ev=Ew;}return Ev;}function Ac(Ew){var Ev;switch(Ew){case"L":Ev="Letter";break;case"P":Ev="Pass / No Pass";break;case"P/NP":Ev="Pass / No Pass";break;case"S":Ev="Satisfactory / Unsatisfactory";
break;case"S/U":Ev="Satisfactory / Unsatisfactory";break;case"H":Ev="Honors Pass / Fail";break;default:Ev=Ew;}return Ev;}function Dp(Ew){var Ev="";if(Ew.match(/lett/i)){Ev="L";}else{if(Ew.match(/pass/i)){Ev="P";}else{if(Ew.match(/sati/i)){Ev="S";}else{if(Ew.match(/hono/i)){Ev="H";}}}}return Ev;}function DC(Ew){var Ev;switch(Ew){case"P":Ev="P/NP";break;case"S":Ev="S/U";break;default:Ev=Ew;break;}return Ev;}function As(Ew){var Ev;switch(Ew){case"P/NP":Ev="P";break;case"S/U":Ev="S";break;default:Ev=Ew;break;}return Ev;}function CC(Ez,Ew){var Ey="";var Ev='<span id="checkText">'+Ey+"</span>";var Ex=0;while(Ev.width()<Ew){Ey+=entry.slice(Ex,Ex+1);Ev='<span id="checkText">'+Ey+"</span>";Ex++;}return Ev;}function EE(Ev){var Ew="";if(/1/.test(Ev)){Ew=Ew+"M";}if(/2/.test(Ev)){Ew=Ew+"Tu";}if(/3/.test(Ev)){Ew=Ew+"W";}if(/4/.test(Ev)){Ew=Ew+"Th";}if(/5/.test(Ev)){Ew=Ew+"F";}if(/6/.test(Ev)){Ew=Ew+"Sa";}if(/7/.test(Ev)){Ew=Ew+"Su";}return Ew;}function Q(Ev,Ex,Ew){var E0=Ev.split("-");var Ez=("0"+Ex).slice(-2);var Ey=("0"+Ew).slice(-2);return new Date(E0[0],(E0[1]-1),E0[2],Ez,Ey).getTime();}function EF(Ev){if(":"==Ev){return"TBA";}return Cm(Ev).replace(/p$/," .p.m").replace(/a$/," a.m.");}function CU(Ev){if(":"==Ev){return"TBA";}return Cm(Ev).replace(/p$/," p.m. PT").replace(/a$/," a.m. PT");}function Cm(E0){if(undefined==E0){return"TBA";}var Ew="";var Ey="";if(-1==E0.indexOf(":")){Ew=E0.substring(0,2);Ey=String("0"+E0.substring(2)).slice(-2);}else{var Ev=E0.split(":");Ew=Ev[0];Ey=String("0"+Ev[1]).slice(-2);}var Ex="a";var Ez="";if(Ew>12){Ex="p";Ew=Ew-12;}else{if(Ew==12){Ex="p";}}Ez=Ew+":"+Ey+Ex;return Ez;}function D0(Ey){if(""==Ey||undefined==Ey){return"";}var Ew=Ey.substr(0,Ey.length-2);var Ex=Ey.substr(Ey.length-2).toLowerCase();var Ev=Ew.split(":");if("pm"==Ex&&Ev[0]!="12"){Ev[0]=Number(Ev[0])+12;}Ev[0]=String("0"+Ev[0]).slice(-2);return Ev[0]+""+Ev[1];}function I(Ev,Ex,Ew,Ez){var E1="TBA";var Ey=Ev+":"+Ex;var E0=Ew+":"+Ez;Ey=Cm(Ey);E0=Cm(E0);if(Ev==0&&Ex==0&&Ew==0&&Ez==0){E1="TBA";}else{E1=Ey+"-"+E0;}return E1;}function Aw(Ew){if(null==Ew||undefined==Ew){return"TBA";}var Ev=Ew.split("/");Ev[0]=String("0"+Ev[0]).slice(-2);Ev[1]=String("0"+Ev[1]).slice(-2);return Ev[2]+"-"+Ev[0]+"-"+Ev[1];}function Av(Ew){if(null==Ew||undefined==Ew){return"TBA";}var Ev=Ew.split("-");Ev[1]=String("0"+Ev[1]).slice(-2);Ev[2]=String("0"+Ev[2]).slice(-2);return Ev[1]+"/"+Ev[2]+"/"+Ev[0];}function Au(Ew){if(null==Ew||undefined==Ew){return"TBA";}var Ev=Ew.split("-");Ev[1]=String("0"+Ev[1]).slice(-2);var Ex=Ev[1];switch(Ev[1]){case"01":Ex="January";break;case"02":Ex="February";break;case"03":Ex="March";break;case"04":Ex="April";break;case"05":Ex="May";break;case"06":Ex="June";break;case"07":Ex="July";break;case"08":Ex="August";break;case"09":Ex="September";break;case"10":Ex="October";break;case"11":Ex="November";break;case"12":Ex="December";break;}return Ex+" "+Ev[2]+" "+Ev[0];}function CZ(Ex){if(null==Ex||undefined==Ex){return"TBA";}var Ez=Ex.replace(/\D/g,"");var E2=Ez.substr(0,4);var E0=Ez.substr(4,2);E0=E0-1;var Ev=Ez.substr(6,2);var Ey=new Date();Ey.setFullYear(E2,E0,Ev);var E1=Ey.getDay();var Ew="";switch(E1){case 0:Ew="Sunday";break;case 1:Ew="Monday";break;case 2:Ew="Tuesday";break;case 3:Ew="Wednesday";break;case 4:Ew="Thursday";break;case 5:Ew="Friday";break;case 6:Ew="Saturday";break;default:Ew=E1.toString();}return Ew;}function K(Ex){var Ey=Ex.substr(1,1);var Ev=Ex.substr(2,2);var Ez=Ex.substr(4,2);var Ew=A(Ey);return new Date(Ew[0],Ew[1],Ew[2],Ev,Ez);}function A(Ey){var Ew=Eh;if(0==Eh){Ew=7;}var Ex=Ew-Ey;var Ev=Ec-Ex;return[ET,EY,Ev];}function D3(Ev){var Ew=$(".dialog-tip-class");Ew.html(Ev);}function DQ(Ev){var Ew=$(".dialog-tip-class-2");Ew.html(Ev);}function Dw(Ev){var Ew=$(".dialog-tip-class-alert");Ew.html(Ev);}function t(Ev){var Ew=$(".dialog-tip-class-2");Ew.html("");}function DO(){$(".dialog-tip-class").empty();}function AI(Ev){$("#wr-search-notice-msg").html("<b>"+Ev+"</b>");$("#wr-search-notice").show();}function CF(Ev){$("#search-pager-dropdown").hide();$("#search-pager-dropdown-header").hide();$("#search-pager").empty();$("#search-pager").hide();AI(Ev);}function BE(Ey){var Ew=window.location.search.substring(1);var Ev=Ew.split("&");for(var Ex=0;Ex<Ev.length;Ex++){var Ez=Ev[Ex].split("=");if(Ez[0]==Ey){return Ez[1];}}}function BM(Ex){var Ey=Ex.split("-");if(Ey.length>1){var Ew=BM(Ey[1]);if(Ew.match(/[A-Za-z]+/)===null){Ew+="ZZ";}return BM(Ey[0])+"-"+BM(Ew);}var Ev=Ex.replace(/[^0-9]|\s/g,"");var Ez=Ex.replace(/[0-9]|\s/g,"");Ev=String("   "+Ev).slice(-3);Ex=Ev+Ez;return Ex;}function AZ(E3,Ex,E2,Ez,Ey){var E1=(Ex.toString().match(/^[1-9]/)||Ex=="<b>")?true:false;var Ew=("Y"==E2)?true:false;var Ev=false;var E4=false;var E0=false;var E5=false;if(undefined!=Dr&&Dr.length>0){$.each(Dr,function(E6,E7){if(E7.SUBJ_CODE.trim()==Ez.trim()&&E7.CRSE_CODE.trim()==Ey.trim()){if(undefined!=E7.SECTION_NUMBER&&E3!=E7.SECTION_NUMBER){return;}if("AL"==E7.OVERRIDE_TYPE_1||"AL"==E7.OVERRIDE_TYPE_2||"AL"==E7.OVERRIDE_TYPE_3){E4=true;}if("EL"==E7.OVERRIDE_TYPE_1||"EL"==E7.OVERRIDE_TYPE_2||"EL"==E7.OVERRIDE_TYPE_3){E0=true;}if("SE"==E7.OVERRIDE_TYPE_1||"SE"==E7.OVERRIDE_TYPE_2||"SE"==E7.OVERRIDE_TYPE_3){E5=true;}}});}if(E4){return true;}if(E0){E1=true;}if(E5){Ew=false;}if(E1&&!Ew){return true;}else{return false;}}function EI(){d();BD();AJ();DH();A1();Ax();Ah();CK();}function BV(){A1();DH();}function CK(){c();Bw();C7();}function BD(){AL();B0();EU();}function EU(){if(Cn.length>0||D6.length>0){$(".wr-schedule-conflict-header").html((Cn.length+D6==1)?DG:Ds);$(".wr-schedule-conflict").html("<ul>");$.each(Cn,function(Ev,Ew){$(".wr-schedule-conflict").append("<li>"+Ew[0].SUBJ_CODE.trim()+" "+Ew[0].CRSE_CODE.trim()+((Ew[0].FK_CDI_INSTR_TYPE=="MI")?" Midterm":"")+" and "+Ew[1].SUBJ_CODE.trim()+" "+Ew[1].CRSE_CODE.trim()+((Ew[1].FK_CDI_INSTR_TYPE=="MI")?" Midterm":"")+"</li>");});$.each(D6,function(Ev,Ew){$(".wr-schedule-conflict").append("<li>"+Ew[0].SUBJ_CODE.trim()+" "+Ew[0].CRSE_CODE.trim()+" Final and "+Ew[1].SUBJ_CODE.trim()+" "+Ew[1].CRSE_CODE.trim()+" Final</li>");
});$(".wr-schedule-conflict").append("</ul>");$("#wr-conflict-alert-box-id-div").show();$("#wr-conflict-alert-box-id-div-print").addClass("print-conflicts");}else{$("#wr-conflict-alert-box-id-div").hide();$("#wr-conflict-alert-box-id-div-print").removeClass("print-conflicts");}}function C7(){if(G){$("#wr-finals-alert-box-id-div").show();}else{$("#wr-finals-alert-box-id-div").hide();}}function C2(){d();BD();AJ();CK();}function B7(){d();BD();A1();Ax();CK();}function Be(){d();BD();Ah();CK();}function A0(Ew){var Ev=false;var Ex=false;if(undefined!=Bp[Ew]){Ev=Bp[Ew][0];Ex=Bp[Ew][1];}else{Bp[Ew]=[];Bp[Ew].length=0;Bl(Ew,function(Ey){if("SUCCESS"==Ey.OPS){if("YES"==Ey.GRADE){Ev=true;Bp[Ew][0]=true;}else{Bp[Ew][0]=false;}if("YES"==Ey.UNIT){Ex=true;Bp[Ew][1]=true;}else{Bp[Ew][1]=false;}}});}return[Ev,Ex];}function BT(Ew,Ev){Dl(Ew,Ev,function(E0){if(E0.length>1){var Ez=$("#dialog-multi-level").dialog("open");Ez.dialog("option","termCode",Ew);Ez.dialog("option","seqId",Ev);var Ex=$("#dialog-multi-level-div");Ex.empty();Ex.append("<select id='dialog-multi-level-select' style='text-algin:left'></select>");var Ey=$("#dialog-multi-level-select");$.each(E0,function(E2,E3){var E4=E3.ACADEMIC_LEVEL;switch(E3.ACADEMIC_LEVEL){case"UN":E4="Undergraduate";break;case"GR":E4="Graduate";break;case"PH":E4="Doctoral";break;case"MD":E4="Medical";break;}Ey.append($("<option></option>").val(E3.ACADEMIC_LEVEL).html(E4));});$("#dialog-multi-level-tip").html("<b>Please select an academic level:</b>");return;}else{if(undefined!=E0[0].ERROR_MESSAGE){DL("<div class='msg error'><h4>Alert:</h4><span>"+E0[0].ERROR_MESSAGE+"</span></div>");Ef(Ew,E0[0].ERROR_MESSAGE);}else{var E1=E0[0].ACADEMIC_LEVEL;B5(Ew,E1,Ev);}}});}function B5(Ew,Ex,Ev){x(Ew,Ev,true,function(Ez){if("SUCCESS"==Ez.OPS){Al(function(E2){var E4=E2.WARN_MSG;if(undefined!=E4&&""!=E4.trim()){var E1={"p1":Ew,"p2":Ex,"p4":Ev};var E3=$.param(E1);window.location.replace("/webreg2/start?"+E3);}else{var E1={"p1":Ew,"p2":Ex};var E3=$.param(E1);window.location.replace("/webreg2/main?"+E3);}});}else{var Ey={"p1":Ew,"p2":Ex,"p4":Ev};var E0=$.param(Ey);window.location.replace("/webreg2/start?"+E0);}});}function r(){$("#msg-preauth").empty();$.each(Dr,function(E2,E4){var Ew=E4.SUBJ_CODE;var Ev=E4.CRSE_CODE;var E1=E4.SECTION_NUMBER;var E0=E4.OVERRIDE_TYPE_1;var Ez=E4.OVERRIDE_TYPE_2;var Ey=E4.OVERRIDE_TYPE_3;if(null==Ew||null==Ev||undefined==Ew||undefined==Ev){return;}if(E0!="LA"&&Ez!="LA"&&Ey!="LA"){return;}var Ex="";if(undefined!=E1&&E1.toString().match(/^\d+$/)){Ex=", SECTION "+E1;}if(BI(undefined,Ew,Ev,"ENWT")[0]){return;}var E5="";if(E2>0){E5="<br>";}var E3="YOU HAVE BEEN PREAUTHORIZED TO ENROLL in "+Ew+Ev.trim()+Ex;$("#msg-preauth").append(E5+'<span id="preauthid_'+E2+'"><a href="#">'+E3+"</a></span>");$("#preauthid_"+E2).click(function(){D4(Ew,Ev,E1);});});}function BI(E1,Ex,Ev,Ez){var E3=[false,null];var E2=(undefined==Ex||undefined==Ev)?true:false;switch(Ez){case"ENWT":var Ew="EN|WT";break;case"PL":var Ew="PL";break;case"EN":var Ew="EN";break;case"WT":var Ew="WT";break;case"ALL":var Ew="EN|WT|PL";break;}var Ey=new RegExp(Ew);if(undefined!=E1&&!E1.toString().match(/^\s*\d{6}\s*$/)){var E0=E1.split("\n")[0];E1=E0.replace(/^.*(\d{6}).*$/,"$1").trim();}if(E2){if(undefined!=Cy[E1]){if("ALL"==Ez){E3[0]=true;E3[1]=Cy[E1];}else{if(Cy[E1].match(Ey)){E3[0]=true;}}}}else{$.each(V,function(E4,E5){Ex=Ex.trim();Ev=Ev.trim();if(E5.SUBJ_CODE.trim()==Ex&&E5.CRSE_CODE.trim()==Ev&&E5.ENROLL_STATUS.match(Ey)){E3[0]=true;return false;}});}return E3;}function Ej(E3,Ew,Ev,E1){var Ex={};Ex["key0"]=Number(E3).toFixed(2);var E0=E3;var Ez="";var E2=(Ew-E3)*(1/Ev);for(var Ey=0;Ey<=E2;Ey++){if(Number(E0)==Number(E1)){Ez="key"+Ey;}E0=E0+Ev;if(E0>Ew){break;}Ex["key"+(Ey+1)]=Number(E0).toFixed(2);}return{ob1:Ez,ob2:Ex};}var D7={step:"15",minTime:"7:00am",maxTime:"10:00pm",useSelect:true,noneOption:"none",showOnFocus:true};$("#dialog-multi-level").dialog({autoOpen:false,maxWidth:600,position:{my:"center",at:"center",of:window},height:"auto",width:600,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){$(this).dialog("close");}},Confirm:{text:"Go",click:function(){$(this).dialog("close");var Ex=$("#dialog-multi-level-select option:selected").val();var Ew=$(this);var Ev=Ew.dialog("option","seqId");BB(Ex,Ev,function(Ez){if(undefined!=Ez.ERROR_MESSAGE){DL("<div class='msg error'><h4>Alert:</h4><span>"+Ez.ERROR_MESSAGE+"</span></div>");}else{var Ey=Ew.dialog("option","termCode");B5(Ey,Ex,Ev);}});return;}}}});$("#dialog-msg").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});$("#dialog-msg-appttime").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});$("#dialog-msg-small-redirect").dialog({autoOpen:false,maxWidth:600,position:{my:"center",at:"center",of:window},height:"auto",width:500,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");window.location="/webreg2";}}}});$("#dialog-msg-small").dialog({autoOpen:false,maxWidth:600,position:{my:"center",at:"center",of:window},height:"auto",width:500,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});$("#dialog-msg-appt").dialog({autoOpen:false,maxWidth:900,position:{my:"center",at:"center",of:window},height:"auto",width:900,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});var O=[{text:"Close",id:"dialog-after-action-close",click:function(){$(this).dialog("close");return;}},{text:"Send Me Email Confirmation",id:"dialog-after-action-email",click:function(){$(this).dialog("close");
var Ev=$(this).dialog("option","actionevent");EL(Ev,function(Ew){var Ex="";if("YES"==Ew.SUCCESS){Ex="<div class='msg confirm'><h4>Email Sent Successfully</h4><span>Mail sent to "+Ew.MAIL_ADDR+"</span></div>";}else{if(undefined!=Ew.REASON){Ex="<div class='msg error'><h4>Email Sent Unsuccessfully</h4><span>"+Ew.REASON+"</span></div>";}else{Ex="<div class='msg error'><h4>Email Sent Unsuccessfully</h4><span>Your confirmation email was unable to be sent.</span></div>";}}$("#dialog-msg").dialog("open");D3(Ex);return;});}}];$("#dialog-after-action").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:O});$("#dialog-restrictions").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});$("#dialog-prereqs").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",maxHeight:500,width:800,modal:true,closeOnEscape:false,buttons:{but1:{text:"Close",id:"dialog-msg-close",click:function(){$(this).dialog("close");}}}});$("#dialog-confirm-drop").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{but1:{text:"Cancel",click:function(){$(this).dialog("close");return;}},but2:{text:"Drop",click:function(){$(this).dialog("close");var E2=$(this).dialog("option","section");var Ex=$(this).dialog("option","isenroll");var E1=$(this).dialog("option","subjcrse");var Ey=$(this).dialog("option","subjcode");var Ew=BM($(this).dialog("option","crsecode"));var Ev=$(this).dialog("option","stitle");var E3=Ey.toString().trim();var Ez=Ew.toString().trim();var E0=Ev.toString().trim();crseCodeWellForm=BM(Ew);CN(Ex,E2,Ey,crseCodeWellForm,function(E7){var E9="";if("SUCCESS"==E7.OPS){EI();r();if(Ex){E9="<div class='msg confirm'><h4>Request Successful</h4><span>Dropped "+Ey.trim()+" "+Ew.trim()+" "+E0+", Section "+E2+".</span></div>";}else{E9="<div class='msg confirm'><h4>Request Successful</h4><span>Dropped wait-listed class "+Ey.trim()+" "+Ew.trim()+" "+E0+", Section "+E2+".</span></div>";}if(Eo[0].grid){if(undefined!=BU){A9[BU]=$.extend(true,[],AV);var E6=false;var E4=new RegExp(E2);$.each(A9,function(FA,FB){if(undefined==FB||0==FB.length){return;}var FC=undefined;$.each(FB,function(FD,FE){if(!E6&&undefined!=FE.SECTION_NUMBER&&FE.SECTION_NUMBER.toString().match(E4)){if(undefined!=FE.colaction&&!FE.colaction.match(/^\s*$/)){FE.colaction=FE.colaction.replace(/disableSBSectionClass/g," ");}if(!Ex){if(undefined!=FE.COUNT_ON_WAITLIST){FE.COUNT_ON_WAITLIST=FE.COUNT_ON_WAITLIST.toString().replace(/\d+/g,function(FG){var FF=Number(FG)-1;if(FF<0){FF=0;}return FF;});}}if(undefined!=FE.AVAIL_SEAT){if(FE.AVAIL_SEAT.toString().match(/^\s*\d+\s*$/)){if(Ex){FE.AVAIL_SEAT=FE.AVAIL_SEAT+1;FC.colaction=FC.colaction.replace(/Waitlist/i,"Enroll");FC.colaction=FC.colaction.replace(/search-wait-id-/,"search-enroll-id-");}E6=true;}}}if(FE.SUBJ_CODE==E3&&FE.CRSE_CODE==Ez){if(BI(FE.SECTION_NUMBER,undefined,undefined,"ALL")[0]){return;}if(undefined!=FE.colaction&&!FE.colaction.match(/^\s*$/)){FE.colaction=FE.colaction.replace(/disableSBEnWtClass/g," ");FE.colaction=FE.colaction.replace(/disableSBEnClass/g," ");FE.colaction=FE.colaction.replace(/disableSBWtClass/g," ");FE.colaction=FE.colaction.replace(/disableSBSectionClass/g," ");}}FC=FE;});});EV(BU,false,false);}}}else{var E8="";if(undefined!=E7.REASON){E8=E7.REASON;}if(Ex){E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to drop "+E1.trim()+", Section "+E2+".  "+E8+"</span></div>";}else{E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to drop wait-listed class "+E1.trim()+", Section "+E2+".  "+E8+"</span></div>";}}var E5=$("#dialog-after-action").dialog("open");E5.dialog("option","buttons",O);E5.dialog("option","actionevent",E9);D3(E9);});return;}}}});$("#dialog-class").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){$(this).dialog("close");}},Confirm:{text:"Confirm",click:function(){$(this).dialog("close");var E1=$("#diagclass-class-table-grade option:selected").val();var E8=$("#diagclass-class-table-unit option:selected").text();if(undefined==E1||E1.trim()==""){E1=As($("#diagclass-class-table-grade-p").text());}if(undefined==E8||E8.trim()==""){E8=$("#diagclass-class-table-unit-p").text();}var E2=$(this).dialog("option","oldgrade");var E6=$(this).dialog("option","oldunit");var E0=$(this).dialog("option","subjcode");var Ex=$(this).dialog("option","crsecode");var E5=E0+Ex;var Ev=$(this).dialog("option","stitle");var Ew=$(this).dialog("option","isenroll");var Ez=$(this).dialog("option","gradeenable");var Ey=$(this).dialog("option","unitenable");var E3=false;if(!Ez&&!Ey){E3=true;}else{if(Ez&&(E1!=As(E2))){E3=true;}else{if(Ey&&(E8!=E6)){E3=true;}}}if(!E3){$("#dialog-msg").dialog("open");var E4="<div class='msg error'><h4>Request Unsuccessful</h4><span>No change of information was requested for "+E5.trim()+": "+Ev.trim()+".</span></div>";D3(E4);return;}var E7=$(this).dialog("option","section");E8=Number(E8).toFixed(2);Bk(Ew,E7,E0,Ex,E1,E8,As(E2),E6,function(FD){var FF="";var FA="units from "+E6+" to "+E8+" for "+E5.trim()+", Section "+E7;var FC="grade option from "+Ac(E2)+" to "+Ac(E1)+" for "+E5.trim()+", Section "+E7;if(undefined==E8||E8.match(/^\s*$/)||E6==E8){FA="";}if(undefined==E1||E1.match(/^\s*$/)||Ac(E2)==Ac(E1)){FC="";}var E9="";if(FA!=""&&FC!=""){FA="units from "+E6+" to "+E8+" and ";E9=FA+FC;}else{if(FA!=""){E9=FA;}else{E9=FC;}}if("SUCCESS"==FD.OPS){Bx(E7,E1,E8);B7();FF="<div class='msg confirm'><h4>Request Successful</h4><span>Changed "+E9+".</span></div>";}else{var FE="";if(undefined!=FD.REASON||"null"==FD.REASON){FE=FD.REASON;
}FF="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to change "+E9+".<br /><br />"+FE+"</span></div>";}var FB=$("#dialog-after-action").dialog("open");FB.dialog("option","buttons",O);FB.dialog("option","actionevent",FF);D3(FF);});return;}}}});var DS=undefined;$.address.externalChange(function(Ex){var Ew=Ex.value.substring(1);if(undefined!=DS){if("tabs"==DS.substring(0,4)&&"tabs"==Ew.substring(0,4)){var Ev=Ew.substring(5,6);$("#tabs").tabs({active:Ev});}}DS=Ew;});var DK=0;var Cc=undefined;if("#"!=BR){var BR=window.location.hash;Cc=BR.substring(6,7);}if(undefined==Cc||!Cc.toString().match(/^\d$/)){Cc=DK;}window.location.hash="tabs-"+Cc;$("#tabs").tabs({active:Cc,activate:function(Ew,Ex){var Ev=$("#tabs").tabs("option","active");window.location.hash="tabs-"+Ev;Cc=Ev;if(Ev==1){$("#calendar-id").fullCalendar("render");$("#print-title").text(w+" - Calendar");}else{if(Ev==2){$("#finalcal-id").fullCalendar("render");$("#print-title").text(w+" - Finals");}else{$("#print-title").text(w);}}}});var w="";BW(function(Ew){w=Ew+" - "+Ab;$("#print-title").text(w);if("#"!=BR){var Ev=BR.substring(6,7);if(Ev==1){$("#print-title").text(w+" - Calendar");}else{if(Ev==2){$("#print-title").text(w+" - Finals");}}}});var CE=true;Ep(function(Ev){if("NO"==Ev.DISPLAY){CE=false;}});if(Eq){Ca("992556",function(Ev){if(undefined!=Ev.KEY){$("#msg-hold").html(Ev.KEY);}});}var Cb=undefined;if("UN"==CV){Cb="http://students.ucsd.edu/go/enroll-checklist-ug";$("#enrollment-info-link").attr("href",Cb);}else{if("GR"==CV){Cb="http://students.ucsd.edu/go/enroll-checklist-grad";$("#enrollment-info-link").attr("href",Cb);}else{$("#enrollment-info-link").remove();$("#enrollment-info-link-bar").remove();}}var D9=undefined;var DV=undefined;function H(){Bj(function(FG){if(FG.APPT_TIMER!=""){if(FG.APPT_TIMER>=0){Df(FG.APPT_TIMER);}else{if(EZ){x(CW,B2[CW],false,function(FI){window.clearTimeout(BF);if("SUCCESS"==FI.OPS){Eq=false;EZ=false;AT=false;C0=true;EC(function(FJ){if(undefined!=FJ.ELIG_FLAGS){if(1==FJ.ELIG_FLAGS.toString().charAt(0)){Eq=true;}if(1==FJ.ELIG_FLAGS.toString().charAt(1)){EZ=true;}if(Eq||EZ){AT=true;}}});C(function(FJ){if(undefined!=FJ.GOT_NO_FTYPE){if(FJ.GOT_NO_FTYPE){C0=false;}}});if(!EZ){$("#dialog-msg-appttime").dialog("open");s();}}});}}}DV=FG.COLLEGE_CODE;if("NO"==FG.DISPLAY){return;}var E3=false;if(null!=FG.FIRST_BEGIN_DATE){E3=true;}var E4=false;if(null!=FG.SECOND_BEGIN_DATE){E4=true;}var FC="First Pass";var E8="Second Pass";if(E3||E4){D9='<table id="dialog-msg-appt-table" ><tbody>';}if(E3&&E4){var FB=CZ(FG.FIRST_BEGIN_DATE);var Ey=CZ(FG.FIRST_END_DATE);var Ex=Av(FG.FIRST_BEGIN_DATE);var FF=Av(FG.FIRST_END_DATE);var E6=CU(FG.FIRST_BEGIN_HOUR+":"+FG.FIRST_BEGIN_MIN);var E1=CU(FG.FIRST_END_HOUR+":"+FG.FIRST_END_MIN);var FH=Q(FG.FIRST_END_DATE,FG.FIRST_END_HOUR,FG.FIRST_END_MIN);if(B6>FH){FC=FC+" (Not Active)";}var E7=FB+", <span>"+Ex+"</span> "+E6;var FD=Ey+", <span>"+FF+"</span> "+E1;var E9=CZ(FG.SECOND_BEGIN_DATE);var Ew=CZ(FG.SECOND_END_DATE);var FE=Av(FG.SECOND_BEGIN_DATE);var Ev=Av(FG.SECOND_END_DATE);var E0=CU(FG.SECOND_BEGIN_HOUR+":"+FG.SECOND_BEGIN_MIN);var E2=CU(FG.SECOND_END_HOUR+":"+FG.SECOND_END_MIN);var Ez=Q(FG.SECOND_END_DATE,FG.SECOND_END_HOUR,FG.SECOND_END_MIN);if(B6>Ez){E8=E8+" (Not Active)";}var E5=E9+", <span>"+FE+"</span> "+E0;var FA=Ew+", <span>"+Ev+"</span> "+E2;D9=D9+" "+"<tr>"+' <td style="font-weight:bold; ">'+" <span>"+FC+"</span>"+" </td>"+' <td style=" font-weight:bold; ">'+" <span>"+E8+"</span>"+" </td>"+" </tr>"+"<tr>"+"<td><span>Start date/time: "+E7+"</span></td>"+"<td><span>Start date/time: "+E5+"</span></td>"+"</tr>"+"<tr>"+"<td><span>End date/time: "+FD+"</span></td>"+"<td><span>End date/time: "+FA+"</span></td>"+"</tr>";}else{if(E3&&!E4||!E3&&E4){if(E3){var FB=CZ(FG.FIRST_BEGIN_DATE);var Ey=CZ(FG.FIRST_END_DATE);var Ex=Av(FG.FIRST_BEGIN_DATE);var FF=Av(FG.FIRST_END_DATE);var E6=CU(FG.FIRST_BEGIN_HOUR+":"+FG.FIRST_BEGIN_MIN);var E1=CU(FG.FIRST_END_HOUR+":"+FG.FIRST_END_MIN);var FH=Q(FG.FIRST_END_DATE,FG.FIRST_END_HOUR,FG.FIRST_END_MIN);if(B6>FH){D9=D9+" "+"<tr>"+' <td style="font-weight:bold; ">'+" <span>Not Active</span>"+" </td>"+" </tr>";}var E7=FB+", <span>"+Ex+"</span> "+E6;var FD=Ey+", <span>"+FF+"</span> "+E1;D9=D9+" "+"<tr>"+"<tr>"+"<td><span>Start date/time: "+E7+"</span></td>"+"</tr>"+"<tr>"+"<td><span>End date/time: "+FD+"</span></td>"+"</tr>";}else{var E9=CZ(FG.SECOND_BEGIN_DATE);var Ew=CZ(FG.SECOND_END_DATE);var FE=Av(FG.SECOND_BEGIN_DATE);var Ev=Av(FG.SECOND_END_DATE);var E0=CU(FG.SECOND_BEGIN_HOUR+":"+FG.SECOND_BEGIN_MIN);var E2=CU(FG.SECOND_END_HOUR+":"+FG.SECOND_END_MIN);var Ez=Q(FG.SECOND_END_DATE,FG.SECOND_END_HOUR,FG.SECOND_END_MIN);if(B6>Ez){D9=D9+" "+"<tr>"+' <td style="font-weight:bold; ">'+" <span>Not Active</span>"+" </td>"+" </tr>";}var E5=E9+", <span>"+FE+"</span> "+E0;var FA=Ew+", <span>"+Ev+"</span> "+E2;D9=D9+" "+"<tr>"+"<tr>"+"<td><span>Start date/time: "+E5+"</span></td>"+"</tr>"+"<tr>"+"<td><span>End date/time: "+FA+"</span></td>"+"</tr>";}}}if(E3||E4){D9=D9+"</tbody> </table>";}});}H();if("UN"==CV&&DV.trim()!="SS"){$("#msg-appt-link").click(function(){if(undefined==D9){$("#dialog-msg").dialog("open");D3("<p>An appointment time has not been assigned for you. New incoming students will receive separate notification of appointment times. Continuing and visiting students should call the Registrar's Office at  858-534-3150 to discuss their eligibility for an appointment time.</p>");}else{$("#dialog-msg-appt").dialog("open");D3(D9);}});}else{$("#msg-appt-link").remove();$("#msg-appt-link-bar").remove();}Aq(function(Ex){$("#wr-apptmsg-alert-box-id-div").hide();var Ev=Ex.STATUS;var Ew=Ex.MSG_APPT;if(undefined!=Ev){$("#msg-status").html(Ev);}if(undefined==D9){if(undefined!=Ew){Ew=Ew.replace(/<br>/gi,"");$("#msg-appt-alert").html(Ew);$("#wr-apptmsg-alert-box-id-div").show();}}});q(function(Ev){if("NO"==Ev.DISPLAY){return;}$("#msg-global").empty();$("#msg-global").html("* "+Ev.MSG);});$("#mainpage-select-term").change(function(){var Ex=$("#mainpage-select-term option:selected").val();
var Ew=(Ex.split(":::"))[0];var Ev=(Ex.split(":::"))[1];BT(Ev,Ew);});var CQ=true;var p=true;var BA=true;var Eu=false;AR(function(Ev){if(undefined!=Ev&&undefined!=Ev.WAITLIST_ABLE){CQ=Ev.WAITLIST_ABLE;}});if(!X){EN(function(Ev){$.each(Ev,function(Ew,Ex){p=Ex.EDITABLE;BA=Ex.DROPABLE;return false;});});}if("MD"==CV){Eu=true;}var Br=true;var AA=false;Ba(function(Ew){var Ex=Ew.START_DATE;var Ev=Ew.END_DATE;if(Ev!=""){Ev=Q(Ev,"23","59");if(B6<=Ev){Br=false;}if(Ex!=""){Ex=Q(Ex,"00","00");if(B6>=Ex&&B6<=Ev){AA=true;}}}});var V=null;var Cy={};function AQ(Ev){return JSON.parse(JSON.stringify(Ev));}function d(){if(null!=V){V.length=0;V=null;$.each(Cy,function(Ew,Ex){delete Ex;});Cy={};}var Ev=Br?null:EK;Bh(Ev,"","",function(Ew){V=Ew;});$.each(V,function(Ew,Ex){Cy[Ex.SECTION_HEAD]=Ex.ENROLL_STATUS;});}d();function AL(){Cn=[];Cn.length=0;var Ev=AQ(V);$.each(Ev,function(Ez,E2){if(undefined==E2.FK_CDI_INSTR_TYPE||E2.FK_CDI_INSTR_TYPE.match(/FI|FM|PB|RE|OT|MU/)){return;}var E1=String("0"+E2.BEGIN_HH_TIME).slice(-2)+String("0"+E2.BEGIN_MM_TIME).slice(-2);var Ex=String("0"+E2.END_HH_TIME).slice(-2)+String("0"+E2.END_MM_TIME).slice(-2);var Ey=E2.DAY_CODE;var E0=E2.FK_CDI_INSTR_TYPE;var Ew=String(E2.START_DATE).replace(/\-/g,"");var E3=String(E2.END_DATE).replace(/\-/g,"");if(E1.toString().match(/^0+$/)||Ew.toString().match(/TBA/i)){return;}$.each(Ev.slice(Ez+1),function(FA,E9){if(undefined==E9.FK_CDI_INSTR_TYPE||E9.FK_CDI_INSTR_TYPE.match(/FI|FM|PB|RE|OT|MU/)){return;}var E8=String("0"+E9.BEGIN_HH_TIME).slice(-2)+String("0"+E9.BEGIN_MM_TIME).slice(-2);var E5=String("0"+E9.END_HH_TIME).slice(-2)+String("0"+E9.END_MM_TIME).slice(-2);var E7=E9.DAY_CODE;var FB=E9.FK_CDI_INSTR_TYPE;var E6=String(E9.START_DATE).replace(/\-/g,"");var E4=String(E9.END_DATE).replace(/\-/g,"");if(E8.toString().match(/^0+$/)||E6.toString().match(/TBA/i)){return;}if(E2.SECTION_NUMBER==E9.SECTION_NUMBER){return;}if("MI"==E0&&"MI"==FB){if(Ew==E6){if(E1<E5&&E8<Ex){Do(E2,E9);return;}}return;}if(E2.PB_FRIEND&&E9.PB_FRIEND){return;}if("MI"==E0||"MI"==FB){if(Ey==E7&&E1<E5&&E8<Ex){Do(E2,E9);return;}}if(E2.PB_FRIEND||E9.PB_FRIEND){return;}if(Ey==E7&&E1<E5&&E8<Ex&&Ew<E4&&E6<E3){Do(E2,E9);return;}});});}AL();function Do(Ew,Ev){var Ex=false;if(Ew.FK_CDI_INSTR_TYPE=="MI"||Ev.FK_CDI_INSTR_TYPE=="MI"){Cn.push([Ew,Ev]);return;}$.each(Cn,function(Ey,Ez){if(Ez[0].SUBJ_CODE==Ew.SUBJ_CODE&&Ez[0].CRSE_CODE==Ew.CRSE_CODE&&Ez[0].FK_CDI_INSTR_TYPE!="MI"&&Ez[1].SUBJ_CODE==Ev.SUBJ_CODE&&Ez[1].CRSE_CODE==Ev.CRSE_CODE&&Ez[1].FK_CDI_INSTR_TYPE!="MI"){Ex=true;return false;}});if(!Ex){Cn.push([Ew,Ev]);}}function B0(){D6=[];D6.length=0;var Ev=AQ(V);$.each(Ev,function(Ez,E1){if(undefined==E1.FK_CDI_INSTR_TYPE||E1.FK_CDI_INSTR_TYPE!="FI"){return;}var E0=String("0"+E1.BEGIN_HH_TIME).slice(-2)+String("0"+E1.BEGIN_MM_TIME).slice(-2);var Ex=String("0"+E1.END_HH_TIME).slice(-2)+String("0"+E1.END_MM_TIME).slice(-2);var Ew=E1.START_DATE;var Ey=E1.DAY_CODE;if(E0.toString().match(/^0+$/)||Ew.toString().match(/TBA/i)){return;}$.each(Ev.slice(Ez+1),function(E7,E6){if(undefined==E6.FK_CDI_INSTR_TYPE||E6.FK_CDI_INSTR_TYPE!="FI"){return;}var E5=String("0"+E6.BEGIN_HH_TIME).slice(-2)+String("0"+E6.BEGIN_MM_TIME).slice(-2);var E2=String("0"+E6.END_HH_TIME).slice(-2)+String("0"+E6.END_MM_TIME).slice(-2);var E3=E6.START_DATE;var E4=E6.DAY_CODE;var E8=E6.FK_CDI_INSTR_TYPE;if(E5.toString().match(/^0+$/)||E3.toString().match(/TBA/i)){return;}if(E1.SECTION_NUMBER==E6.SECTION_NUMBER){return;}if(Ew==E3&&E0<E2&&E5<Ex){D6.push([E1,E6]);return;}});});}B0();if(undefined!=Dr&&null!=Dr){Dr.length=0;}var Dr=[];S(function(Ev){if("YES"==Ev.DISPLAY){$.each(Ev.LIST_DATA,function(E0,E2){var E1=E2.SUBJ_CODE;var Ex=E2.CRSE_CODE;var E3=E2.SECTION_NUMBER;var Ez=E2.OVERRIDE_TYPE_1;var Ey=E2.OVERRIDE_TYPE_2;var Ew=E2.OVERRIDE_TYPE_3;Dr.push({"SUBJ_CODE":E1,"CRSE_CODE":Ex,"SECTION_NUMBER":E3,"OVERRIDE_TYPE_1":Ez,"OVERRIDE_TYPE_2":Ey,"OVERRIDE_TYPE_3":Ew});});}});r();var Cj=[];Cj.length=0;$("#my-schedule-id").val("my-schedule-opt-dummy");$("#my-schedule-label").text(D2);function DP(){Cj=[];Cj.length=0;A2(function(Ev){Cj.push(D2);$.each(Ev,function(Ew,Ex){if(Ex==D2){return;}Cj.push(Ex);});});}DP();function Am(){$("#my-schedule-opt-dummy").prop("disabled",true);DP();$(".sched-class-x").remove();$.each(Cj,function(Ev,Ew){if(Eu||Eq||Br){if(0==Ev){$("#schedid-0").prop("disabled",true);if(Eu){$("#schedid-0").attr("title","Not for MD students");}else{if(Eq){$("#schedid-0").attr("title","Hold error");}else{if(Br){$("#schedid-0").attr("title","Inactive at this time");}}}}else{$("<option disabled class='sched-class-all sched-class-x' id='schedid-"+Ev+"' value='schedval-"+Ev+"' >"+Ew+"</option>").appendTo("#my-schedule-id");}return;}if(0!=Ev){$("<option class='sched-class-all sched-class-x' id='schedid-"+Ev+"' value='schedval-"+Ev+"' >"+Ew+"</option>").appendTo("#my-schedule-id");}});if(Eu||Eq||Br){$(".my-schedule-action-class").prop("disabled",true);if(Eu){$("#schedid-0").attr("title","Not for MD students");}else{if(Eq){$(".my-schedule-action-class").attr("title","Hold error");}else{if(Br){$(".my-schedule-action-class").attr("title","Inactive at this time");}}}}else{if(EK==D2){$("#my-schedule-opt-rename").prop("disabled",true);$("#my-schedule-opt-delete").prop("disabled",true);}else{$("#my-schedule-opt-rename").prop("disabled",false);$("#my-schedule-opt-delete").prop("disabled",false);}}$("#my-schedule-id option:disabled").css("color","gray");$("#my-schedule-id option:enabled").css("color","black");$("#my-schedule-id option").mouseleave(function(Ev){$("#my-schedule-opt-dummy").prop("selected",true);});$("#my-schedule-id").change(function(){var Ev=$(this).children(":selected").attr("id").trim();var Ez=$(this).children(":selected").text().trim();var Ew=$(this).children(":selected").attr("class");if(undefined!=Ew&&Ew.match(/sched-class-all/)){EK=Ez;$("#my-schedule-label").text(EK);$("#my-schedule-id").val("my-schedule-opt-dummy");Am();EI();$("#my-schedule-opt-dummy").prop("selected","selected");if(Eo[0].grid){if(An!=undefined){An();
}EV(0,false,true);}}else{if("my-schedule-opt-new"==Ev){$("#my-schedule-opt-dummy").prop("selected","selected");var E0=Cj.length;if(E0>19){$("#dialog-msg").dialog("open");var Ey="<div class='msg error'><h4>Request Unsuccessful</h4><span>The maximum number of schedules is 20.</span></div>";D3(Ey);return;}$("#dialog-schedule-input").dialog("open");$("#dialog-schedule-input-t1-i1").val("");$("#dialog-schedule-input").dialog("option","action","create");$("#dialog-schedule-input-confirm").button("option","label","Create");D3("<b>Create a schedule</b>");}else{if("my-schedule-opt-rename"==Ev){$("#my-schedule-opt-dummy").prop("selected","selected");if(EK==D2){$("#dialog-msg").dialog("open");var Ey="<div class='msg error'><h4>Request Unsuccessful</h4><span>Cannot rename the primary schedule.</span></div>";D3(Ey);return;}$("#dialog-schedule-input").dialog("open");$("#dialog-schedule-input-t1-i1").val("");$("#dialog-schedule-input").dialog("option","action","rename");$("#dialog-schedule-input-confirm").button("option","label","Rename");D3('<b>Rename "'+EK+'" </b> - Enter new schedule name.');}else{if("my-schedule-opt-copy"==Ev){$("#my-schedule-opt-dummy").prop("selected","selected");$("#dialog-schedule-input").dialog("open");$("#dialog-schedule-input-t1-i1").val("");$("#dialog-schedule-input").dialog("option","action","copy");$("#dialog-schedule-input-confirm").button("option","label","Copy");D3('<b>Copy "'+EK+'" </b> - Enter new schedule name.');}else{if("my-schedule-opt-delete"==Ev){$("#my-schedule-opt-dummy").prop("selected","selected");if(EK==D2){$("#dialog-msg").dialog("open");var Ey="<div class='msg error'><h4>Request Unsuccessful</h4><span>Cannot delete the primary schedule.</span></div>";D3(Ey);return;}var Ex=$("#dialog-schedule-confirm").dialog("open");D3('<b>Are you sure you want to delete "'+EK+'"?</b>');}}}}}});}Am();$("#dialog-schedule-confirm").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){t();$(this).dialog("close");}},Confirm:{text:"Delete",title:"Delete schedule",click:function(){t();$(this).dialog("close");Dj(EK,function(Ey){if("SUCCESS"==Ey.OPS){Am();$("#schedid-0").prop("selected",true).trigger("change");$("#my-schedule-label").text(D2);}else{var Ez="";if(undefined!=Ey.REASON||"null"!=Ey.REASON){Ez=Ey.REASON;}var Ex="<div class='msg error'><h4>Request Unsuccessful</h4><span>The current schedule \""+EK+'" was not removed.  '+Ez+"</span></div>";var Ew=$("#dialog-after-action").dialog("open");var Ev=O.slice(0);Ev.splice(1,2);Ew.dialog("option","buttons",Ev);D3(Ex);}});}}}});$("#dialog-schedule-input").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,open:function(){$("#dialog-schedule-input-t1-i1").prop("disabled",false);},buttons:{Cancel:{text:"Cancel",click:function(){t();$(this).dialog("close");}},Confirm:{id:"dialog-schedule-input-confirm",click:function(){t();var E1=$("#dialog-schedule-input-t1-i1");var E3=E1.val().trim();var Ew=$(this).dialog("option","action");var E2=false;var Ex=false;if("Replace"==$("#dialog-schedule-input-confirm").button("option","label")){Ex=true;}else{if("create"==Ew||"rename"==Ew||"copy"==Ew){if(E3.match(/^\s*$/)){DQ("<div class='msg error'>Please provide a schedule name</div>");E2=true;return false;}if(E3==EK){DQ("<div class='msg error'>You cannot perform this action using the same name as the currently selected schedule!</div>");E2=true;return false;}var Ev=false;if(E3==D2){Ev=true;}else{$.each(Cj,function(E4,E5){if(E5==E3){Ev=true;return false;}});}if(Ev){DQ("<div class='msg alert'>\""+E3+'" already exists. Would you like to replace "'+E3+'"?</div>');E1.prop("disabled",true);$("#dialog-schedule-input-confirm").button("option","label","Replace");E2=true;}}}if(E2){return;}if(E3==D2){E3=D2;}if(Ex){Dj(E3,function(E7){if("SUCCESS"!=E7.OPS){var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}var E6="<div class='msg error'><h4>Request Unsuccessful</h4><span>Schedule\""+E3+'" could not be replaced.  '+E8+"</span></div>";var E5=$("#dialog-after-action").dialog("open");var E4=O.slice(0);E4.splice(1,2);E5.dialog("option","buttons",E4);D3(E6);}});}if("create"==Ew){t();BZ(E3,"NONE","NONE",0,"XX","X",0,function(E8){if("SUCCESS"==E8.OPS){Am();var E6=0;$.each(Cj,function(FA,FB){if(FB==E3){E6=FA;return false;}});$("#schedid-"+E6).prop("selected",true).trigger("change");$("#my-schedule-label").text(E3);}else{var E9="";if(undefined!=E8.REASON||"null"!=E8.REASON){E9=E8.REASON;}var E7="<div class='msg error'><h4>Request Unsuccessful</h4><span>New schedule \""+E3+'" was not created.  '+E9+"</span></div>";var E5=$("#dialog-after-action").dialog("open");var E4=O.slice(0);E4.splice(1,2);E5.dialog("option","buttons",E4);D3(E7);}});}else{if("rename"==Ew){t();var Ez=EK.trim();AW(Ez,E3,function(E8){if("SUCCESS"==E8.OPS){Am();var E6=0;$.each(Cj,function(FA,FB){if(FB==E3){E6=FA;return false;}});$("#schedid-"+E6).prop("selected",true).trigger("change");$("#my-schedule-label").text(E3);}else{var E9="";if(undefined!=E8.REASON||"null"!=E8.REASON){E9=E8.REASON;}var E7="<div class='msg error'><h4>Request Unsuccessful</h4><span>Schedule \""+Ez+'" has not been renamed.  '+E9+"</span></div>";var E5=$("#dialog-after-action").dialog("open");var E4=O.slice(0);E4.splice(1,2);E5.dialog("option","buttons",E4);D3(E7);}});}else{if("copy"==Ew){var Ey="";t();var Ez=EK.trim();var E0=false;if(Ez==D2){f(Ez,function(E4){if(undefined!=E4.COUNT&&E4.COUNT>0){E0=true;}});}else{E0=true;}if(!E0){BZ(Ez,"NONE","NONE",0,"XX","X",0,function(E4){if("SUCCESS"==E4.OPS){E0=true;}else{var E5="";if(undefined!=E4.REASON||"null"!=E4.REASON){E5=E4.REASON;}Ey="<div class='msg error'><h4>Request Unsuccessful</h4><span>Schedule \""+Ez+'" has not been copied.  '+E5+"</span></div>";}});}if(E0){ES(Ez,E3,function(E7){if("SUCCESS"==E7.OPS){Am();var E6=0;$.each(Cj,function(E9,FA){if(FA==E3){E6=E9;
return false;}});$("#schedid-"+E6).prop("selected",true).trigger("change");$("#my-schedule-label").text(E3);}else{var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}Ey="<div class='msg error'><h4>Request Unsuccessful</h4><span>Schedule \""+Ez+'" has not been copied.  '+E8+"</span></div>";var E5=$("#dialog-after-action").dialog("open");var E4=O.slice(0);E4.splice(1,2);E5.dialog("option","buttons",E4);D3(Ey);}});}}}}$(this).dialog("close");}}}});CX();function A6(Ex,Ey,Ew,Ev){if(0==Ex.val().trim().length){DQ("<div class='msg error'>Event Name Required</div>");return false;}if(Ex.val().length>Ev||Ex.val().length<Ew){DQ("<div class='msg error'>Event Name cannot exceed "+Ey+" characters</div>");return false;}else{return true;}}function B(Ev){if(Ev[0].is(":checked")||Ev[1].is(":checked")||Ev[2].is(":checked")||Ev[3].is(":checked")||Ev[4].is(":checked")||Ev[5].is(":checked")||Ev[6].is(":checked")){return true;}else{DQ("<div class='msg error'>Event Day(s) Required</div>");return false;}}function F(Ey,Ev){if(!Ey.val()||"none"==Ey.val()){DQ("<div class='msg error'>Start and End Time Required</div>");return 1;}else{if(!Ev.val()||"none"==Ev.val()){DQ("<div class='msg error'>Start and End Time Required</div>");return 2;}else{var Ex=D0(Ey.val());var Ew=D0(Ev.val());if(Ex>=Ew){DQ("<div class='msg error'>Start time must be before end time</div>");return 3;}return 0;}}}function CX(){A5=[];A5.length=0;CA(function(Ev){A5=Ev;});}function EW(Ew){var E2=Ew.data.aeName;var E6=Ew.data.aeDay;var Ex=Ew.data.aeDays;var Ez=Ew.data.aeLocation;var Ey=Ew.data.aeStartTime;var E5=Ew.data.aeEndTime;var E3=Ew.data.aeTimeStamp;var Ev=$("#dialog-event").dialog("open");Ev.dialog("option","action","remove");Ev.dialog("option","aetimestamp",E3);$("#dialog-event-confirm").button("option","label","Remove");$("#dialog-event-t1-i1").val(E2);var E4=Ex.split("");for(var E1=0;E1<E4.length;E1++){var E0=E1+1;if("1"==E4[E1]){$("#dialog-event-t2-c"+E0).prop("checked",true);}else{$("#dialog-event-t2-c"+E0).prop("checked",false);}}$("#dialog-event-t3-i1").timepicker(D7);$("#dialog-event-t3-i1").timepicker("setTime",new Date(ET,EY,Ec,Ey.substr(0,2),Ey.substr(2,2)));$("#dialog-event-t3-i2").timepicker(D7);$("#dialog-event-t3-i2").timepicker("setTime",new Date(ET,EY,Ec,E5.substr(0,2),E5.substr(2,2)));$("#dialog-event-t4-i1").val(Ez);Ar();D3("<b>Remove Event</b>");t();}function Ar(){$("#dialog-event-t1-label").removeClass("wr-required-class");$("#dialog-event-t2-label").removeClass("wr-required-class");$("#dialog-event-t3-label-1").removeClass("wr-required-class");$("#dialog-event-t3-label-2").removeClass("wr-required-class");$("#dialog-event-t1-i1").prop("disabled",true);for(var Ev=1;Ev<8;Ev++){$("#dialog-event-t2-c"+Ev).prop("disabled",true);}$("#dialog-event-t3  select.ui-timepicker-select").prop("disabled",true);$("#dialog-event-t4-i1").prop("disabled",true);}function Bu(){$("#dialog-event-t1-label").addClass("wr-required-class");$("#dialog-event-t2-label").addClass("wr-required-class");$("#dialog-event-t3-label-1").addClass("wr-required-class");$("#dialog-event-t3-label-2").addClass("wr-required-class");$("#dialog-event-t1-i1").prop("disabled",false);for(var Ev=1;Ev<8;Ev++){$("#dialog-event-t2-c"+Ev).prop("disabled",false);}$("#dialog-event-t3  select.ui-timepicker-select").prop("disabled",false);$("#dialog-event-t4-i1").prop("disabled",false);}function Ae(Ew){var E2=Ew.data.aeName;var E6=Ew.data.aeDay;var Ex=Ew.data.aeDays;var Ez=Ew.data.aeLocation;var Ey=Ew.data.aeStartTime;var E5=Ew.data.aeEndTime;var E3=Ew.data.aeTimeStamp;var Ev=$("#dialog-event").dialog("open");Ev.dialog("option","action","edit");Ev.dialog("option","aetimestamp",E3);$("#dialog-event-confirm").button("option","label","Edit");$("#dialog-event-t1-i1").val(E2);var E4=Ex.split("");for(var E1=0;E1<E4.length;E1++){var E0=E1+1;if("1"==E4[E1]){$("#dialog-event-t2-c"+E0).prop("checked",true);}else{$("#dialog-event-t2-c"+E0).prop("checked",false);}}$("#dialog-event-t3-i1").timepicker(D7);$("#dialog-event-t3-i1").timepicker("setTime",new Date(ET,EY,Ec,Ey.substr(0,2),Ey.substr(2,2)));$("#dialog-event-t3-i2").timepicker(D7);$("#dialog-event-t3-i2").timepicker("setTime",new Date(ET,EY,Ec,E5.substr(0,2),E5.substr(2,2)));$("#dialog-event-t4-i1").val(Ez);Bu();D3("<b>Edit Event</b>");t();}if(Eq){$("#add-event-id").button().button("disable");$("#add-event-id").attr("title","Hold error");}else{$("#add-event-id").click(function(){var Ev=$("#dialog-event").dialog("open");Ev.dialog("option","action","create");$("#dialog-event-confirm").button("option","label","Add");$("#dialog-event-t1-i1").val("");$(".dialog-event-days-class").prop("checked",false);$("#dialog-event-t3-i1").val("");$("#dialog-event-t3-i2").val("");$("#dialog-event-t4-i1").val("");$("#dialog-event-t3-i1").timepicker(D7);$("#dialog-event-t3-i2").timepicker(D7);Bu();D3("<b>Add Event</b>");t();});}$("#dialog-event").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){t();$(this).dialog("close");}},Confirm:{id:"dialog-event-confirm",click:function(){t();var E2=$(this).dialog("option","action");var E4=$(this).dialog("option","aetimestamp",E4);var Ev=$("#dialog-event-t1-i1");if(!A6(Ev,"name",1,20)){return;}var Ew=[];Ew.length=0;Ew.push($("#dialog-event-t2-c1"));Ew.push($("#dialog-event-t2-c2"));Ew.push($("#dialog-event-t2-c3"));Ew.push($("#dialog-event-t2-c4"));Ew.push($("#dialog-event-t2-c5"));Ew.push($("#dialog-event-t2-c6"));Ew.push($("#dialog-event-t2-c7"));if(!B(Ew)){return;}var Ex=$("#dialog-event-t3 tbody tr td:nth-child(2) select.ui-timepicker-select");var E5=$("#dialog-event-t3 tbody tr td:nth-child(4) select.ui-timepicker-select");var Ey=F(Ex,E5);if(1==Ey){return;}else{if(2==Ey){return;}else{if(3==Ey){return;}}}var E3=$("#dialog-event-t1-i1").val();var Ez=$("#dialog-event-t2-c1").is(":checked")?"1":"0";Ez+=$("#dialog-event-t2-c2").is(":checked")?"1":"0";Ez+=$("#dialog-event-t2-c3").is(":checked")?"1":"0";
Ez+=$("#dialog-event-t2-c4").is(":checked")?"1":"0";Ez+=$("#dialog-event-t2-c5").is(":checked")?"1":"0";Ez+=$("#dialog-event-t2-c6").is(":checked")?"1":"0";Ez+=$("#dialog-event-t2-c7").is(":checked")?"1":"0";var E0=D0(Ex.val());var E6=D0(E5.val());var E1=$("#dialog-event-t4-i1").val();if(E1.match(/^\s*$/)){E1="";}$(this).dialog("close");if("create"==E2){T(E3,Ez,E0,E6,E1,function(E7){var E9="";if("SUCCESS"==E7.OPS){CX();BV();E9="<div class='msg confirm'><h4>Request Successful</h4><span>New event("+E3+") added.</span></div>";}else{var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>New event("+E3+") was not created.  "+E8+"</span></div>";$("#dialog-msg").dialog("open");D3(E9);}});}else{if("remove"==E2){Ct(E4,function(E7){var E9="";if("SUCCESS"==E7.OPS){CX();BV();E9="<div class='msg confirm'><h4>Request Successful</h4><span>Event("+E3+") removed.</span></div>";}else{var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>Event("+E3+") was not removed.  "+E8+"</span></div>";$("#dialog-msg").dialog("open");D3(E9);}});}else{if("edit"==E2){A4(E4,E3,Ez,E0,E6,E1,function(E7){if("SUCCESS"==E7.OPS){CX();BV();}else{var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}var E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>Event("+E3+") was not updated.  "+E8+"</span></div>";$("#dialog-msg").dialog("open");D3(E9);}});}}}}}}});var J=[];J.length=0;var CM=0;var Cg=[];Cg.length=0;function y(Ex,Ew,Ev){if(undefined==Ew||""==Ew.trim()||"TBA"==Ew){return"";}return'title="Click for campus map"';}function C3(Ex,Ew,Ev){return'title="'+CS(Ew)+'"';}function AM(Ex,Ew,Ev){return'title="'+Ac(Ew)+'"';}function h(Ew,Ex,Ev){if("EN"==Ew){return'<a target="_blank" class="nonewwin " href="http://act.ucsd.edu/maps/?isisCode='+Ex+'">'+Ev+"</a>";}else{if("WT"==Ew){return'<a target="_blank" class="nonewwin " href="http://act.ucsd.edu/maps/?isisCode='+Ex+'">'+Ev+"</a>";}else{if("PL"==Ew){return'<a target="_blank" class="nonewwin " href="http://act.ucsd.edu/maps/?isisCode='+Ex+'">'+Ev+"</a>";}else{return'<a target="_blank" class="nonewwin " href="http://act.ucsd.edu/maps/?isisCode='+Ex+'">'+Ev+"</a>";}}}}function CR(Ew,Ev,Ex){if(undefined==Ew||"TBA"==Ew){return"TBA";}else{if(""==Ew.trim()){return"";}}return h(Ex.ENROLL_STATUS,Ex.PBF_BLDG,Ew);}function AF(Ew,Ev,Ex){if(undefined==Ew||"TBA"==Ew){return"TBA";}else{if(""==Ew.trim()){return"";}}return h(Ex.ENROLL_STATUS,Ex.BLDG_CODE,Ew);}function De(Ew,Ev,Ex){if(undefined==Ew||"TBA"==Ew){return"TBA";}else{if(""==Ew.trim()){return"";}}return h(Ex.ENROLL_STATUS,Ew,Ew);}function AJ(){Cg=[];Cg.length=0;$("#list-id-table").jqGrid("clearGridData",true);$("#list-id-table").jqGrid({datatype:"local",height:"100%",autowidth:true,shrinkToFit:true,gridview:true,loadonce:true,rowNum:100,viewrecords:true,cmTemplate:{title:false},beforeSelectRow:function(F4,F5){return false;},onRightClickRow:function(){$("#list-id-table").jqGrid("resetSelection");return false;},colNames:["Subject<br >Course","Title","Section<br />Code","Type","Instructor","Grade<br >Option","Units","Days","Time","BLDG","Room","Status /<br />(Position)","Action","SectNum","SectHead","GradeEnable","UnitEnable","SubjCode","CrseCode","StatusOrg","RowAttr","pbFriend"],colModel:[{name:"colsubj",fixed:true,index:"subjcrse",jsonmap:"NULL",width:65,align:"left",editable:false,sortable:false},{name:"CRSE_TITLE",fixed:true,index:"title",jsonmap:"CRSE_TITLE",width:170,align:"left",editable:false,sortable:false},{name:"SECT_CODE",fixed:true,index:"sectionnumber",jsonmap:"SECT_CODE",width:41,align:"center",editable:false,sortable:false},{name:"FK_CDI_INSTR_TYPE",fixed:true,index:"type",jsonmap:"FK_CDI_INSTR_TYPE",width:27,align:"center",editable:false,sortable:false,title:true,cellattr:C3},{name:"PERSON_FULL_NAME",fixed:true,index:"inst",jsonmap:"NULL",width:110,align:"left",editable:false,sortable:false},{name:"GRADE_OPTION",fixed:true,index:"grade",jsonmap:"GRADE_OPTION",width:40,align:"center",editable:false,sortable:false,title:true,cellattr:AM},{name:"SECT_CREDIT_HRS",fixed:true,index:"units",jsonmap:"SECT_CREDIT_HRS",width:30,align:"center",editable:false,sortable:false},{name:"DAY_CODE",fixed:true,index:"days",jsonmap:"DAY_CODE",width:85,align:"center",editable:false,sortable:false},{name:"coltime",fixed:true,index:"time",jsonmap:"NULL",width:80,align:"center",editable:false,sortable:false},{name:"BLDG_CODE",fixed:true,index:"bld",jsonmap:"NULL",width:40,align:"center",editable:false,sortable:false,formatter:De,cellattr:y},{name:"ROOM_CODE",fixed:true,index:"rm",jsonmap:"NULL",width:36,align:"center",editable:false,sortable:false,formatter:AF,cellattr:y},{name:"colstatus",fixed:true,index:"status",jsonmap:"NULL",width:62,align:"center",editable:false,sortable:false},{name:"colaction",fixed:true,index:"action",jsonmap:"action",width:110,align:"center",editable:false,sortable:false},{name:"SECTION_NUMBER",hidden:true,jsonmap:"SECTION_NUMBER"},{name:"SECTION_HEAD",hidden:true,jsonmap:"SECTION_HEAD"},{name:"GRADE_OPTN_CD_PLUS",hidden:true,jsonmap:"GRADE_OPTN_CD_PLUS"},{name:"SECT_CREDIT_HRS_PL",hidden:true,jsonmap:"SECT_CREDIT_HRS_PL"},{name:"SUBJ_CODE",hidden:true,jsonmap:"SUBJ_CODE"},{name:"CRSE_CODE",hidden:true,jsonmap:"CRSE_CODE"},{name:"colstatusorg",hidden:true,jsonmap:"NULL"},{name:"ROW_ATTR",hidden:true},{name:"PB_FRIEND",hidden:true}],rowattr:function(F6){var F5="";var F4=F6.ROW_ATTR;if(undefined!=F4){if(undefined!=F6.ROW_ATTR.rowClass){F5={"class":F6.ROW_ATTR.rowClass};}}return F5;}});var FX=AQ(V);var E3=$("#list-id-table");var E4=[];var FY=undefined;var Fw="";$.each(FX,function(F4,F6){if(F4==0){if(1==FX.length){E4.push(F6);}else{FY=$.extend(true,{},F6);Fw=F6.DAY_CODE;}return;}if(FY!=undefined){if(FY.SUBJ_CODE==F6.SUBJ_CODE&&FY.CRSE_CODE==F6.CRSE_CODE&&FY.SECT_CODE==F6.SECT_CODE&&FY.START_DATE==F6.START_DATE&&FY.BEGIN_HH_TIME==F6.BEGIN_HH_TIME&&FY.BEGIN_MM_TIME==F6.BEGIN_MM_TIME&&FY.END_HH_TIME==F6.END_HH_TIME&&FY.END_MM_TIME==F6.END_MM_TIME&&FY.BLDG_CODE==F6.BLDG_CODE&&FY.ROOM_CODE==F6.ROOM_CODE&&FY.SECTION_NUMBER==F6.SECTION_NUMBER){var F5=F6.DAY_CODE;
F6.DAY_CODE=Fw+F6.DAY_CODE;Fw=Fw+F5;}else{Fw=F6.DAY_CODE;E4.push(FY);}}if((F4+1)==FX.length){E4.push(F6);}FY=$.extend(true,{},F6);});FX.length=0;FX=null;var Fv=[];Fv.length=0;var Fb=undefined;var FP=null;var FI="";var FZ="";var Fp="";var FD="";var FG=false;var Fz="";$.each(E4,function(GD,F7){var GC=("00"==F7.SECT_CODE.slice(-2))?true:false;if("LE"==F7.FK_CDI_INSTR_TYPE){Fb=$.extend(true,{},F7);}if(true==F7.NEED_HEADROW&&undefined!=Fb){Fb.SECTION_HEAD=F7.SECTION_HEAD;Fv.push($.extend(true,{},Fb));Fb=undefined;}if(null!=FP&&true==F7.PB_FRIEND){var GL=F7.FK_CDI_INSTR_TYPE;var GB=GL.match(/FI|MI|FM|PB|RE|OT|MU/)?true:false;var GM=CS(GL);var F6=GL.match(/MI|FI/)?true:false;var GK="";var GO=F7.ENROLL_STATUS;var F8=F7.SUBJ_CODE.trim()+" "+F7.CRSE_CODE.trim();var GG=F7.SECTION_HEAD;var F5=F7.SECT_CODE.substr(0,1);if(GG!=Fp){GK=F8;if(GO==FI&&F8==FZ&&F5==FD){FG=true;}else{FG=false;}}FI=GO;FZ=F8;Fp=GG;FD=F5;var GJ=F8.trim().replace(/\s/,"_");var GF="";switch(F7.ENROLL_STATUS){case"EN":GF="Enrolled";break;case"WT":GF="Waitlist";break;case"PL":GF="Planned";break;}var GN=F7.CRSE_TITLE;var GP=F7.LONG_DESC;if(null!=GP&&!GP.match(/^\s*$/)){GN=F7.CRSE_TITLE.trim()+"<br /> - "+GP;}if(""!==GK&&!FG){Cg.push({SECTION_HEAD:F7.SECTION_HEAD,SECTION_NUMBER:F7.SECTION_NUMBER,PBF_SUBJ_CRSE:GK,PBF_TITLE:GN,PBF_STATUS:GF,PBF_MTYPE:"",PBF_DAY:"",PBF_DATE:"",PBF_TIME:"",PBF_BLDG:"",PBF_ROOM:"",ENROLL_STATUS:F7.ENROLL_STATUS});}if(!F6){if(undefined!=FP.FK_CDI_INSTR_TYPE&&FP.FK_CDI_INSTR_TYPE!=F7.FK_CDI_INSTR_TYPE){var GT=$.extend(true,{},F7);GT.PERSON_FULL_NAME="HEADER_"+GM;GT.ADDINFO=GJ;Fv.push(GT);if(!FG){Cg.push({SECTION_HEAD:F7.SECTION_HEAD,SECTION_NUMBER:F7.SECTION_NUMBER,PBF_SUBJ_CRSE:"",PBF_TITLE:GM,PBF_STATUS:"",PBF_MTYPE:GL,PBF_DAY:"",PBF_DATE:"",PBF_TIME:"",PBF_BLDG:"",PBF_ROOM:"",ENROLL_STATUS:F7.ENROLL_STATUS,PBF_INFO:GJ,PBF_HEAD:"HEADER_"+GM});}Fz=F7.SECTION_HEAD+""+F7.SECTION_NUMBER;}if(undefined!=F7.FK_CDI_INSTR_TYPE&&F7.FK_CDI_INSTR_TYPE.match(/FI|MI|FM|PB|RE|OT|MU/)){Fz=F7.SECTION_HEAD+""+F7.SECTION_NUMBER;}F7.ROW_ATTR={"rowClass":"wr-gridrow-class wr-gridrow-class-"+GJ+"-"+GL+"-"+Fz};}var GK="";var GH=F6?GM:"";var F4=F7.FK_CDI_INSTR_TYPE;var GS=EE(F7.DAY_CODE);var GR=Av(F7.START_DATE);var GE=I(F7.BEGIN_HH_TIME,F7.BEGIN_MM_TIME,F7.END_HH_TIME,F7.END_MM_TIME);var GA="";if(GB){GA=GR;}if(F7.FK_CDI_INSTR_TYPE.match(/FI/)&&!CE){F7.BLDG_CODE="TBA";F7.ROOM_CODE="TBA";}if(!FG){var F9=F7.BLDG_CODE;var GQ=F7.ROOM_CODE.trim();var GI="";if(!F6){if(undefined!=F7.FK_CDI_INSTR_TYPE&&F7.FK_CDI_INSTR_TYPE.match(/FI|MI|FM|PB|RE|OT|MU/)){Fz=F7.SECTION_HEAD+""+F7.SECTION_NUMBER;}GI={"rowClass":"wr-pbfrow-class wr-pbfrow-class-"+GJ+"-"+GL+"-"+Fz};}Cg.push({SECTION_HEAD:F7.SECTION_HEAD,SECTION_NUMBER:F7.SECTION_NUMBER,PBF_SUBJ_CRSE:GK,PBF_TITLE:GH,PBF_STATUS:"",ENROLL_STATUS:F7.ENROLL_STATUS,PBF_MTYPE:F4,PBF_DAY:GS,PBF_DATE:GA,PBF_TIME:GE,PBF_BLDG:F9,PBF_ROOM:GQ,ROW_ATTR:GI});}}Fv.push(F7);FP=F7;});E4.length=0;E4=null;$.each(Fv,function(F4,F5){E3.jqGrid("addRowData",F4,F5);});data=[];var F2=E3.jqGrid("getDataIDs");var Fe;var Fc;var Ex=[];Ex.length=0;for(var Fs=0;Fs<F2.length;Fs++){Fe=F2[Fs];if(undefined==Fv[Fs]){return;}if("PL"!=Fv[Fs].ENROLL_STATUS){continue;}if(-1==$.inArray(Fv[Fs].SECTION_HEAD,Ex)){Ex.push(Fv[Fs].SECTION_HEAD);}}if(Ex.length>0){Dm(Ex,function(F4){J=[];J.length=0;J=F4;});}CM=0;for(var Fs=0;Fs<F2.length;Fs++){Fe=F2[Fs];if(undefined==Fv[Fs]){return;}var Fh=Fv[Fs].SECTION_HEAD;var Fl=Fv[Fs].SUBJ_CODE;var Ff=Fv[Fs].CRSE_CODE;var FR=Fl.trim()+" "+Ff;var F0=Fv[Fs].LONG_DESC;var Fu=Fv[Fs].CRSE_TITLE;if(null!=F0&&!F0.match(/^\s*$/)){Fu=Fv[Fs].CRSE_TITLE.trim()+"<br /> - "+F0;}if(X){Fu+="<br />"+Av(Fv[Fs].START_DATE)+" - "+Av(Fv[Fs].END_DATE);}var FA=Fv[Fs].BEGIN_HH_TIME;var FU=Fv[Fs].BEGIN_MM_TIME;var Fa=Fv[Fs].END_HH_TIME;var F3=Fv[Fs].END_MM_TIME;var FL=I(FA,FU,Fa,F3);var Ez=EE(Fv[Fs].DAY_CODE);if(Ez==""){Ez="TBA";}var FJ=Fv[Fs].SECT_CREDIT_HRS.toFixed(2);var FT=Fv[Fs].PERSON_FULL_NAME.split(":");var Ft="";var E6=[];$.each(FT,function(F4,F5){F5=F5.trim();if($.inArray(F5,E6)===-1){E6.push(F5);if(0==F4){Ft=F5;}else{Ft=Ft+" / "+F5;}}});var Ew=false;$.each(E6,function(F4,F5){if(F5.match(/^\s*staff\s*$/i)){Ew=true;return false;}if(F4==0){E6='<span title="'+Ft+'">'+F5;}else{E6+=" + ";return false;}});if(!Ew){E6=E6+"</span>";}var Fi=[];switch(Fv[Fs].ENROLL_STATUS){case"EN":Fi[0]=0;Fi[1]="Enrolled";break;title="Your position on the waitlist is ' +  rawObject.WT_POS + '";case"WT":Fi[0]=1;Fi[1]="<span title='Your position on the waitlist is "+Fv[Fs].WT_POS+"'>Waitlist ("+Fv[Fs].WT_POS+")</span>";break;case"PL":Fi[0]=2;Fi[1]="Planned";break;}var FQ=DC(Fv[Fs].GRADE_OPTION);E3.jqGrid("setRowData",Fe,{colsubj:FR,CRSE_TITLE:Fu,DAY_CODE:Ez,coltime:FL,colstatus:Fi[1],colstatusorg:Fi[1],SECT_CREDIT_HRS:FJ,PERSON_FULL_NAME:E6,GRADE_OPTION:FQ,BLDG_CODE:Fv[Fs].BLDG_CODE.trim(),ROOM_CODE:Fv[Fs].ROOM_CODE.trim()});switch(Fi[0]){case 0:var FO=" wrbuttong grid-but-enroll-class ";break;case 1:var FO=" wrbuttong grid-but-wait-class ";break;case 2:var FO=" wrbuttong grid-but-plan-class ";break;}var Fm="";if(2==Fi[0]&&BI(undefined,Fl,Ff,"EN")[0]){Fm=" noMoreEnWtGridClass ";}if(Fv[Fs].SECT_CODE.match(/00$/)||Fv[Fs].SECT_CODE.match(/^\d+$/)){if(undefined!=Fv[Fs].FK_CDI_INSTR_TYPE&&!Fv[Fs].FK_CDI_INSTR_TYPE.match(/FI|MI|FM|PB|RE|OT|MU/)&&0==Fi[0]){CM++;}if(2==Fi[0]){var FH=false;if(undefined!=J[Fh]){FH=AZ(Fh,J[Fh].AVAIL_SEAT,J[Fh].STP_ENRLT_FLAG,Fv[Fs].SUBJ_CODE,Fv[Fs].CRSE_CODE);}if(FH){var FB="<input "+" id=grid-edit-plan-id-enroll-"+Fe+" class=' wrbutton wrbuttong wrbuttongr secondary grid-but-plan-enwt-class grid-but-plan-enroll-class "+FO+Fm+" ' "+" type='button' value='Enroll' />";}else{var FB="<input "+" id=grid-edit-plan-id-wait-"+Fe+" class=' wrbutton wrbuttong wrbuttongr secondary grid-but-plan-enwt-class grid-but-plan-wait-class "+FO+Fm+" ' "+" type='button' value='Waitlist' />";}var FF="<input "+" id=grid-drop-plan-id-"+Fe+" class=' wrbutton wrbuttong wrbuttongl secondary grid-but-plan-remove-class "+FO+" ' "+" type='button' value='Remove' />";
}else{var FB="<input "+" id=grid-edit-id-"+Fe+" class=' wrbutton wrbuttong wrbuttongr secondary grid-but-eddr-class grid-but-edit-class "+FO+" ' "+" type='button' value='Change' />";var FF="<input "+" id=grid-drop-id-"+Fe+" class=' wrbutton wrbuttong wrbuttongl secondary grid-but-eddr-class grid-but-drop-class "+FO+" ' "+" type='button' value='Drop' />";}var E2=FF+FB;E3.jqGrid("setCell",Fe,"colaction",E2);}var Ev=$("#list-id-table tbody tr#"+Fe+"");switch(Fi[0]){case 0:Ev.addClass("wr-grid-en");break;case 1:Ev.addClass("wr-grid-wt");break;case 2:Ev.addClass("wr-grid-pl");break;}}for(var Fs=0;Fs<F2.length;Fs++){Fe=F2[Fs];var Ey=Fv[Fs].SECTION_HEAD;var E9=Fv[Fs].ENROLL_STATUS;var Fl=Fv[Fs].SUBJ_CODE;var Ff=Fv[Fs].CRSE_CODE;var Fy=Fv[Fs].CRSE_TITLE;var Fx=Fv[Fs].SECT_CREDIT_HRS;var E1;var FM=E3.jqGrid("getDataIDs");for(var Fq=0;Fq<=FM.length;Fq++){Fc=FM[Fq];var Fj=E3.jqGrid("getRowData",Fc);if(Fj["SECTION_NUMBER"]==Ey){E1=Ey;break;}}var FS={objid:"grid:"+Fe,sectionHead:E1,enStatus:E9};var Fd=$("#list-id-table").jqGrid("getRowData",Fe);var E0=false;var F1=false;var E8=Fd.colstatus;if(undefined!=E8){if(E8.toString().match(/enroll/i)){if(Fd.GRADE_OPTN_CD_PLUS=="+"){E0=true;}if(Fd.SECT_CREDIT_HRS_PL=="+"){F1=true;}}else{if(E8.toString().match(/waitlist/i)){var Fk=A0(Ey);E0=Fk[0];F1=Fk[1];}}}if(!E0&&!F1){$("#grid-edit-id-"+Fs).button().button("disable");$("#grid-edit-id-"+Fs).attr("title",Ce);}else{$("#grid-edit-id-"+Fs).click(FS,AD);}$("#grid-drop-id-"+Fs).click(FS,AX);$("#grid-edit-plan-id-enroll-"+Fs).click((function(F5,F4,GA,F9,F8,F7,F6){return function(){DB(F5,F4,GA,F9,F8,F7,F6);};})(E1,"enroll",Fl,Ff,Fy,undefined,undefined));$("#grid-edit-plan-id-wait-"+Fs).click((function(F5,F4,GA,F9,F8,F7,F6){return function(){DB(F5,F4,GA,F9,F8,F7,F6);};})(E1,"wait",Fl,Ff,Fy,undefined,undefined));var Fg={actionTip:"<b style='font-size:16px' >Would you like to remove the following planned class?</b>",sectionHead:E1};$("#grid-drop-plan-id-"+Fs).click(Fg,Bo);}e();var FC="";var Fo="";var Fr="";var Fn="";var FW="";var E5="";var FV="";var FE="";for(var Fs=0;Fs<F2.length;Fs++){var Fe=Fs;var FN=Fv[Fs].SECT_CODE.match(/00$/)?true:false;var E7=("PL"==Fv[Fs].ENROLL_STATUS)?true:false;if(Fe==0){FC=E3.jqGrid("getCell",Fe,"colsubj");Fr=E3.jqGrid("getCell",Fe,"SECT_CODE");FW=E3.jqGrid("getCell",Fe,"colstatus");FW=EG(FW);FV=E3.jqGrid("getCell",Fe,"SECTION_HEAD");}else{Fo=E3.jqGrid("getCell",Fe,"colsubj");Fn=E3.jqGrid("getCell",Fe,"SECT_CODE");E5=E3.jqGrid("getCell",Fe,"colstatus");E5=EG(E5);FE=E3.jqGrid("getCell",Fe,"SECTION_HEAD");if(FC==Fo&&Fr.substring(0,1)==Fn.substring(0,1)&&FW==E5&&FV==FE){var FK=(Fv[Fs].PB_FRIEND)?" ":Fv[Fs].SECT_CODE;E3.jqGrid("setCell",Fe,"SECT_CODE",FK);E3.jqGrid("setCell",Fe,"colsubj"," ");E3.jqGrid("setCell",Fe,"CRSE_TITLE"," ");E3.jqGrid("setCell",Fe,"GRADE_OPTION"," ");E3.jqGrid("setCell",Fe,"SECT_CREDIT_HRS"," ");E3.jqGrid("setCell",Fe,"PERSON_FULL_NAME"," ");E3.jqGrid("setCell",Fe,"colstatus"," ");E3.jqGrid("setCell",Fe,"WT_POS"," ");E3.jqGrid("setCell",Fe,"colaction"," ");}FC=Fo;Fr=Fn;FW=E5;FV=FE;}}$.each(Fv,function(F9,F8){if(F8.PERSON_FULL_NAME.match(/HEADER_/)){var F4=F8.PERSON_FULL_NAME.substring(7);var F5="<div class='wr-gridrow-header-outer-class' id='wr-gridrow-header-outer-id-"+F9+"'><img class='wr-gridrow-header-class' alt='Expand: ' id='wr-gridrow-header-id-"+F9+"' src='"+DJ+"' "+" style=' width:8px; height:8px; margin-right: 2px; margin-top: 5px;' ></img> "+F4+"</div>";E3.jqGrid("setCell",F9,"SECT_CODE"," ");E3.jqGrid("setCell",F9,"colsubj"," ");E3.jqGrid("setCell",F9,"CRSE_TITLE",F5);E3.jqGrid("setCell",F9,"FK_CDI_INSTR_TYPE"," ");E3.jqGrid("setCell",F9,"PERSON_FULL_NAME"," ");E3.jqGrid("setCell",F9,"GRADE_OPTION"," ");E3.jqGrid("setCell",F9,"SECT_CREDIT_HRS"," ");E3.jqGrid("setCell",F9,"DAY_CODE"," ");E3.jqGrid("setCell",F9,"coltime"," ");E3.jqGrid("setCell",F9,"BLDG_CODE"," ");E3.jqGrid("setCell",F9,"ROOM_CODE"," ");E3.jqGrid("setCell",F9,"colstatus"," ");E3.jqGrid("setCell",F9,"WT_POS"," ");E3.jqGrid("setCell",F9,"colaction"," ");var F6=F8.SECTION_HEAD+""+F8.SECTION_NUMBER;$("#wr-gridrow-header-outer-id-"+F9).click(function(){var GA=$("#wr-gridrow-header-id-"+F9).attr("src");if(GA===EO){$("#wr-gridrow-header-id-"+F9).attr("src",DJ);$(".wr-gridrow-class-"+F8.ADDINFO+"-"+F8.FK_CDI_INSTR_TYPE+"-"+F6).addClass("grid-row-hidden");}else{$("#wr-gridrow-header-id-"+F9).attr("src",EO);$(".wr-gridrow-class-"+F8.ADDINFO+"-"+F8.FK_CDI_INSTR_TYPE+"-"+F6).removeClass("grid-row-hidden");}});return;}if(undefined!=F8.FK_CDI_INSTR_TYPE&&F8.FK_CDI_INSTR_TYPE.match(/FI|MI|FM|PB|RE|OT|MU/)){if(F8.START_DATE.indexOf("TBA")>-1){F7="TBA";}else{var F7=E3.jqGrid("getCell",F9,"DAY_CODE");F7=F7+" "+Av(F8.START_DATE);}E3.jqGrid("setCell",F9,"DAY_CODE",F7);switch(F8.FK_CDI_INSTR_TYPE){case"MI":E3.jqGrid("setCell",F9,"CRSE_TITLE","Midterm");break;case"FI":E3.jqGrid("setCell",F9,"CRSE_TITLE","Final Exam");break;}}});$(".wr-gridrow-class").addClass("grid-row-hidden");}AJ();function e(){if(!CQ){$(".grid-but-plan-wait-class").button().button("disable");$(".grid-but-plan-wait-class").attr("title",EM);}if(!p){$(".grid-but-edit-class").button().button("disable");$(".grid-but-edit-class").attr("title",Di);}if(!BA){$(".grid-but-drop-class").button().button("disable");$(".grid-but-drop-class").attr("title",o);}if(AT){$(".grid-but-eddr-class").button().button("disable");$(".grid-but-eddr-class").attr("title",Bz);$(".grid-but-plan-enwt-class").button().button("disable");$(".grid-but-plan-enwt-class").attr("title",Bz);}else{if(!AA){$(".grid-but-plan-enwt-class").button().button("disable");$(".grid-but-plan-enwt-class").attr("title",Bz);}}if(C0){$(".noMoreEnWtGridClass").button().button("disable");$(".noMoreEnWtGridClass").attr("title",EA);}if(Eu){$(".wrbuttong").button().button("disable");$(".wrbuttong").attr("title",CO);}}function EG(Ev){return Ev.split(" ")[0];}function CB(Ev){return Ev.match(/[0-9]+/g);}function DH(){$("#list-id-event").jqGrid("GridUnload");if(0==A5.length){return;}$("#list-id-event").jqGrid({caption:"My Events",datatype:"local",height:"100%",gridview:true,loadonce:true,sortable:true,rowNum:100,viewrecords:true,cmTemplate:{title:false},beforeSelectRow:function(Ew,Ex){return false;
},onRightClickRow:function(){$("#list-id-event").jqGrid("resetSelection");return false;},colNames:["Name","Location","Start","End","Days","Action",""],colModel:[{name:"DESCRIPTION",jsonmap:"DESCRIPTION",fixed:true,width:150,align:"left",editable:false,sortable:false},{name:"LOCATION",jsonmap:"LOCATION",fixed:true,width:150,align:"left",editable:false,sortable:false},{name:"EV_START_TIME",jsonmap:"START_TIME",fixed:true,width:100,align:"center",editable:false,sortable:false},{name:"EV_END_TIME",jsonmap:"END_TIME",fixed:true,width:100,align:"center",editable:false,sortable:false},{name:"EV_DAYS",jsonmap:"DAYS",fixed:true,width:200,align:"center",editable:false,sortable:false},{name:"ACTION",jsonmap:"ACTION",fixed:true,width:120,align:"center",editable:false,sortable:false},{name:"nothing",fixed:true,width:30,align:"center",editable:false,sortable:false,hidden:!DI}],rowattr:function(Ey){var Ex="";var Ew=Ey.ROW_ATTR;if(undefined!=Ew){if(undefined!=Ey.ROW_ATTR.rowClass){Ex={"class":Ey.ROW_ATTR.rowClass};}}return Ex;}});var Ev=$("#list-id-event");$.each(A5,function(Ey,Ex){var E0=Ey;var E1=Cm(Ex.START_TIME);var Ez=Cm(Ex.END_TIME);var Ew=Ex.DAYS.split("");var E9=("1"==Ew[0])?" checked ":"";var E8=("1"==Ew[1])?" checked ":"";var E6=("1"==Ew[2])?" checked ":"";var E5=("1"==Ew[3])?" checked ":"";var E4=("1"==Ew[4])?" checked ":"";var E3=("1"==Ew[5])?" checked ":"";var E2=("1"==Ew[6])?" checked ":"";var FA='<table style="width:100%; margin-top:0px;" class="wr-gridevent-class" ><tr> <td ><label>Mon</label></td> <td ><label>Tue</label></td> <td ><label>Wed</label></td> <td ><label>Thu</label></td> <td ><label>Fri</label></td> <td ><label>Sat</label></td> <td ><label>Sun</label></td> </tr> <tr>'+"	<td ><input disabled "+E9+' type="checkbox" /></td>'+"	<td ><input disabled "+E8+' type="checkbox" /></td>'+"	<td ><input disabled "+E6+' type="checkbox" /></td>'+"	<td ><input disabled "+E5+' type="checkbox" /></td>'+"	<td ><input disabled "+E4+' type="checkbox" /></td>'+"	<td ><input disabled "+E3+' type="checkbox" /></td>'+"	<td ><input disabled "+E2+' type="checkbox" /></td>'+"	</tr></table>";var E7="<input "+" id=ev-edit-id-"+E0+" class=' wrbutton wrbuttong wrbuttongr secondary ' "+" type='button' value='Change' />";var FB="<input "+" id=ev-remove-id-"+E0+" class=' wrbutton wrbuttong wrbuttongl secondary ' "+" type='button' value='Remove' />";var FD=FB+E7;Ev.jqGrid("addRowData",E0,{EV_START_TIME:E1,EV_END_TIME:Ez,EV_DAYS:FA,DESCRIPTION:Ex.DESCRIPTION,LOCATION:Ex.LOCATION,ACTION:FD});var FC={aeName:Ex.DESCRIPTION,aeDays:Ex.DAYS,aeLocation:Ex.LOCATION,aeStartTime:Ex.START_TIME,aeEndTime:Ex.END_TIME,aeTimeStamp:Ex.TIME_STAMP};$("#ev-edit-id-"+E0).click(FC,Ae);$("#ev-remove-id-"+E0).click(FC,EW);});}DH();function c(){var E0=AQ(V);var Ey=[];Ey.length=0;var Ew=[];Ey.length=0;var Ex={};$.each(E0,function(E1,E2){if(E2.SECTION_NUMBER!=E2.SECTION_HEAD){return;}if(Ex[E2.SECTION_NUMBER]){return;}Ex[E2.SECTION_NUMBER]=true;if("EN"==E2.ENROLL_STATUS){Ey.push(E2.SUBJ_CODE.trim()+"."+E2.CRSE_CODE+"."+E2.SECTION_NUMBER);}if("WT"==E2.ENROLL_STATUS){Ew.push(E2.SUBJ_CODE+"."+E2.CRSE_CODE+"."+E2.SECTION_NUMBER);}});var Ev="";if(Ey.length>0){Ev="&class="+Ey.join(":").replace(/\s/g,"");}var Ez="";if(Ew.length>0){Ez="&waitlist="+Ew.join(":").replace(/\s/g,"");}E0.length=0;E0=null;Ey.length=0;Ey=null;Ew.length=0;Ew=null;Ex={};Ex=null;$("#view-booklist").empty();if(V.length>0){$("#view-booklist").append('<a id="print-link" href="#">Print Schedule</a>');$("#view-booklist").on("click","#print-link",AH);}if(""!=Ev||""!=Ez){$("#view-booklist").append(" | <a id='viewbooklistlink' style='color:white;' target='_blank' href='http://ucsdbkst.ucsd.edu/wrtx/FullBookList?term="+CW+Ev+Ez+"'>View Book List</a>");}}c();function AH(){$(".wr-gridrow-class").removeClass("grid-row-hidden");$(".wr-pbfrow-class").removeClass("grid-row-hidden");window.print();$(".wr-gridrow-header-class").attr("src",DJ);$(".wr-pbfrow-header-class").attr("src",DJ);$(".wr-gridrow-class").addClass("grid-row-hidden");$(".wr-pbfrow-class").addClass("grid-row-hidden");return false;}$("#dialog-view").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Close",click:function(){$(this).dialog("close");}}}});$("#dialog-choose").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Close",click:function(){$(this).dialog("close");}}}});function Dh(E5,E2,Ew,Ez,E6){var Ey={};Eg=[];Eg.length=0;var E1=[];E1.length=0;$.each(E2,function(E8,FA){if(true==FA.PB_FRIEND){return;}if("WT"==FA.ENROLL_STATUS){E1.push(FA);return;}var E9=FA.SECTION_NUMBER+FA.ENROLL_STATUS+FA.DAY_CODE+I(FA.BEGIN_HH_TIME,FA.BEGIN_MM_TIME,FA.END_HH_TIME,FA.END_MM_TIME);if(!(E9 in Ey)){Ey[E9]=true;E1.push(FA);}else{FA.DUPLICATE=true;E1.push(FA);Eg.push(FA);}});Ey={};Ey=null;var Ex=[];var E7=new Date().getTime();Ak=[];Ak.length=0;$("#calendar-id-tba").empty();var Ev=[];var E0=[];$.each(E5,function(FD,FI){var FB=FI.DESCRIPTION;var FC=FI.LOCATION;var E9=FB+"<br>"+FC;var FJ=[];FJ=FI.DAYS.split("");for(var FA=0;FA<FJ.length;FA++){if("0"==FJ[FA]){continue;}var FH=FA+1;var FG=Number(E7)+"000"+FD+FA;var FF="9"+FH+FI.START_TIME;var FE="9"+FH+FI.END_TIME;var E8={id:FG,start:K(FF),end:K(FE),title:E9,enStatus:"EV",className:CD+" wr-event-cal-"+FG,aeName:FB,aeDay:FH,aeDays:FI.DAYS,aeLocation:FC,aeStartTime:FI.START_TIME,aeEndTime:FI.END_TIME,aeTimeStamp:FI.TIME_STAMP};Ex.push(E8);}});var E3={};$.each(E1,function(FE,FB){if(X){if(b.localeCompare(String(FB.END_DATE))>0){return;}}var FR=FB.FK_CDI_INSTR_TYPE;if(undefined!=FR&&FR.match(/FI|MI|FM|PB|RE|MU/)){return;}var FG=FB.FK_SPM_SPCL_MTG_CD;if(FG==undefined||FG.trim()!=""){return;}var FN=FB.SECTION_HEAD;var FL=Number(E7)+FE;var FT=FB.DAY_CODE;var FA=String("0"+FB.BEGIN_HH_TIME).slice(-2);var FQ=String("0"+FB.BEGIN_MM_TIME).slice(-2);var Fb=String("0"+FB.END_HH_TIME).slice(-2);
var FO=String("0"+FB.END_MM_TIME).slice(-2);var FC=FA+""+FQ;var FI=Fb+""+FO;var FW="9"+FT+FC;var E9="9"+FT+FI;switch(FB.ENROLL_STATUS){case"EN":var FJ=Cq;break;case"WT":var FJ=Ch;break;case"PL":var FJ=C4;break;}if("PL"!=FB.ENROLL_STATUS){Ak.push({startTime:FC,endTime:FI,dayCode:FT,sectionHead:FN});}var FU=FB.SUBJ_CODE+" "+FB.CRSE_CODE;var FP=FB.BLDG_CODE;if(""==FP.trim()){FP="TBA";}var FY=FB.ROOM_CODE;if(""==FY.trim()){FY="TBA";}var FS=FB.PERSON_FULL_NAME.split(":");var FF="";var E8=[];$.each(FS,function(Fc,Fd){Fd=Fd.trim();if($.inArray(Fd,E8)===-1){E8.push(Fd);if(0==Fc){FF=Fd;}else{FF=FF+" / "+Fd;}}});$.each(E8,function(Fc,Fd){if(Fd.match(/^\s*staff\s*$/i)){return false;}if(Fc==0){E8=Fd;}else{E8=E8+'<span title="'+FF+'"> + </span> ';return false;}});var FX='<span title="'+CS(FR)+'">'+FR+"</span>";var FM="<span id='calendar-title-event-id-"+FL+"' class='calendar-course-title calendar-section-"+FN+"'>"+FU+"</span>"+"<br /><div class='calendar-type-location'>"+FX+" / "+'<a target="_blank"  class="nonewwin '+FJ+'" href="http://act.ucsd.edu/maps/?isisCode='+FP+'">'+FP.trim()+" "+FY.trim()+"</a></div>"+"<br /><div class='calendar-instructor'>"+E8+"</div>";if(FA==0&&FQ==0&&Fb==0&&FO==0){var FK=FU.replace(/\s/g,"");if(!(FK in E3)){E3[FK]=true;$("#calendar-id-tba").append('<tr class="CALTBA_'+FB.SECTION_HEAD+'"'+' style="line-height:120%; color:black" >'+' <td style="text-align:left">'+" *No schedule time for "+FU+" </td></tr>");}return;}var Fa=false;var FV=false;if("EN"==FB.ENROLL_STATUS){if("+"==FB.GRADE_OPTN_CD_PLUS){Fa=true;}if("+"==FB.SECT_CREDIT_HRS_PL){FV=true;}}else{if("WT"==FB.ENROLL_STATUS){var FZ=A0(FN);Fa=FZ[0];FV=FZ[1];}}var FH=FB.COUNT_ON_WAITLIST||0;var FD=FB.SCTN_CPCTY_QTY-FB.SCTN_ENRLT_QTY;if(FD<0||FB.STP_ENRLT_FLAG==="Y"){FD=0;}if(FB.DUPLICATE==undefined){Ex.push({id:FL,start:K(FW),end:K(E9),title:FM,enStatus:FB.ENROLL_STATUS,sectionHead:FN,subjCode:FB.SUBJ_CODE,crseCode:FB.CRSE_CODE,subjCrse:FU,stitle:FB.CRSE_TITLE,unitVal:FB.SECT_CREDIT_HRS,gradeVal:FB.GRADE_OPTION,gradeEnable:Fa,unitEnable:FV,aeDay:FB.DAY_CODE,aeStartTime:FC,aeEndTime:FI,sectionNumber:FB.SECTION_NUMBER,building:FP,room:FY,className:FJ,capacity:FB.SCTN_CPCTY_QTY,available:FD,wtcount:FH,startDate:FB.START_DATE});}E0.push({sectionHead:FN,time:I(FB.BEGIN_HH_TIME,FB.BEGIN_MM_TIME,FB.END_HH_TIME,FB.END_MM_TIME),building:FP,room:FY,status:FB.ENROLL_STATUS,sectionCode:FB.SECT_CODE,subjCrse:FU,days:FB.DAY_CODE,sectionNumber:FB.SECTION_NUMBER,title:FB.CRSE_TITLE,units:FB.SECT_CREDIT_HRS,grade:FB.GRADE_OPTION,type:FB.FK_CDI_INSTR_TYPE,id:FL,subjCode:FB.SUBJ_CODE,crseCode:FB.CRSE_CODE,duplicate:(FB.DUPLICATE!=undefined),wtposition:FB.WT_POS,subtitle:FB.LONG_DESC,capacity:FB.SCTN_CPCTY_QTY,available:FD,wtcount:FH});if($.inArray(FN,Ev)==-1){Ev.push(FN);}});var E4=$.extend(true,[],E0);Ad={};Ad.length=0;$.each(Ev,function(E9,E8){var FA=[];FA.length=0;$.each(E0,function(FC,FD){if(FD.sectionHead==E8){var FB=false;$.each(FA,function(FF,FE){if(FE.sectionCode==FD.sectionCode){if(FE.time==FD.time&&FE.building==FD.building&&FE.room==FD.room){FE.days=FE.days.toString()+FD.days.toString();FB=true;return false;}}});if(!FB){FA.push(FD);}}});Ad[E8]=FA;});$.each(Eg,function(FA,FB){if(Ad[FB.SECTION_NUMBER+FB.ENROLL_STATUS]!=undefined){return;}var FF=[];FF.length=0;var FE=true;var FD=undefined;for(var E9 in Ad){var FC=false;var E8=undefined;$.each(Ad[E9],function(FH,FG){if(FB.ENROLL_STATUS!=FG.status){return false;}if(E9==FG.sectionNumber){E8=FG;}if(FB.SECTION_NUMBER==FG.sectionNumber){FD=FG;FC=true;}});if(FE&&FD!=undefined){FF.push(FD);FE=false;}if(FC&&E8!=undefined){FF.push(E8);}}if(FF.length>0){Ad[FB.SECTION_NUMBER+FB.ENROLL_STATUS]=FF;}});$.each(E4,function(E8,FA){if(FA.duplicate){return;}var E9=FA.sectionHead;$.each(Eg,function(FB,FC){if(FC.SECTION_NUMBER==FA.sectionNumber&&FC.ENROLL_STATUS==FA.status){E9=FA.sectionNumber+FA.status;return false;}});$("#calendar-id").on("click","#calendar-title-event-id-"+FA.id,function(){EB(Ad[E9],FA.id);});});E3={};E3=null;E6(Ex);}function EB(Ex,E0){if($("#calendar-title-event-id-"+E0).hasClass("calendar-course-title-hidden")){return;}var Ev=(Ex[0].status=="WT");$("#diagview-wtcount-header").empty();$("#diagview-wtcount-header").text(Ev?"Waitlist Position":"Waitlist Count");$("#diagview-class-table-subj").empty();$("#diagview-class-table-title").empty();$("#diagview-class-table-grade-p").empty();$("#diagview-class-table-unit-p").empty();$("#diagview-class-table-code").empty();$("#diagview-class-table-type").empty();$("#diagview-class-table-days").empty();$("#diagview-class-table-time").empty();$("#diagview-class-table-seats").empty();$("#diagview-class-table-wtcount").empty();$("#dialog-view").dialog("open");DO();$("#diagview-class-table-subj").text(Ex[0].subjCrse);var Ey=Ex[0].title;if(Ex[0].subtitle.trim()!=""){Ey+=" - "+Ex[0].subtitle;}$("#diagview-class-table-title").text(Ey);$("#diagview-class-table-grade-p").text(Ac(Ex[0].grade));$("#diagview-class-table-unit-p").text(Ex[0].units.toFixed(2));$("#diagview-class-table-code").text(Ex[0].sectionCode);$("#diagview-class-table-type").text(Ex[0].type);$("#diagview-class-table-days").text(EE(Ex[0].days));$("#diagview-class-table-time").text(Ex[0].time);if(Ex.length==1){var Ew=Ex[0].available+"/"+Ex[0].capacity;$("#diagview-class-table-seats").text(Ew);if(Ev){$("#diagview-class-table-wtcount").text(Ex[0].wtposition);}else{$("#diagview-class-table-wtcount").text(Ex[0].wtcount);}}var Ez=$("#diagview-class-table");$(".diagview-class-table-no1234").empty();$.each(Ex.slice(1),function(E2,E4){rowDef='<tr class="diagview-class-table-no1234" >';var E3=E4.available+"/"+E4.capacity;var E1="";if(Ev){E1=E4.wtposition;}else{E1=E4.wtcount;}Ez.append(rowDef+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+"<td>"+E4.sectionCode+"</td>"+"<td>"+E4.type+"</td>"+"<td>"+EE(E4.days)+"</td>"+"<td>"+E4.time+"</td>"+"<td>"+E3+"</td>"+"<td>"+E1+"</td>"+"</tr>");
});}function En(Ev,Ew){if($("#calendar-title-event-id-"+Ev[0].id).hasClass("calendar-course-title-hidden")){return;}$("#diagchoose-class-table-subj").empty();$("#diagchoose-class-table-title").empty();$("#diagchoose-class-table-grade-p").empty();$("#diagchoose-class-table-unit-p").empty();$("#diagchoose-class-table-code").empty();$("#diagchoose-class-table-type").empty();$("#diagchoose-class-table-days").empty();$("#diagchoose-class-table-time").empty();$("#diagchoose-class-table-seats").empty();$("#diagchoose-class-table-wtcount").empty();$("#diagchoose-class-table-action").empty();$("#dialog-choose").dialog("open");DO();$("#diagchoose-class-table-subj").text(Ev[0].subjCrse);$("#diagchoose-class-table-title").text(Ev[0].title);$("#diagchoose-class-table-grade-p").text(Ac(Ev[0].grade));$("#diagchoose-class-table-unit-p").text(Ev[0].units.toFixed(2));$("#diagchoose-class-table-code").text(Ev[0].sectionCode);$("#diagchoose-class-table-type").text(Ev[0].type);$("#diagchoose-class-table-days").text(EE(Ev[0].days));$("#diagchoose-class-table-time").text(Ev[0].time);D3("<strong>Which section would you like to perform this action on?</strong>");var Ex=$("#diagchoose-class-table");$(".diagview-class-table-no1234").empty();$.each(Ev.slice(1),function(E0,E4){var E5=false;if(E4.status=="PL"){if(undefined!=J[E4.sectionNumber]){E5=AZ(E4.sectionNumber,J[E4.sectionNumber].AVAIL_SEAT,J[E4.sectionNumber].STP_ENRLT_FLAG,E4.subjCode,E4.crseCode);}}rowDef='<tr class="diagview-class-table-no1234" >';var E1=E4.available+"/"+E4.capacity;var Ez=E4.wtcount;var E3="choose-button-event-"+E4.id;var Ey="";switch(Ew){case"change":Ey="Change";break;case"drop":Ey="Drop";break;case"waitlist":case"enroll":Ey=(E5)?"Enroll":"Waitlist";break;case"removeplan":Ey="Remove";break;}Ex.append(rowDef+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+"<td>"+E4.sectionCode+"</td>"+"<td>"+E4.type+"</td>"+"<td>"+EE(E4.days)+"</td>"+"<td>"+E4.time+"</td>"+"<td>"+E1+"</td>"+"<td>"+Ez+"</td>"+'<td><input type="button"  id="'+E3+'" class="ui-button wrbutton wrbuttonc" value="'+Ey+'" /></td>'+"</tr>");switch(Ew){case"change":var E2={data:{objid:E4.id,sectionHead:E4.sectionHead,enStatus:E4.status}};$("#"+E3).click(function(){AD(E2);$("#dialog-choose").dialog("close");});break;case"drop":var E2={data:{objid:E4.id,sectionHead:E4.sectionHead,enStatus:E4.status}};$("#"+E3).click(function(){AX(E2);$("#dialog-choose").dialog("close");});break;case"waitlist":case"enroll":$("#"+E3).click(function(){$("#dialog-choose").dialog("close");DB(E4.sectionHead,(E5)?"enroll":"wait",E4.subjCode,E4.crseCode,E4.title,undefined,undefined);});break;case"removeplan":var E2={data:{actionTip:"<b style='font-size:16px' >Would you like to remove the following planned class?</b>",sectionHead:E4.sectionHead}};$("#"+E3).click(function(){Bo(E2);$("#dialog-choose").dialog("close");});break;}});}function AN(Ev){return(Ev.charAt(0)=="0")?Ev.charAt(1):Ev.substring(0,2);}function DA(){Cw="23";Y="00";Aj=false;$.each(A5,function(Ez,E1){var Ey=E1.START_TIME.substring(0,2);var E0=E1.END_TIME.substring(0,2);if(Ey<Cw){Cw=Ey;}if(E0>Y){Y=E0;}});Cw=Cw.substring(0,2);Y=Y.substring(0,2);var Ev=AQ(V);var Ex={};var Ew=[];Ew.length=0;$.each(Ev,function(Ey,E0){if(true==E0.PB_FRIEND){return;}if("PL"!=E0.ENROLL_STATUS){Ew.push(E0);return;}var Ez=E0.SECTION_NUMBER+E0.DAY_CODE+I(E0.BEGIN_HH_TIME,E0.BEGIN_MM_TIME,E0.END_HH_TIME,E0.END_MM_TIME);if(!(Ez in Ex)){Ex[Ez]=true;Ew.push(E0);}});$.each(Ew,function(E0,E2){var Ey=String("0"+E2.BEGIN_HH_TIME).slice(-2);var E1=String("0"+E2.BEGIN_MM_TIME).slice(-2);var Ez=String("0"+E2.END_HH_TIME).slice(-2);var E3=String("0"+E2.END_MM_TIME).slice(-2);if(!(Ey==0&&E1==0&&Ez==0&&E3==0)){if(Ey<Cw&&Ey!="00"){Cw=Ey;}if(Ez>Y){Y=Ez;}}});if(Cw=="23"&&Y=="00"){Cw="7";Y="7";Aj=true;}}function A1(){var Ex="alwaysdisable";var Ez=function(E0,E1){$(E0).button().button("disable");$(E0).button().addClass(Ex);$(E0).attr("title",E1);};var Ew=function(){if(!p){Ez(".cal-edit-class",Di);}if(!BA){Ez(".cal-drop-class",o);}if(!CQ){Ez(".cal-plan-wait-class",EM);}if(AT){Ez(".cal-eddr-class",Bz);Ez(".cal-plan-enwt-class",Bz);}else{if(!AA){Ez(".cal-plan-enwt-class",DE);}}if(C0){Ez(".noMoreEnWtCalClass",EA);}if(Eu){Ez(".wrbuttonc",CO);}};var Ey=[];var Ev=[];DA();$("#calendar-id").empty();$("#calendar-id").fullCalendar({slotEventOverlap:true,defaultView:"agendaWeek",header:{left:false,center:false,right:false},columnFormat:{week:"dddd"},height:9999,axisFormat:(Aj)?"":"htt",editable:false,theme:true,allDaySlot:false,allDayDefault:false,weekends:true,slotMinutes:30,firstDay:1,minTime:parseInt(AN(Cw)),maxTime:parseInt(AN(Y))+1,ignoreTimezone:false,defaultEventMinutes:50,events:function(E4,E0,E3){if(V!=null){var E2=AQ(V);Dh(A5,E2,E4,E0,E3);}else{var E1=Br?null:EK;Bh(E1,"","",function(E5){V=E5;Dh(A5,AQ(V),E4,E0,E3);});}},eventClick:function(E7,E1,E0){$(this).css("z-index",99);if($(this).hasClass("event-div-hidden")){E1.stopPropagation();}$(this).removeClass("event-div-hidden");var E6=Ev;var E5=$.extend(true,[],E6);var E4=$(this).attr("id").substring(16);var E2;$.each(E5,function(E8,E9){if(E9.id==E4){E2=E9;E5.splice(E8,1);return false;}});$.each(E5,function(E8,E9){if(E9.day==E2.day){if(E9.start<E2.end&&E2.start<E9.end){$(".fc-event-button-class-"+E9.id).button().button("disable");E9.element.css("z-index",0);if(!$("#fc-event-div-id-"+E9.id).hasClass("event-div-hidden")){$("#fc-event-div-id-"+E9.id).addClass("event-div-hidden");}if($("#calendar-title-event-id-"+E9.id).length){$("#calendar-id").off("click","#calendar-title-event-id-"+E9.id,EB);if(!$("#calendar-title-event-id-"+E9.id).hasClass("calendar-course-title-hidden")){$("#calendar-title-event-id-"+E9.id).addClass("calendar-course-title-hidden");}}}}});$(".fc-event-button-class-"+E4).button().button("enable");$("."+Ex).button().button("disable");if($("#calendar-title-event-id-"+E4).length){var E3=E2.sectionHead;
$.each(Eg,function(E8,E9){if(E9.SECTION_NUMBER==E2.section&&E9.ENROLL_STATUS==E2.status){E3=E7.sectionNumber+E2.status;return false;}});$("#calendar-id").on("click","#calendar-title-event-id-"+E7.id,function(){EB(Ad[E3],E7.id);});$("#calendar-title-event-id-"+E4).removeClass("calendar-course-title-hidden");}},eventAfterAllRender:function(E0){$("#calendar-id .fc-today").removeClass("ui-state-highlight");$.each(Ey,function(E2,E1){var E3=E1;$.each(Ey.slice(E2+1),function(E5,E4){if(E1.day==E4.day&&E1.section!=E4.section&&E1.startDate==E4.startDate){if(E1.start<E4.end&&E4.start<E1.end){E3=E4;if(E4.status!="EV"&&E1.status!="EV"){if(!E4.element.hasClass("conflict-cal-event")){E4.element.addClass("conflict-cal-event");}if(!E1.element.hasClass("conflict-cal-event")){E1.element.addClass("conflict-cal-event");}}}}});E1.top=(E3==E1);});$.each(Ey,function(E1,E2){if(!E2.top){$(".fc-event-button-class-"+E2.id).button().button("disable");if(!$("#fc-event-div-id-"+E2.id).hasClass("event-div-hidden")){$("#fc-event-div-id-"+E2.id).addClass("event-div-hidden");}$("#calendar-id").off("click","#calendar-title-event-id-"+E2.id,EB);if(!$("#calendar-title-event-id-"+E2.id).hasClass("calendar-course-title-hidden")){$("#calendar-title-event-id-"+E2.id).addClass("calendar-course-title-hidden");}}});Ew();Ev=$.extend(true,[],Ey);Ey=[];Ey.length=0;},eventAfterRender:function(E2,E1,E0){if($(E1).css("width").replace(/px/i,"")<100){$(E1).css("width","100px");}},eventRender:function(Fh,FE,E3){FE.find(".fc-event-title").html(Fh.title);FE.attr("id","fc-event-div-id-"+Fh.id);var FF=Fh.id;var E2=Fh.sectionHead;var Fb=Fh.subjCode;var FT=Fh.crseCode;var Fg=Fh.stitle;var FW=Fh.gradeVal;var E9=Fh.unitVal;var FD=Fh.enStatus;var FB=undefined;var FA=undefined;var FQ=Fh.aeName;var E6=Fh.aeDay;var FJ=Fh.aeDays;var E1=Fh.aeLocation;var FY=Fh.aeStartTime;var FM=Fh.aeEndTime;var FR=Fh.aeTimeStamp;var FN=Fh.sectionNumber||"";var FC=[];Ey.push({id:Fh.id,element:FE,status:FD,day:E6,start:FY,end:FM,section:FN,sectionHead:E2,startDate:Fh.startDate});switch(FD){case"EN":FB=0;FA="Enrolled";break;case"WT":FB=1;FA="Waitlist";break;case"PL":FB=2;FA="Planned";break;case"EV":FB=3;FA="Event";break;}var E5=Fh.gradeEnable;var Fi=Fh.unitEnable;var FS=FE[0].innerHTML;FS=FS.replace(/fc-event-time">([^<]+)<\/div>/,'fc-event-time">'+"<span> $1</span>"+"<span class='fc-local-enstatus' > "+FA+"</span>"+"</div>");switch(FB){case 0:var Fa=" wrbuttonc cal-enroll-class-but ";break;case 1:var Fa=" wrbuttonc cal-wait-class-but ";break;case 2:var Fa=" wrbuttonc cal-plan-class-but ";break;case 3:var Fa=" wrbuttonc cal-event-class-but ";break;default:var Fa=" wrbuttonc ";break;}var FI=undefined;var FK=undefined;var E4="cal-edit-id-"+FF;var E7="cal-drop-id-"+FF;var FZ="cal-plan-enroll-id-"+FF;var Ff="cal-plan-wait-id-"+FF;var FU="cal-plan-remove-id-"+FF;var FX="cal-event-edit-id-"+FF;var E0="cal-event-remove-id-"+FF;var E8="fc-event-button-class-"+Fh.id;var FO=false;$.each(Eg,function(Fj,Fk){if(Fk.SECTION_NUMBER==Fh.sectionNumber&&Fk.ENROLL_STATUS==Fh.enStatus){FO=true;return false;}});if(2==FB){var FH=false;if(FO){var FG=Fh.sectionNumber+Fh.enStatus;var FL=Ad[FG];$.each(FL.slice(1),function(Fj,Fk){if(undefined!=J[Fk.sectionNumber]){var Fl=AZ(Fk.sectionNumber,J[Fk.sectionNumber].AVAIL_SEAT,J[Fk.sectionNumber].STP_ENRLT_FLAG,Fk.subjCode,Fk.crseCode);if(Fl){FH=true;return false;}}});}else{if(undefined!=J[E2]){FH=AZ(E2,J[E2].AVAIL_SEAT,J[E2].STP_ENRLT_FLAG,Fb,FT);}}if(BI(undefined,Fb,FT,"EN")[0]){var Fc=" noMoreEnWtCalClass ";}else{var Fc="";}if(FH){FI="<input type='button'  id='"+FZ+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncr secondary cal-plan-enwt-class cal-plan-enroll-class "+Fa+Fc+" "+E8+" ' "+"value='Enroll' />";}else{FI="<input type='button'  id='"+Ff+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncr secondary cal-plan-enwt-class cal-plan-wait-class "+Fa+Fc+" "+E8+" ' "+" value='Waitlist' />";}FK="<input type='button'  id='"+FU+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncl secondary cal-plan-remove-class "+Fa+" "+E8+" ' "+" value='Remove' />";}else{if(3==FB){FI="<input type='button'  id='"+FX+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncr secondary cal-event-class cal-event-edit-class "+Fa+" "+E8+" ' "+" ' value='Change' />";FK="<input type='button'  id='"+E0+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncl secondary cal-event-class cal-event-remove-class "+Fa+" "+E8+" ' "+" ' value='Remove' />";}else{FI="<input type='button'  id='"+E4+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncr secondary cal-eddr-class cal-edit-class "+Fa+" "+E8+" ' "+" ' value='Change' />";FK="<input type='button'  id='"+E7+"' "+" class='ui-button wrbutton wrbuttonc wrbuttoncl secondary cal-eddr-class cal-drop-class "+Fa+" "+E8+" ' "+" ' value='Drop' />";}}var Fd=FK+FI;if(DI){FS=FS.replace(/(<\/div>)\s*(<\/div>)/i,"$1"+Fd+"$2");}else{FS=FS.replace(/(<\/div>)\s*(<\/div>)/,"$1"+Fd+"$2");}FE[0].innerHTML=FS;var FP={objid:Fh.id,sectionHead:E2,enStatus:FD};if(FO){var FG=Fh.sectionNumber+Fh.enStatus;if(!E5&&!Fi){$("#"+E4).button().button("disable");$("#"+E4).button().addClass(Ex);$("#"+E4).button().attr("title",Ce);}else{$("#"+E4).click(function(){En(Ad[FG],"change");});}$("#"+E7).click(function(){En(Ad[FG],"drop");});$("#"+FZ).click(function(){En(Ad[FG],"enroll");});$("#"+Ff).click(function(){En(Ad[FG],"waitlist");});$("#"+FU).click(function(){En(Ad[FG],"removeplan");});return;}if(!E5&&!Fi){$("#"+E4).button().button("disable");$("#"+E4).button().addClass(Ex);$("#"+E4).button().attr("title",Ce);}else{$("#"+E4).click(FP,AD);}$("#"+E7).click(FP,AX);$("#"+FZ).click(function(){DB(E2,"enroll",Fb,FT,Fg,undefined,undefined);});$("#"+Ff).click(function(){DB(E2,"wait",Fb,FT,Fg,undefined,undefined);});var FV={actionTip:"<b style='font-size:16px' >Would you like to remove the following planned class?</b>",sectionHead:E2};$("#"+FU).click(FV,Bo);var Fe={objid:Fh.id,aeName:FQ,aeDay:E6,aeDays:FJ,aeLocation:E1,aeStartTime:FY,aeEndTime:FM,aeTimeStamp:FR};$("#"+FX).click(Fe,Ae);
$("#"+E0).click(Fe,EW);}});}A1();function Ax(){if(0==Cg.length){$("#calendar-id-pb").jqGrid("clearGridData",true);$("#calendar-id-pb-div").hide();return;}$("#calendar-id-pb-div").show();$("#calendar-id-pb").jqGrid("clearGridData",true);$("#calendar-id-pb").jqGrid({caption:"Additional Sessions & Meetings",datatype:"local",height:"100%",shrinkToFit:true,gridview:true,loadonce:true,sortable:true,rowNum:100,hidegrid:false,viewrecords:true,cmTemplate:{title:false},beforeSelectRow:function(Ew,Ex){return false;},onRightClickRow:function(){$("#calendar-id-pb").jqGrid("resetSelection");return false;},colNames:["Subject Course","Title","Status","Day","Date","Time","Building","Room","","RowAttr","enStatus"],colModel:[{name:"PBF_SUBJ_CRSE",jsonmap:"PBF_SUBJ_CRSE",fixed:true,width:100,align:"left",editable:false,sortable:false},{name:"PBF_TITLE",jsonmap:"PBF_TITLE",fixed:true,width:200,align:"left",editable:false,sortable:false},{name:"PBF_STATUS",jsonmap:"PBF_STATUS",fixed:true,width:80,align:"center",editable:false,sortable:false},{name:"PBF_DAY",jsonmap:"PBF_DAY",fixed:true,width:40,align:"center",editable:false,sortable:false},{name:"PBF_DATE",jsonmap:"PBF_DATE",fixed:true,width:100,align:"center",editable:false,sortable:false},{name:"PBF_TIME",jsonmap:"PBF_TIME",fixed:true,width:100,align:"center",editable:false,sortable:false},{name:"PBF_BLDG",jsonmap:"PBF_BLDG",fixed:true,width:80,align:"center",editable:false,sortable:false,formatter:De,cellattr:y},{name:"PBF_ROOM",jsonmap:"PBF_ROOM",fixed:true,width:80,align:"center",editable:false,sortable:false,formatter:CR,cellattr:y},{name:"nothing",fixed:true,width:40,align:"center",editable:false,sortable:false,hidden:!DI},{name:"ROW_ATTR",hidden:true},{name:"ENROLL_STATUS",hidden:true,jsonmap:"ENROLL_STATUS"}],rowattr:function(Ey){var Ex="";var Ew=Ey.ROW_ATTR;if(undefined!=Ew){if(undefined!=Ey.ROW_ATTR.rowClass){Ex={"class":Ey.ROW_ATTR.rowClass};}}return Ex;}});var Ev=$("#calendar-id-pb");$.each(Cg,function(Ez,E1){var E2=Ez;Ev.jqGrid("addRowData",E2,E1);if(undefined!=E1.PBF_HEAD&&E1.PBF_HEAD.match(/HEADER_/)){var Ex=E1.PBF_HEAD.substring(7);var Ey="<div class='wr-pbfrow-header-outer-class' id='wr-pbfrow-header-outer-id-"+E2+"'><img class='wr-pbfrow-header-class' id='wr-pbfrow-header-id-"+E2+"' alt='Expand: ' src='"+DJ+"' "+" style=' width:8px; height:8px; margin-right: 2px; margin-top: 5px;' ></img> "+Ex+"</div>";Ev.jqGrid("setCell",E2,"PBF_TITLE",Ey);var E0=E1.SECTION_HEAD+""+E1.SECTION_NUMBER;$("#wr-pbfrow-header-outer-id-"+E2).click(function(){var E3=$("#wr-pbfrow-header-id-"+E2).attr("src");if(E3===EO){$("#wr-pbfrow-header-id-"+E2).attr("src",DJ);$(".wr-pbfrow-class-"+E1.PBF_INFO+"-"+E1.PBF_MTYPE+"-"+E0).addClass("grid-row-hidden");}else{$("#wr-pbfrow-header-id-"+E2).attr("src",EO);$(".wr-pbfrow-class-"+E1.PBF_INFO+"-"+E1.PBF_MTYPE+"-"+E0).removeClass("grid-row-hidden");}});}var Ew=$("#calendar-id-pb tbody tr#"+E2);switch(E1.ENROLL_STATUS){case"EN":Ew.addClass("wr-grid-en");break;case"WT":Ew.addClass("wr-grid-wt");break;case"PL":Ew.addClass("wr-grid-pl");break;}});$(".wr-pbfrow-class").addClass("grid-row-hidden");}Ax();function Cu(E0,Ev,Ey,E2){var Ex={};var Ez=[];Ez.length=0;$.each(E0,function(E4,E6){if(!E6.FK_SPM_SPCL_MTG_CD.match(/FI/)){return;}var E5=E6.SECTION_NUMBER+E6.DAY_CODE+E6.ENROLL_STATUS+I(E6.BEGIN_HH_TIME,E6.BEGIN_MM_TIME,E6.END_HH_TIME,E6.END_MM_TIME);if(!(E5 in Ex)){Ex[E5]=true;Ez.push(E6);}});Ex={};Ex=null;var Ew=[];var E3=new Date().getTime();A7=[];A7.length=0;var E1=undefined;$.each(Ez,function(FA,E7){var FE=Number(E3)+FA;var FK=E7.DAY_CODE;if(FK==6){if(E1==undefined){BG(function(FQ){E1=FQ.DATE;});}if(undefined!=E1&&E7.START_DATE.replace(/-/g,"")<E1.replace(/-/g,"")){FK=0;}}var E6=String("0"+E7.BEGIN_HH_TIME).slice(-2);var FI=String("0"+E7.BEGIN_MM_TIME).slice(-2);var FP=String("0"+E7.END_HH_TIME).slice(-2);var FG=String("0"+E7.END_MM_TIME).slice(-2);var E9=E6+""+FI;var FC=FP+""+FG;var FL="9"+FK+E9;var E5="9"+FK+FC;var FN=E7.SUBJ_CODE+" "+E7.CRSE_CODE;var FH=E7.BLDG_CODE;var FM=E7.ROOM_CODE;A7.push({subjCrse:FN,startTime:E9,endTime:FC,startDate:E7.START_DATE,dayCode:FK});var FO=[];switch(E7.ENROLL_STATUS){case"EN":FO[0]=0;FO[1]="Enrolled";break;case"WT":FO[0]=1;FO[1]="Waitlist";break;case"PL":FO[0]=2;FO[1]="Planned";break;}switch(FO[0]){case 0:var FD=Cq;break;case 1:var FD=Ch;break;case 2:var FD=C4;break;}var FJ=E7.PERSON_FULL_NAME.split(":");var FB="";var E4=[];$.each(FJ,function(FQ,FR){FR=FR.trim();if($.inArray(FR,E4)===-1){E4.push(FR);if(0==FQ){FB=FR;}else{FB=FB+" / "+FR;}}});$.each(E4,function(FQ,FR){if(FR.match(/^\s*staff\s*$/i)){return false;}if(FQ==0){E4=FR;}else{E4=E4+'<span title="'+FB+'"> + </span> ';return false;}});var E8=Av(E7.START_DATE);if(CE){finalLocation='<a target="_blank" class="nonewwin '+FD+' " href="http://act.ucsd.edu/maps/?isisCode='+FH+'">'+FH.trim()+" "+FM.trim()+"</a>\n";}else{finalLocation="Location - TBA\n";}var FF="<br><b><em>"+E8+"</em></b><br>"+"<br>"+FN+"<br>"+finalLocation+"<br>"+E4;Ew.push({id:FE,start:K(FL),end:K(E5),title:FF,className:FD,enStatus1:FO[1],sectionHead:E7.SECTION_HEAD,aeDay:FK,aeStartTime:E9,aeEndTime:FC,sectionNumber:E7.SECTION_NUMBER,startDate:E7.START_DATE});});E2(Ew);}function Cz(){DD="23";z="00";Db=false;var Ex={};var Ev=AQ(V);var Ew=[];Ew.length=0;$.each(Ev,function(Ey,E0){if(!E0.FK_SPM_SPCL_MTG_CD.match(/FI/)){return;}var Ez=E0.SECTION_NUMBER+E0.DAY_CODE+E0.ENROLL_STATUS+I(E0.BEGIN_HH_TIME,E0.BEGIN_MM_TIME,E0.END_HH_TIME,E0.END_MM_TIME);if(!(Ez in Ex)){Ex[Ez]=true;Ew.push(E0);}});Ex={};Ex=null;$.each(Ew,function(E0,E2){var Ey=String("0"+E2.BEGIN_HH_TIME).slice(-2);var E1=String("0"+E2.BEGIN_MM_TIME).slice(-2);var Ez=String("0"+E2.END_HH_TIME).slice(-2);var E3=String("0"+E2.END_MM_TIME).slice(-2);if(!(Ey==0&&E1==0&&Ez==0&&E3==0)){if(Ey<DD&&Ey!="00"){DD=Ey;}if(Ez>z){z=Ez;}}});if(DD=="23"&&z=="00"){DD="7";z="7";Db=true;}}function AP(){var Ew=["Sat","Mon","Tue","Wed","Thu","Fri","Sat"];if(BJ){return Ew;}var Ev=null;BG(function(Ex){var Ey=Ex.DATE.split("-");Ev=new Date(Ey[0],Ey[1]-1,Ey[2]);
if(Ev.getDay()==5){Ev.setDate(Ev.getDate()-6);}else{Ev.setDate(Ev.getDate()-7);}});$.each(Ew,function(Ex,Ey){Ew[Ex]+="\n"+(Ev.getMonth()+1)+"/"+Ev.getDate()+"/"+Ev.getFullYear();if(Ex==0){Ev.setDate(Ev.getDate()+2);}else{Ev.setDate(Ev.getDate()+1);}});return Ew;}function Ah(){var Ev=[];Cz();var Ew=AP();$("#finalcal-id").empty();$("#finalcal-id").fullCalendar({slotEventOverlap:true,defaultView:"agendaWeek",header:{left:false,center:false,right:false},columnFormat:{week:"dddd"},dayNames:Ew,height:9999,axisFormat:(Db)?"":"htt",editable:false,theme:true,allDaySlot:false,allDayDefault:false,weekends:true,slotMinutes:30,firstDay:0,minTime:parseInt(AN(DD)),maxTime:parseInt(AN(z))+1,ignoreTimezone:false,defaultEventMinutes:50,events:function(E0,Ex,Ez){var Ey=Br?null:EK;Cu(AQ(V),E0,Ex,Ez);},eventAfterAllRender:function(Ex){$("#finalcal-id .fc-today").removeClass("ui-state-highlight");$.each(Ev,function(Ez,Ey){$.each(Ev.slice(Ez+1),function(E1,E0){if(Ey.day==E0.day&&Ey.section!=E0.section&&Ey.startDate==E0.startDate){if(Ey.start<E0.end&&E0.start<Ey.end){if(!E0.element.hasClass("conflict-cal-event")){E0.element.addClass("conflict-cal-event");}if(!Ey.element.hasClass("conflict-cal-event")){Ey.element.addClass("conflict-cal-event");}}}});});Ev=[];Ev.length=0;},eventAfterRender:function(Ez,Ey,Ex){if($(Ey).css("width").replace(/px/i,"")<100){$(Ey).css("width","100px");}},eventRender:function(E0,Ez,Ex){Ez.find(".fc-event-title").html(E0.title);Ev.push({id:E0.id,element:Ez,day:E0.aeDay,start:E0.aeStartTime,end:E0.aeEndTime,section:E0.sectionNumber,startDate:E0.startDate});var Ey=Ez[0].innerHTML;Ey=Ey.replace(/fc-event-time">([^<]+)<\/div>/,'fc-event-time">'+"<span> $1</span>"+"<span class='fc-local-enstatus' > "+E0.enStatus1+"</span>"+"</div>");Ez[0].innerHTML=Ey;},eventClick:function(Ez,Ey,Ex){$(this).siblings().css("z-index",0);$(this).css("z-index",99);}});Bw();}Ah();function Bw(){var Ez=undefined;var Ex=[];Ex.length=0;var Ew=[];Ew.length=0;$.each(A7,function(E0,E1){if(E1.dayCode==0){Ex.push(E1);}else{if(E1.dayCode==6){Ew.push(E1);}}});if(Ex.length>0&&!BJ){G=true;var Ey="";$.each(Ex,function(E0,E1){Ey=Ey+"<br>You have a final for "+E1.subjCrse+" on the First Saturday of Finals week on "+Au(E1.startDate);});Ey=Ey.replace(/<br>/,"");$("#wr-final-conflict-sat-1").html(Ey);if(Ew.length>0){var Ev="";$.each(Ew,function(E0,E1){Ev=Ev+"<br>You have a final for "+E1.subjCrse+" on the Second Saturday of Finals week on "+Au(E1.startDate);});Ev=Ev.replace(/<br>/,"");$("#wr-final-conflict-sat-2").html(Ev);}}else{G=false;$("#wr-final-conflict-sat-1").empty();$("#wr-final-conflict-sat-2").empty();}}$("#dialog-enroll").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){$(this).dialog("close");}},Confirm:{text:"Confirm",click:function(){$(this).dialog("close");var E0=$("#diagenroll-class-table-grade option:selected").val();var E4=$("#diagenroll-class-table-unit option:selected").text();if(undefined==E0||E0.trim()==""){E0=Dp($("#diagenroll-class-table-grade-p").text());}if(undefined==E4||E4.trim()==""){E4=$("#diagenroll-class-table-unit-p").text();}var Ey=$(this).dialog("option","action");var E1=$(this).dialog("option","subjcrse");var Ew=$(this).dialog("option","subjcode");var Ev=BM($(this).dialog("option","crsecode"));var E3=$(this).dialog("option","sectionhead");var E2=$(this).dialog("option","buttonrowid");var Ez=$(this).dialog("option","fromEnrollmentGrid");E4=Number(E4).toFixed(2);var Ex=(Ey=="enroll")?false:true;DM(Ex,E3,E0,E4,Ew,Ev,E2,Ez);return;}}}});function DM(Ex,E3,Ez,E4,Ew,Ev,E1,Ey){var E0=BM(Ev);var E2=Ew.trim();Ck(Ex,E3,Ez,E4,E2,E0,function(E7){var E8="";var FA=Ew+" "+Ev;var E6=Ev.trim();if("SUCCESS"==E7.OPS){var FC="";BH(E3,function(FE){if("SUCCESS"!=FE.OPS){FC="<br><br><div class='msg alert'><h4>Warning</h4>The removal of the planned section was <b>unsuccessful</b></div>";}});EI();r();if(Eo[0].grid){if(undefined!=BU){A9[BU]=$.extend(true,[],AV);var FB=false;var E5=new RegExp(E3);$.each(A9,function(FE,FF){if(undefined==FF||0==FF.length){return;}$.each(FF,function(FG,FH){if(FH.SUBJ_CODE==E2&&FH.CRSE_CODE==E6){if(undefined!=FH.colaction&&!FH.colaction.match(/^\s*$/)){if(FH.colaction.match(/search-enroll-class/)){if(Ex){FH.colaction=FH.colaction.replace(/disableSBWtClass/g,"");FH.colaction=FH.colaction.replace(/search-wait-class/,"search-wait-class disableSBWtClass ");}else{FH.colaction=FH.colaction.replace(/disableSBEnClass/g,"");FH.colaction=FH.colaction.replace(/search-enroll-class/,"search-enroll-class disableSBEnClass ");}}}if(FH.SECTION_NUMBER.toString().match(E5)){FH.colaction=FH.colaction.replace(/disableSBSectionClass/g,"");FH.colaction=FH.colaction.replace(/wrbuttonspew/g,"wrbuttonspew disableSBSectionClass ");if(Ex){if(undefined!=FH.COUNT_ON_WAITLIST){FH.COUNT_ON_WAITLIST=FH.COUNT_ON_WAITLIST.toString().replace(/\d+/g,function(FI){return Number(FI)+1;});}}}else{if(!BI(FH.SECTION_NUMBER,undefined,undefined,"ALL")[0]){FH.colaction=FH.colaction.replace(/disableSBSectionClass/g,"");}}}if(!Ex){if(!FB&&undefined!=FH.SECTION_NUMBER&&FH.SECTION_NUMBER.toString().match(E5)){if(undefined!=FH.AVAIL_SEAT){if(FH.AVAIL_SEAT.toString().match(/^\s*\d+\s*$/)){if(FH.AVAIL_SEAT>0){FH.AVAIL_SEAT=FH.AVAIL_SEAT-1;}FB=true;}}}}});});EV(BU,false,false);}}if("YES"==E7.WARNING){var E9="";if(undefined!=E7.REASON||"null"!=E7.REASON){E9=E7.REASON;}if(Ex){E8="<div class='msg alert'><h4>Request Successful with warning</h4><span>Waitlisted "+FA.trim()+" with "+Ac(Ez)+" grade option for "+E4+" units, Section "+E3+".<br /><br />"+E9+"</span></div>";}else{E8="<div class='msg alert'><h4>Request Successful with warning</h4><span>Enrolled in "+FA.trim()+" with "+Ac(Ez)+" grade option for "+E4+" units, Section "+E3+".<br /><br />"+E9+"</span></div>";if(E7.WAIT_DROP_MSG!=undefined){E8+="<br /><div class='msg error'><h4>Alert:</h4><strong>"+E7.WAIT_DROP_MSG+"</strong></div>";}}}else{if(Ex){E8="<div class='msg confirm'><h4>Request Successful</h4><span>Waitlisted "+FA.trim()+" with "+Ac(Ez)+" grade option for "+E4+" units, Section "+E3+".</span></div>";
}else{E8="<div class='msg confirm'><h4>Request Successful</h4><span>Enrolled in "+FA.trim()+" with "+Ac(Ez)+" grade option for "+E4+" units, Section "+E3+".</span></div>";}}E8=E8+FC;E8+=L(E3,!Ey);}else{var E9="";if(undefined!=E7.REASON||"null"!=E7.REASON){E9=E7.REASON;}E8="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to add "+FA.trim()+", Section "+E3+".  "+E9+"</span></div>";}var FD=$("#dialog-after-action").dialog("open");FD.dialog("option","buttons",O);FD.dialog("option","actionevent",E8);D3(E8);});}function Em(FM,FJ,FT,E5,Ez,FS,Ev,E1,E0,E3,E6,FN,FH,FI,FC){$("#diagenroll-class-table-subj").empty();$("#diagenroll-class-table-title").empty();$("#diagenroll-class-table-grade-p").empty();$("#diagenroll-class-table-unit-p").empty();$("#diagenroll-class-table-code").empty();$("#diagenroll-class-table-type").empty();$("#diagenroll-class-table-days").empty();$("#diagenroll-class-table-time").empty();$(".diagenroll-class-table-no1234").empty();var Ey=CV;var E2=BM(E5);var FQ=FT+" "+E5;var FB=$("#dialog-enroll").dialog("open");FB.dialog("option","action",FM);FB.dialog("option","sectionhead",FJ);FB.dialog("option","subjcrse",FQ);FB.dialog("option","subjcode",FT);FB.dialog("option","crsecode",E5);FB.dialog("option","buttonrowid",FH);$("#diagenroll-class-table-subj").text(FQ);$("#diagenroll-class-table-title").text(Ez);$("#dialog-enroll-button-confirm").button("enable");var FR=$("#list-id-table");var Ex=FR.jqGrid("getDataIDs");var FL=[];for(var FP=0;FP<=Ex.length;FP++){var FD=Ex[FP];rowData=FR.jqGrid("getRowData",FD);if(undefined!=rowData.PB_FRIEND&&"true"==rowData.PB_FRIEND){continue;}if(rowData.SECTION_HEAD==FJ){FL.push({title:rowData.CRSE_TITLE,grade:rowData.GRADE_OPTION,unit:rowData.SECT_CREDIT_HRS,code:rowData.SECT_CODE,type:rowData.FK_CDI_INSTR_TYPE,days:rowData.DAY_CODE,time:rowData.coltime});}}var FK=FL.length>0;FB.dialog("option","fromEnrollmentGrid",FK);if(FK){FL[0].title=FL[0].title.replace("<br />","");FL[0].title=FL[0].title.replace("<br>","");$("#diagenroll-class-table-title").text(FL[0].title);Ev=FL[0].grade;E0=FL[0].unit;$.each(FL,function(FU,FW){if(FU==0){$("#diagenroll-class-table-code").text(FW.code);$("#diagenroll-class-table-type").text(Ac(FW.type));$("#diagenroll-class-table-days").text(FW.days);$("#diagenroll-class-table-time").text(FW.time);}else{var FV=$("#diagenroll-class-table");FV.append("<tr class='diagenroll-class-table-no1234'>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td>"+FW.code+"</td>"+"<td>"+Ac(FW.type)+"</td>"+"<td>"+FW.days+"</td>"+"<td>"+FW.time+"</td>"+"</tr>");}});}else{var E8=0;var FF=$(".wr-search-group-data-row").filter(function(){return $(this).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']").text().indexOf(FJ)!=-1;});var E7="";if(DI){E7=$("#"+FF[0].id).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']")[0].innerHTML.trim();}else{E7=$("#"+FF[0].id).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']")[0].textContent.trim();}E7=E7.replace(/^\d+/,"");if(E7.trim()!=""){E7=Ez+" - "+E7.trim();$("#diagenroll-class-table-title").text(E7);}FF.sort(function(FV,FU){return FV.id>FU.id;});var FG=[];$.each(FF,function(FV,FY){var FX="";var Fa="";var FU="";var FZ="";if(DI){FX=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_SECT_CODE']")[0].innerHTML.trim();Fa=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_FK_CDI_INSTR_TYPE']")[0].innerHTML.trim();FU=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_DAY_CODE']")[0].innerHTML.trim();FZ=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_coltime']")[0].innerHTML.trim();}else{FX=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_SECT_CODE']")[0].textContent.trim();Fa=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_FK_CDI_INSTR_TYPE']")[0].textContent.trim();FU=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_DAY_CODE']")[0].textContent.trim();FZ=$("#"+FY.id).children("td[aria-describedby='search-div-b-table_coltime']")[0].textContent.trim();}if(Fa!=""){if(E8==0){$("#diagenroll-class-table-code").text(FX);$("#diagenroll-class-table-type").text(Ac(Fa));$("#diagenroll-class-table-days").text(FU);$("#diagenroll-class-table-time").text(FZ);}else{var FW=$("#diagenroll-class-table");FW.append("<tr class='diagenroll-class-table-no1234'>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td>"+FX+"</td>"+"<td>"+Ac(Fa)+"</td>"+"<td>"+FU+"</td>"+"<td>"+FZ+"</td>"+"</tr>");}E8++;}});}var E9=$("#diagenroll-class-table-grade-p");E9.empty();if(FS){E9.append("<select class='diagxxx-class-table-td-select' id='diagenroll-class-table-grade'></select>");var Ew=$("#diagenroll-class-table-grade");Ew.empty();if(Ey=="UN"){Ew.append($("<option></option>").val("L").html("Letter"));Ew.append($("<option></option>").val("P").html("Pass / No Pass"));}else{if(Ey=="GR"){Ew.append($("<option></option>").val("L").html("Letter"));Ew.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));}else{if(Ey=="PH"){CT(FT,E5,function(FU){if(FU.ACADEMIC_LEVEL=="GR"){Ew.append($("<option></option>").val("L").html("Letter"));}else{Ew.append($("<option></option>").val("H").html("Honors Pass / Fail"));}Ew.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));});}}}if(undefined!=Ev){Ew.val(As(Ev));}}else{if(undefined!=Ev){E9.text(Ac(Ev));}else{if(Ey=="UN"){E9.text("Pass / No Pass");}else{if(Ey=="GR"){E9.text("Satisfactory / Unsatisfactory");}else{if(Ey=="PH"){E9.text("Satisfactory / Unsatisfactory");}}}}}var FE=$("#diagenroll-class-table-unit-p");FE.empty();if(E1&&undefined!=E3&&undefined!=E6&&undefined!=FN){FE.append("<select class='diagxxx-class-table-td-select' id='diagenroll-class-table-unit' ></select>");
var FO=$("#diagenroll-class-table-unit");FO.empty();var FA=Ej(E3,E6,FN,E0);$.each(FA.ob2,function(FU,FV){FO.append($("<option></option>").val(FU).html(FV));});FO.val(FA.ob1);}else{FE.text(E0);}var E4="<b>Confirm class, and/or grading option or units to waitlist</b><br><br>";if(FM=="enroll"){E4="<b>Confirm class, and/or grading option or units to enroll</b><br><br />";}if(undefined!=FI){E4=E4+"<div class='msg alert'><h4>Alert: </h4>"+FI+"</div>";}if(FC){E4=E4+"<div class='msg error'><h4>Alert:</h4><strong>You are currently wait-listed for another section of this course.  If you continue with your request, you will be dropped from the wait-listed section.</strong></div>";}E4+=L(FJ,!FK);D3(E4);}function DB(Ex,E0,Ez,Ev,Ey,E2,Ew){var E1=(E0=="enroll")?false:true;if(undefined==Ey){Ey=E2.toString().split("(")[0];}Bi(E1,Ex,Ez,Ev,function(E8){var E6=false;var E7=false;var FD=undefined;var E4=undefined;var E3=undefined;var FC=undefined;var FE=undefined;var FA="";if("SUCCESS"==E8.OPS){var E5=undefined;if("YES"==E8.WARNING){if(undefined!=E8.REASON||"null"!=E8.REASON){E5=E8.REASON;}}if("YES"==E8.GRADE){E6=true;}if("YES"==E8.UNIT){E7=true;FD=E8.UNIT_FROM;E4=E8.UNIT_TO;E3=E8.UNIT_INC;}var FB=(E8.WAIT_DROP=="YES");FE=E8.GRADE_DEFAULT;FC=E8.UNIT_DEFAULT;Em(E0,Ex,Ez,Ev,Ey,E6,FE,E7,FC,FD,E4,E3,Ew,E5,FB);}else{var E9="Service error.";if(undefined!=E8.REASON||"null"==E8.REASON){E9=E8.REASON;}if(E1){FA="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to waitlist class "+Ez.trim()+" "+Ev.trim()+", Section "+Ex+".  "+E9+"</span></div>";}else{FA="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to add "+Ez.trim()+" "+Ev.trim()+", Section "+Ex+".  "+E9+"</span></div>";}var FF=$("#dialog-after-action").dialog("open");FF.dialog("option","buttons",O);FF.dialog("option","actionevent",FA);D3(FA);}});}var D8=false;var DN=(function(){var Ev=1;return function(){return Ev++;};}());var BN=null;v(function(Ev){BN=Ev;});var BX=[];BX.length=0;var C1={};$.each(BN,function(Ew,Ex){var Ey=Ex.SUBJECT_CODE+" / "+Ex.LONG_DESC;BX.push({id:Ew,text:Ey,subjcode:Ex.SUBJECT_CODE,subjdesc:Ex.LONG_DESC});var Ev=Ex.SUBJECT_CODE.trim();C1[Ev]=Ex.LONG_DESC;});var AG=null;var AY=[];AY.length=0;var m=undefined;var a=false;var AE=false;var Eo=$("#search-div-b-table");var l=[];var AV=[];var A9=[];var Dg=$("#search-pager-dropdown option:selected").val();var BU=undefined;var Da=[];var E=[];var AU=[];var BL=[];var Dv=[];var Ci=[];Ci.length=0;var Ek="";var i="";var AO="";var Et="";var Ai="";$("#search-div-t-b1").click(function(){Dn();BK();EQ();});var BO=[];BO.length=0;var Es=[];Es.length=0;var Z=undefined;var B1=undefined;D5(CW,"",function(Ev){$.each(Ev,function(Ew,Ex){Es.push({id:"crselist-"+Ex.SUBJ_CODE+"-"+Ew,text:Ex.SUBJ_CODE+" "+Ex.CRSE_CODE,subjcode:Ex.SUBJ_CODE,crsecode:Ex.CRSE_CODE});});});$("#search-div-t-t1-i1").select2c({combobox:true,containerCss:{"display":"block"},containerCssClass:"wr-select-top",dropdownCssClass:"wr-select-top-drop",placeholder:"(e.g., BILD, BILD 3 or computer 3 )",query:function(Ez){var FE=Ez.term;var FF=undefined;if(undefined!=FE&&FE.trim().length<2){$("#search-div-t-t1-i1").select2c("close");B1=[];return;}var E5={results:[]};var FC=FE.replace(/\d.*/,"").trim();var Ey=FE.replace(/^\D+(\d.*)/,"$1").trim();var FA=(FE.trim()==Ey)?true:false;if(!Ey.match(/^\d.*$/)){Ey=undefined;}if(""==FE.trim()){$("#search-div-t-t1-i1").select2c("close");return;}if(undefined!=Ey){var FB=[];FB.length=0;if(undefined==Z){Z={};for(var E8=0;E8<Es.length;E8++){var E1=Es[E8].subjcode.trim();if(undefined==Z[E1]){Z[E1]=[];Z[E1].length=0;}Z[E1].push(Es[E8]);}}if(FA){FF=Z;}else{FC=FC.replace(/[{()} ]/g,"");var E9=new RegExp("^\\s*"+FC+"\\s*$","i");var Ew=new RegExp(FC,"i");var Ex=[];Ex.length=0;$.each(BO,function(FG,FH){if(FH.subjcode.match(E9)||FH.text.match(Ew)){Ex.push(FH.subjcode);}});FF={};for(var E8=0;E8<Ex.length;E8++){var E7=Ex[E8].trim();FF[E7]=Z[E7];}}var E6=new RegExp("^\\s*"+Ey,"i");if(FA){$.each(Es,function(FG,FH){if(FH.crsecode.match(E6)){FB.push(FH);}});}else{var Ev=[];Ev.length=0;var FD=new RegExp("^\\s*"+FC,"i");var E2=new RegExp(FC,"i");var E0=new RegExp(Ey);$.each(FF,function(FH,FI){if(FH.match(FD)){for(var FG=0;FG<FI.length;FG++){if(FI[FG].crsecode.match(E6)){FB.push(FI[FG]);}}}else{if(C1[FH].match(E2)){for(var FG=0;FG<FI.length;FG++){if(FI[FG].crsecode.match(E6)){Ev.push(FI[FG]);}}}}});if(Ev.length>0){FB=FB.concat(Ev);}Ev=[];Ev.length=0;}if(0<FB.length){for(var E8=0;E8<FB.length;E8++){E5.results.push(FB[E8]);}}}else{var Ev=[];Ev.length=0;var E4=new RegExp("^s*"+FE.trim(),"i");var E3=new RegExp(FE.trim(),"i");$.each(BO,function(FG,FH){if(undefined!=FH.text){if(FH.text.match(E4)){E5.results.push({id:"subjlist-text-"+FG,text:FH.text,subjcode:FH.subjcode});}else{if(FH.text.match(E3)){Ev.push({id:"subjlist-text-"+FG,text:FH.text,subjcode:FH.subjcode});}}}});if(Ev.length>0){E5.results=E5.results.concat(Ev);}Ev=[];Ev.length=0;}B1=$.extend(true,[],E5.results);Ez.callback(E5);return;}});$("#search-div-t-t1-i1").on("change",function(Ev){if(undefined==Ev.added){return;}else{if("select-all"==Ev.added){$("#search-div-t-b1").trigger("click");}else{B1=[];B1.length=0;B1.push(Ev.added);$("#search-div-t-t1-i1").select2c("close");$("#search-div-t-b1").trigger("click");}}});$("#search-div-0 #s2id_autogen1").val("(e.g., BILD, BILD 3 or computer 3 )");$("#search-div-0 #s2id_autogen1").click(function(){$("#search-div-0 #s2id_autogen1").val("");$("#search-div-t-t1-i1").val("");});$("#search-div-t-t1-i1").on("select2-opening",function(){BO=[];BO.length=0;BO=$.extend(true,[],BX);});$("#advanced-search").click(D4);function P(){AV.length=0;l.length=0;A9=[];A9.length=0;BU=undefined;Da.length=0;E.length=0;AU.length=0;BL.length=0;Dv.length=0;Eo.jqGrid("clearGridData",true);}$("#search-div-t-t1-i1").val("");function EQ(){Ci=[];Ci.length=0;var Ev="";if(undefined!=B1&&B1.length>0){var Ex=[];Ex.length=0;var Ew=false;if(B1[0].id.match(/crse/)){Ew=true;}if(Ew){$.each(B1,function(Ey,Ez){var E0=Ez.text.replace(/^\D+(\d.*)/,"$1").trim();
Ex.push(Ez.subjcode.trim()+":"+BM(E0));});}else{$.each(B1,function(Ey,Ez){Ex.push(Ez.subjcode.trim());});}if(0<Ex.length){Ev=Ex.join(";");}}U("",Ev,undefined,true,false);}function A8(Ey){var Ew=Ey.toString().split(/[,;]+/);var Ez=[];for(var Ex=0;Ex<Ew.length;Ex++){if(Ew[Ex].match(/^\s*$/)){continue;}if(!Ew[Ex].toString().match(/^\s*\d{6}\s*$/)){$("#dialog-msg-small").dialog("open");D3("Invalid section id: "+Ew[Ex]);return;}Ez.push(Ew[Ex].trim());Ci.push(Ew[Ex].trim());}var Ev=Ez.join(":");P();$("#search-grid-result").show();$("#search-grid-toggle").text("Hide search result");A3(Ev,W);return;}function CI(Ev,Ex){var Ew=Ev.replace(/^.*::(.*)::.*$/,"$1");var Ey=m[Ew];return String(Ey);}var DY=false;var An;function U(E7,FD,FE,Ew,FG){An=function(){U(E7,FD,FE,Ew,FG);};Ci=[];Ci.length=0;var FL="";var E1="";var E3="";var E2="";var FB="";var E4="";var E6="";var FK="";var E9="";DY=$("#search-div-t-t6-c01").is(":checked")?true:false;var E5=Eo.getGridParam("colModel")[0];if(Ew){D8=true;E5.sorttype=CI;E1=FD;if(E1==""){CF("No results found, please verify your input and try another search.");return;}}else{D8=false;E5.sorttype="text";E9=undefined;if(FG){if(undefined!=FE){A8(FE);return;}else{FL=E7;E1=FD;}}else{E9=$("#search-div-t-t3-i4").val().trim();if(undefined!=E9&&!E9.toString().match(/^\s*$/)){A8(E9);return;}if(undefined==E7){if($("#search-div-t-t2-i1").select2("data").length>0){var Ex=[];Ex.length=0;$.each($("#search-div-t-t2-i1").select2("data"),function(FM,FN){Ex.push(FN.subjcode);});FL=Ex.join(":");}}else{FL=E7;$("#search-div-t-t2-i1").val("");}if(undefined==FD){var FC=$("#search-div-t-t2-i2").val().trim().toUpperCase();var E8=FC.split(/[,;]+/);var Ey=[];for(var FF=0;FF<E8.length;FF++){if(E8[FF].match(/^\s*$/)){continue;}var FI=E8[FF].replace(/\d.*/,"").trim();var Ev=E8[FF].match(/\d/)?E8[FF].replace(/^\D+(\d.*)/,"$1").trim():"";if(""!=FI&&""!=Ev){Ey.push(FI+":"+BM(Ev));}else{if(""!=FI){Ey.push(FI);}else{if(""!=Ev){Ey.push(BM(Ev));}}}}E1=Ey.join(";");}else{E1=BM(FD);}E4=$("#search-div-t-t3-i1").val();if(null!=E4){E4=E4.trim().toUpperCase();}if($("#search-div-t-t3-i1").select2("data").length>0){var Ex=[];Ex.length=0;$.each($("#search-div-t-t3-i1").select2("data"),function(FM,FN){Ex.push(FN.depcode);});E4=Ex.join(":");}E6=$("#search-div-t-t3-i2").val().trim().toUpperCase();FK=$("#search-div-t-t3-i3").val().trim().toUpperCase();E3="";E3+=$("#search-div-t-t4-c01").is(":checked")|0;E3+=$("#search-div-t-t4-c02").is(":checked")|0;E3+=$("#search-div-t-t4-c03").is(":checked")|0;E3+=$("#search-div-t-t4-c04").is(":checked")|0;E3+=$("#search-div-t-t4-c05").is(":checked")|0;E3+=$("#search-div-t-t4-c06").is(":checked")|0;E3+=$("#search-div-t-t4-c07").is(":checked")|0;E3+=$("#search-div-t-t4-c08").is(":checked")|0;E3+=$("#search-div-t-t4-c09").is(":checked")|0;E3+=$("#search-div-t-t4-c10").is(":checked")|0;E3+=$("#search-div-t-t4-c11").is(":checked")|0;E3+=$("#search-div-t-t4-c12").is(":checked")|0;if(E3.match(/^0+$/)){E3="";}E2="";E2+=$("#search-div-t-t4-c13").is(":checked")|0;E2+=$("#search-div-t-t4-c14").is(":checked")|0;E2+=$("#search-div-t-t4-c15").is(":checked")|0;E2+=$("#search-div-t-t4-c16").is(":checked")|0;E2+=$("#search-div-t-t4-c17").is(":checked")|0;E2+=$("#search-div-t-t4-c18").is(":checked")|0;E2+=$("#search-div-t-t4-c19").is(":checked")|0;if(E2.match(/^0+$/)){E2="";}FB="";var FJ=$("#search-div-t-t5 tbody tr td:nth-child(2) select.ui-timepicker-select").val();var Ez=$("#search-div-t-t5 tbody tr td:nth-child(4) select.ui-timepicker-select").val();if("none"==FJ){FJ="";}if("none"==Ez){Ez="";}var FA=D0(FJ);var E0=D0(Ez);if(!FA.match(/^\d{4}$/)){FA="";}if(!E0.match(/^\d{4}$/)){endTIme="";}if(!(""==FA&&""==E0)){FB=FA+":"+E0;}if(""!=FA&&""!=E0&&FA>=E0){CF("Start time must be before end time");return;}}}if(""==E3&&""==E2&&""==FB&&""==FL&&""==E1&&""==E4&&""==E6&&""==FK&&!DY&&!Ew){CF("No results found, please verify your input and try another search.");return;}P();Ek=E6;i=E2;AO=FA;Et=E0;Ai=FK;if(DY&&!Ew){g(FL,E1,E4,E6,FK,E3,E2,FB,false,false,"",function(FM){g(FL,E1,E4,E6,FK,E3,E2,FB,true,false,"",function(FQ){for(var FO=0;FO<FM.length;FO++){var FP=false;for(var FN=0;FN<FQ.length;FN++){if(FM[FO].SUBJ_CODE==FQ[FN].SUBJ_CODE&&FM[FO].CRSE_CODE==FQ[FN].CRSE_CODE){FP=true;break;}}if(!FP){FM[FO].NO_SEAT=true;}}for(var FO=FM.length-1;FO>=0;FO--){if(FM[FO].NO_SEAT){FM.splice(FO,1);}}W(FM);});});}else{if(Ew){var FH=$("#s2id_autogen1").val();g(FL,E1,E4,E6,FK,E3,E2,FB,false,true,FH,function(FQ){var FT=E1.split(";");var FP={};var FO=[];FO.length=0;for(var FR=0;FR<FQ.length;FR++){var FY=FQ[FR].SUBJ_CODE.trim();if(undefined==FP[FY]){FP[FY]=[];FP[FY].length=0;}FP[FY].push(FQ[FR]);}var FW=900001;m={};for(var FR=0;FR<FT.length;FR++){var FM=FT[FR].split(":");var FX=FM[0].trim();var FV=undefined;if(undefined!=FM[1]){FV=FM[1].trim();}for(j=0;j<FP[FX].length;j++){var FS=FP[FX][j].CRSE_CODE;if(undefined==FV){var FU=FX+FS.trim();if(!(FU in m)){m[FU]=++FW;}FO.push(FP[FX][j]);continue;}var FN=new RegExp("^\\s*"+FV+"\\s*$","i");if(FS.match(FN)){var FU=FX+FV;if(!(FU in m)){m[FU]=++FW;}FO.push(FP[FX][j]);}}}W(FO);});}else{m=undefined;g(FL,E1,E4,E6,FK,E3,E2,FB,false,false,"",W);}}}function W(Ew){if(0==Ew.length){CF("No results found, please verify your input and try another search.");return;}P();$.each(Ew,function(E0,E3){var E4=E3.SUBJ_CODE.trim();var E1=E3.CRSE_CODE.trim();var E5=E3.UNIT_FROM;var Ey=E3.UNIT_TO;var Ex=E3.UNIT_INC;if(-1==$.inArray(E4,AU)){AU.push(E4);}var Ez="";if(E5==Ey){Ez=Math.floor(E5);}else{Ez=Math.floor(E5)+"-"+Math.floor(Ey);}if(1==Ez){Ez=" ("+Ez+" unit)";}else{Ez=" ("+Ez+" units)";}var E2=E3.SUBJ_CODE+" "+E3.CRSE_CODE;if(true==E3.NO_SEAT){E3.colsubj="<!-- "+E2+" ::"+E4+E1+'::--><table style="float:left" id="search-group-header-id"><tbody>'+' <tr><td style="width:86px; text-indent:15px; text-align:left;"> '+E2+"</td>"+' <td style="width:750px; text-align:left; "> '+E3.CRSE_TITLE.trim()+Ez+"</td>"+' <td class="search-group-header-noseat">No Seats Available'+" </tr></tbody></table>";}else{E3.colsubj="<!-- "+E2+" ::"+E4+E1+'::--><table style="float:left" id="search-group-header-id"><tbody>'+' <tr><td style="width:70px; text-align:left;"> '+E2+"</td>"+' <td style="width:800px; text-align:left; "> '+E3.CRSE_TITLE.trim()+Ez+"</td>"+" <td></td>"+" </tr></tbody></table>";
}E3.ROW_MARKER=0;l.push(E3);});Dy();if(0==Ew.length){CF("No results found, please verify your input and try another search.");}else{if(1==Ew.length){AI(Ew.length+" course found");}else{AI(Ew.length+" courses found");}}var Ev=AU.join(":");Ed(Ev,function(Ex){Dv=Ex;});EV(0,true,false);}$("#search-pager-dropdown").change(function(){var Ev=$("#search-pager-dropdown option:selected").val();Dg=Ev;Dy();A9=[];A9.length=0;E=[];E.length=0;EV(0,false,false);});function Dy(){var Ew=Math.ceil(l.length/Dg);var Ex=Ew;if(Ew>10){Ex=10;}$("#search-pager-dropdown").show();$("#search-pager-dropdown-header").show();$("#search-pager").empty();var Ev=Number(Ex)*24;$("#search-pager").width(100+Number(Ev));$("#search-pager").paginate({count:Ew,start:1,display:Ex,border:true,border_color:"#fff",text_color:"#fff",background_color:"#0b4a67",border_hover_color:"#ccc",text_hover_color:"#000",background_hover_color:"#fff",images:false,mouse:"slide",onChange:function(Ey){EV(Ey-1,true,false);}});}function EV(Ew,Ey,E0){var Ez=Ew*Dg;var Ex=Number(Ez)+Number(Dg);if(typeof A9[Ew]=="undefined"){var Ev=[];Ev.length=0;Ev=$.extend(true,[],l);A9[Ew]=Ev.slice(Ez,Ex);}if(undefined!=BU){if(Ey){A9[BU]=$.extend(true,[],AV);}}BU=Ew;AV=$.extend(true,[],A9[Ew]);if(typeof E[Ew]=="undefined"){E[Ew]=[];}Da=E[Ew];BK();R(E0,Eo,AV);BC(AV);Aa();Eo.unbind("click").click(BY);}function BY(E5){var Ex=Eo.jqGrid("getGridParam","groupingView");var E4=Ex.plusicon;var E7=Ex.minusicon;var E6=$(E5.target);var Ez=E6.closest("tr.jqgroup");var E0=null;var Ey=null;var Ew=null;var Ev=null;if(Ez.length>0){E0=Ez.attr("id");var E3=$("#"+E0+" td.search-group-header-noseat").text();if(undefined!=E3&&E3.match(/no\s+seat/i)){return;}if(E5.target.nodeName.toLowerCase()!=="span"||(!E6.hasClass(E4)&&!E6.hasClass(E7))){$(this).jqGrid("groupingToggle",E0);}var E2=$("#"+E0+" #search-group-header-id tr td:first-child").text().trim();Ey=E2.split(/\s+/)[0].trim();Ew=E2.split(/\s+/)[1].trim();Ev=$("#"+E0+" #search-group-header-id tr td:nth-child(2)").text().trim();}if(null==E0){return;}if($("#"+E0+" td:first-child span").hasClass("ui-icon-circlesmall-plus")){var E1=$.inArray(E0,Da);if(-1!==E1){Da.splice(E1,1);}return;}if(null!=Ey&&null!=Ew&&null!=Ev){Bg(E0,Ey,Ew,Ev);}return false;}function Bg(Ez,E1,Ew,E0){crseCodeWellForm=BM(Ew);var Ey=null;$.each(AV,function(E3,E5){if(0==E5.ROW_MARKER){var E2=E5.CRSE_CODE.trim();var E4=E5.SUBJ_CODE.trim();if(Ew==E2&&E1==E4){Ey=E3;return false;}}});if(null==Ey){$(".search-pbf-class").hide();Da.push(Ez);return;}var Ex=AV[Ey];var Ev="";if(BI(undefined,E1,Ew,"EN")[0]){Ev="enExist";}else{if(BI(undefined,E1,Ew,"WT")[0]){Ev="wtExist";}}Du(E1.trim(),Ew,crseCodeWellForm,function(Fg){if(Fg.length<=0){Eo.jqGrid("groupingToggle",Ez);return;}var FO=AV.splice(Ey,1);var FP=[];FP.length=0;var FW={};FW["cate0X"]=[];FW["cate0X"].length=0;FW["ASortKey"]=1000;FW["0SortKey"]=99000;FW["0SortKey"]=99000;var FL=[];FL.length=0;var FM=[];FM.length=0;var FK=[];FK.length=0;var E4=(""!=Ek)?true:false;var FV=(""!=i)?true:false;var FN=(""!=AO||""!=Et)?true:false;var FQ=(""!=Ai.trim());var Fc="X";if(FV){if(0==i.charAt(0)){Fc=Fc+"|1";}if(0==i.charAt(1)){Fc=Fc+"|2";}if(0==i.charAt(2)){Fc=Fc+"|3";}if(0==i.charAt(3)){Fc=Fc+"|4";}if(0==i.charAt(4)){Fc=Fc+"|5";}if(0==i.charAt(5)){Fc=Fc+"|6";}if(0==i.charAt(6)){Fc=Fc+"|7";}}var FS=undefined;var Fa="";var FR="";var FG="";var FI="";var Fh={};$.each(Fg,function(Ft,Fu){var Fp=Fu.SECT_CODE.substr(0,1);if(Fp.match(/^[A-Z]/)){if(-1==$.inArray(Fp,FL)){FL.push(Fp);}}Fu.ORG_SECTION_NUMBER=Fu.SECTION_NUMBER;Fu.DAY_CODE_NUM=Fu.DAY_CODE;var Fq=EE(Fu.DAY_CODE);if(Fq==""){Fq="TBA";}Fu.DAY_CODE=Fq;var Fr=Fu.BEGIN_HH_TIME;var Fs=Fu.BEGIN_MM_TIME;var Fk=Fu.END_HH_TIME;var Fl=Fu.END_MM_TIME;var Fm=Fr+":"+Fs;var Fv=Fk+":"+Fl;Fm=Cm(Fm);Fv=Cm(Fv);var Fj="";if(Fr==0&&Fs==0&&Fk==0&&Fl==0){Fj="TBA";}else{Fj=Fm+"-"+Fv;}Fu.coltime=Fj;var Fo=BI(Fu.SECTION_NUMBER,undefined,undefined,"ALL");if(Fo[0]){switch(Fo[1]){case"PL":Fu.BUTTON_ACTION="DISABLE-SECTION-PL";break;case"EN":Fu.BUTTON_ACTION="DISABLE-SECTION-ENWT";break;case"WT":Fu.BUTTON_ACTION="DISABLE-SECTION-ENWT";break;default:Fu.BUTTON_ACTION="";}}else{Fu.BUTTON_ACTION="";}var Fn=Fu.BLDG_CODE;if(Fn!="TBA"){Fu.BLDG_CODE='<a target="_blank" class="nonewwin" href="http://act.ucsd.edu/maps/?isisCode='+Fu.BLDG_CODE+'">'+Fu.BLDG_CODE+"</a>";Fu.ROOM_CODE='<a target="_blank" class="nonewwin" href="http://act.ucsd.edu/maps/?isisCode='+Fn+'">'+Fu.ROOM_CODE.trim()+"</a>";}if(Ci.length>0){$.each(Ci,function(Fw,Fx){if(Fu.SECTION_NUMBER==Fx){Fh[Fu.SECT_CODE.substr(0,1)]=true;}});}if(1==Fg.length){FM.push(Fu);return false;}if(FS!=undefined){if(FS.SECT_CODE==Fu.SECT_CODE&&FS.FK_SPM_SPCL_MTG_CD==Fu.FK_SPM_SPCL_MTG_CD&&!Fu.FK_SPM_SPCL_MTG_CD.match(/MI|FI|FM|PB|RE|OT|MU/)){Fu.DAY_CODE=Fa+"\n"+Fu.DAY_CODE;Fu.coltime=FR+"\n"+Fu.coltime;Fu.BLDG_CODE=FG+"\n"+Fu.BLDG_CODE;Fu.ROOM_CODE=FI+"\n"+Fu.ROOM_CODE;}else{FM.push(FS);}}if((Ft+1)==Fg.length){FM.push(Fu);}Fa=Fu.DAY_CODE;FR=Fu.coltime;FG=Fu.BLDG_CODE;FI=Fu.ROOM_CODE;FS=$.extend(true,{},Fu);});var Fe=0;var E9=0;var Fd=0;var FY=0;var FU=undefined;var FC=undefined;var FE=[];$.each(FM,function(Fn,Fp){if(undefined!=Fp.PRINT_FLAG&&Fp.PRINT_FLAG.match(/N/i)){return;}if(BJ){if(undefined==FU||undefined==FC){if(undefined!=Fp.SECTION_START_DATE){FU=Fp.SECTION_START_DATE;}if(undefined!=Fp.SECTION_END_DATE){FC=Fp.SECTION_END_DATE;}}}var Fs=Fp.SECT_CODE.trim();var Ft=Fs.substr(0,1);var Fl=Fs.match(/00$/)?true:false;var Fo=Fp.FK_SST_SCTN_STATCD=="AC";if(undefined==Fs){return;}if(DY){if(undefined==Fp.AVAIL_SEAT||Fp.AVAIL_SEAT<1||(undefined!=Fp.STP_ENRLT_FLAG&&Fp.STP_ENRLT_FLAG.match(/y/i))){return;}}if(Ci.length>0&&(-1===$.inArray(Fp.SECTION_NUMBER.toString(),Ci))){if(!Fh[Ft]){return;}else{if(!Fl&&"NC"!=Fp.FK_SST_SCTN_STATCD){return;}}}if(E4){var Fm=(Fp.PERSON_FULL_NAME.split(";"))[0].toUpperCase();if(-1==Fm.indexOf(Ek)){return;}}if(FV&&(Fl||Fo)){if(Fp.DAY_CODE_NUM.match(Fc)&&!Fp.FK_SPM_SPCL_MTG_CD.match(/MI|FI|FM|PB|RE|OT|MU/)){FE.push(Fp.ORG_SECTION_NUMBER);return;}else{if(FE.indexOf(Fp.ORG_SECTION_NUMBER)!=-1){return;
}}}if(FN&&Fl){var Fk=Fp.BEGIN_HH_TIME+String("0"+Fp.BEGIN_MM_TIME).slice(-2);var Fr=Fp.END_HH_TIME+String("0"+Fp.END_MM_TIME).slice(-2);if("000"!=Fk&&""!=AO&&Number(Fk)<Number(AO)){return;}if("000"!=Fr&&""!=Et&&Number(Et)<Number(Fr)){return;}}if(FQ){var Fq=E0.split("(");var Fj=E0.replace("("+Fq[Fq.length-1],"");Fj=Fj.trim();if(Fj.toUpperCase().indexOf(Ai.trim())==-1){if(Fp.LONG_DESC.toUpperCase().indexOf(Ai.trim())==-1){return;}}}Fe++;Fp.ROW_MARKER=1;Fp.colsubj=Ex.colsubj;Fp.SUBJ_CODE=E1;Fp.CRSE_CODE=Ew;Fp.SEARCH_TITLE=E0;FP.push(Fp.SECTION_NUMBER);Fp.ROW_SPAN=1;Fp.ROW_COUP=0;Fp.ROW_SPAN_INST=1;Fp.COL_SPAN=1;Fp.COL_SPAN_SC=1;Fp.COL_SPAN_DAYS=1;Fp.ROW_ATTR={"rowClass":"wr-search-group-data-row "};Fp.colaction="";if("AC"==Fp.FK_SST_SCTN_STATCD&&!Fp.FK_SPM_SPCL_MTG_CD.match(/MI|FI|FM|PB|RE|OT|MU/)){Fp.BOOK_LINK='<a  target="_blank" href="https://ucsdbkst.ucsd.edu/wrtx/TextSearch?section='+Fp.SECTION_NUMBER+"&term="+CW+"&subject="+E1+"&course="+Ew+'"><img style="vertical-align:middle;" src="/webreg2/resources/images/book.gif" border="0" '+'alt="View book list" title="View book list"></a>';}else{Fp.BOOK_LINK="";}var Fm=Fp.PERSON_FULL_NAME.trim();if(Fm==""){Fm="Staff";}else{$.each(Fm.split(":"),function(Fu,Fw){var Fv=Fw.split(";");einstName=Fv[0];einstId=Fv[1];einstName=einstName.trim();if(!einstName.match(/^\s*staff\s*$/i)){einstName=einstName+' <a class="email-link-class" emailref="'+einstId+'" emailname="'+einstName+'" href="#none"><img  style="vertical-align:middle;" src="/webreg2/resources/images/email_12.png" border="0" '+'alt="Send email to '+einstName+'" title="Send email to '+einstName+'"></img></a>';}if(Fu==0){Fm=einstName;}else{Fm=Fm+"\n"+einstName;}});}Fp.PERSON_FULL_NAME=Fm;if(Fp.AVAIL_SEAT<0){Fp.AVAIL_SEAT=0;}if(Fp.FK_SST_SCTN_STATCD=="AC"){if(undefined==FW["cateNumAC"+Ft]){FW["cateNumAC"+Ft]=0;}FW["cateNumAC"+Ft]++;}if(undefined!=Fp.FK_SPM_SPCL_MTG_CD&&Fp.FK_SPM_SPCL_MTG_CD.match(/FM|PB|RE|OT|MU/)){Fp.colaction=Av(Fp.START_DATE);Fp.AVAIL_SEAT="";Fp.COUNT_ON_WAITLIST="";Fp.SCTN_CPCTY_QTY="";if(undefined==FW["catePBF"+Ft]){FW["catePBF"+Ft]=[];}FW["catePBF"+Ft].push(Fp);return;}if("MI"==Fp.FK_SPM_SPCL_MTG_CD){Fp.colaction=Av(Fp.START_DATE);Fp.AVAIL_SEAT="";Fp.COUNT_ON_WAITLIST="";Fp.SCTN_CPCTY_QTY="";if(undefined==FW["cateMI"+Ft]){FW["cateMI"+Ft]=[];}FW["cateMI"+Ft].push(Fp);return;}if("FI"==Fp.FK_SPM_SPCL_MTG_CD){Fp.colaction=Av(Fp.START_DATE);Fp.AVAIL_SEAT="";Fp.COUNT_ON_WAITLIST="";Fp.SCTN_CPCTY_QTY="";FW["cateFI"+Ft]=Fp;return;}if("NC"==Fp.FK_SST_SCTN_STATCD){Fp.SECTION_NUMBER="";Fp.AVAIL_SEAT="";Fp.COUNT_ON_WAITLIST="";Fp.SCTN_CPCTY_QTY="";}else{if("Y"==Fp.STP_ENRLT_FLAG.trim().toUpperCase()){Fp.AVAIL_SEAT=0;}}if(9999==Fp.SCTN_CPCTY_QTY){Fp.SCTN_CPCTY_QTY="No<br />Limit";Fp.AVAIL_SEAT="<b>";}if("CA"==Fp.FK_SST_SCTN_STATCD){Fp.COL_SPAN_DAYS=10;Fp.DAY_CODE="cancelled";}if(Ft.match(/^\d$/)){if(-1==$.inArray("0",FL)){FL.push("0");}Fd++;if(undefined==FW["cate0N"]){FW["cate0N"]=[];}FW["cate0N"].push(Fp);}else{if(Fs==Ft+"00"){E9++;FW["cate"+Ft+"0"]=Fp;}else{FY++;if(undefined==FW["cate"+Ft+"X"]){FW["cate"+Ft+"X"]=[];}FW["cate"+Ft+"X"].push(Fp);}}});if(0==Fe||(0==E9&&0==Fe)){Eo.jqGrid("groupingToggle",Ez);return;}var FH={"SECTION_NUMBER":"Section ID","SECT_CODE":"Section","FK_CDI_INSTR_TYPE":"Meeting\nType","DAY_CODE":"Days","coltime":"Time","BLDG_CODE":"Building","ROOM_CODE":"Room","AVAIL_SEAT":"Avail\nSeats","SCTN_CPCTY_QTY":"Total\nSeats","COUNT_ON_WAITLIST":"Waitlist\nCount","BOOK_LINK":"Book","PERSON_FULL_NAME":"Instructor","colaction":"Action","ROW_MARKER":1,"colsubj":Ex.colsubj,"SUBJ_CODE":E1,"CRSE_CODE":Ew,"SORT_KEY":++FW["ASortKey"],"ROW_SPAN":1,"ROW_COUP":0,"ROW_SPAN_INST":1,"COL_SPAN":1,"COL_SPAN_SC":1,"COL_SPAN_DAYS":1,"ROW_ATTR":{"rowClass":"wr-search-group-member-header"}};FK.push(FH);var FJ="";var FX=E1+"-"+Ew;$.each(Dv,function(Fj,Fk){if(Fk.SUBJCRSE==FX){FJ=FJ+" "+Fk.TEXT.trim();FJ=FJ.replace(/\\/g,"<br>");}});if(""!=FJ){var E6="&nbsp;&nbsp;&nbsp;&nbsp;<img style='vertical-align:middle;' src='/webreg2/resources/images/info.png'><span style='; line-height:100%; vertical-align: middle;'><b> Course Note:</b> ";var FZ="</span>";var E5=E6+FJ+FZ;var FT={"SORT_KEY":++FW["ASortKey"],"SECTION_NUMBER":E5,"ROW_MARKER":1,"colsubj":Ex.colsubj,"SUBJ_CODE":E1,"CRSE_CODE":Ew,"COL_SPAN":13,"COL_SPAN_SC":1,"COL_SPAN_DAYS":1,"ROW_ATTR":{"rowClass":"wr-search-group-crse-text"},"colaction":"","ROW_SPAN":1,"ROW_COUP":0,"ROW_SPAN_INST":1};FK.push(FT);}if(FP.length>0){var E3=FP.join(":");var Fi={};B9(E3,function(Fj){$.each(Fj,function(Fk,Fl){if(Fl.SECTNUM in Fi){Fi[Fl.SECTNUM]=Fi[Fl.SECTNUM]+" "+Fl.TEXT.trim();}else{Fi[Fl.SECTNUM]=Fl.TEXT.trim();}});});}var E8=function(Fo,Fl,Fk){var Fj="";var Fn="<img style='vertical-align:middle;' src='/webreg2/resources/images/info.png'><span style='; line-height:100%; vertical-align: middle;'> <b>Section "+Fo+" Note:</b> ";var Fm="</span>";var Fj=Fn+Fk+Fm;var Fp={"SORT_KEY":Fl,"SECTION_NUMBER":"","SECT_CODE":Fj,"ROW_MARKER":1,"colsubj":Ex.colsubj,"SUBJ_CODE":E1,"CRSE_CODE":Ew,"COL_SPAN":1,"COL_SPAN_SC":12,"COL_SPAN_DAYS":1,"ROW_ATTR":{"rowClass":"wr-search-group-section-text"},"colaction":"","ROW_SPAN":1,"ROW_COUP":0,"ROW_SPAN_INST":1};FK.push(Fp);};var Ff={"SECTION_NUMBER":"Note: The following is an additional required meeting type for the above courses.","ROW_MARKER":1,"colsubj":Ex.colsubj,"SUBJ_CODE":E1,"CRSE_CODE":Ew,"COL_SPAN":13,"COL_SPAN_SC":1,"COL_SPAN_DAYS":1,"ROW_ATTR":{"rowClass":"wr-search-nc-header-row"},"colaction":"","ROW_SPAN":1,"ROW_COUP":0,"ROW_SPAN_INST":1};var FD="";Dc(E1,Ew,function(Fj){if(Fj.length>0){FD='<span class="prereqs-bar prereqs-bar-crse-'+E1.trim()+Ew.trim()+'">Prerequisites</span> | ';}var Fk={subjCode:E1,crseCode:Ew,resData:Fj};$("#search-div-b-table").on("click",".prereqs-bar-crse-"+E1.trim()+Ew.trim(),Fk,Az);});var FF="http://cape.ucsd.edu/responses/Results.aspx?courseNumber="+E1+"+"+Ew;var FB="";var FA="";Dd(E1,crseCodeWellForm,function(Fo){if(Fo.length<=0){return;}var Fj=undefined;var Ft=false;var Fl=[];var Fn=[];var Fk="Department Approval Required";
var Fp="College";var Fs="Major";var Fm="Academic Level";var Fr="Class Level";$.each(Fo,function(Fu,Fv){switch(Fv.CRSE_REGIS_TYPE_CD){case"OT":Ft=true;break;case"MA":if(Fl.indexOf(Fs)==-1){Fl.push(Fs);Fn.push(Fv.CRSE_REGIS_TYPE_CD);}break;case"CO":if(Fl.indexOf(Fp)==-1){Fl.push(Fp);Fn.push(Fv.CRSE_REGIS_TYPE_CD);}break;case"CL":if(Fl.indexOf(Fr)==-1){Fl.push(Fr);Fn.push(Fv.CRSE_REGIS_TYPE_CD);}break;case"LV":if(Fl.indexOf(Fm)==-1){Fl.push(Fm);Fn.push(Fv.CRSE_REGIS_TYPE_CD);}break;}});switch(Fl.length){case 0:break;case 1:Fj="Restricted by "+Fl[0];break;case 2:Fj="Restricted by "+Fl[0]+" and "+Fl[1];break;case 3:Fj="Restricted by "+Fl[0]+", "+Fl[1]+" and "+Fl[2];break;case 4:Fj="Restricted by "+Fl[0]+", "+Fl[1]+", "+Fl[2]+" and "+Fl[3];break;}if(Ft){FA="<span class='dept-approval-class'>Department Approval Required</span> | ";}if(Fj!=undefined){FA+='<span class="restrictions-bar restrictions-bar-crse-'+E1.trim()+crseCodeWellForm.trim()+'">'+Fj+" </span> | ";}var Fq={subjCode:E1,crseCode:crseCodeWellForm,resData:Fn};$("#search-div-b-table").on("click",".restrictions-bar-crse-"+E1.trim()+crseCodeWellForm.trim(),Fq,B3);});Dk(E1,crseCodeWellForm,function(Fj){if(undefined!=Fj.CATALOG_DATA){FB=Fj.CATALOG_DATA.trim().toUpperCase();}});var Fb="";if("RESEARCH"==FB||"EXCLUDE"==FB){Fb="";}else{if("CLPH"==FB){Fb="http://pharmacy.ucsd.edu/prospective/curriculum.shtml";}else{if("EAP"==FB){Fb="http://www.ucsd.edu/catalog/courses/EAP.html";}else{if("DNP"==FB){Fb="http://registrar.ucsd.edu/studentlink/cnd.html";}else{Fb="http://www.ucsd.edu/catalog/courses/"+FB+".html#"+E1.toLowerCase()+Ew.toLowerCase();}}}}var E7="";if(BJ){E7=" "+Ab+": "+Au(FU)+" - "+Au(FC);}$.each(FL,function(Fu,F4){var Fw=FW["cateNumAC"+F4];var Fs=FW["cate"+F4+"0"];if(undefined==FW["cate"+F4+"X"]){FW["cate"+F4+"X"]=[];}var Fv=FW["cate"+F4+"X"];var F0=FW["cate0N"];var F2=FW["cateMI"+F4];var F3=FW["cateFI"+F4];var Ft=FW["catePBF"+F4];if(F4.match(/[B-Z]/)){FW[F4+"SortKey"]=(F4.charCodeAt(0)-64)*1000;}else{if(F4=="0"){FW[F4+"SortKey"]=(91-64)*1000;}}var Fo="http://courses.ucsd.edu/courseList.aspx?name="+E1;if(undefined!=Fs){if(Fs.ORG_SECTION_NUMBER.toString().match(/^\d+$/)){Fo="http://courses.ucsd.edu/coursemain.aspx?section="+Fs.ORG_SECTION_NUMBER;}}else{if(undefined!=F0&&undefined!=F0[0]){if(F0[0].ORG_SECTION_NUMBER.toString().match(/^\d+$/)){Fo="http://courses.ucsd.edu/coursemain.aspx?section="+F0[0].ORG_SECTION_NUMBER;}}}var Fx='<a target="_blank" href="'+Fb+'" >Catalog</a> | ';if(""==Fb.trim()){Fx="";}var Fk='<table width="100%"><tr><td style="border-right-style: none" >'+E7+'<td><span style="float: right; margin: 0px;">'+FA+Fx+FD+'<a target="_blank" href="'+Fo+'">Resources</a>  | '+'<a target="_blank" href="'+FF+'">Evaluations</a> '+"</span></td></tr></table>";var Fy={"SECTION_NUMBER":Fk,"ROW_MARKER":1,"colsubj":Ex.colsubj,"SUBJ_CODE":E1,"CRSE_CODE":Ew,"COL_SPAN":13,"COL_SPAN_SC":1,"COL_SPAN_DAYS":1,"ROW_ATTR":{"rowClass":"wr-search-group-classlink-row"},"colaction":"","ROW_SPAN":1,"ROW_COUP":0,"ROW_SPAN_INST":1};var Fp=$.extend(true,{},Fy);Fp.SORT_KEY=++FW[F4+"SortKey"];if("0"!=F4){if(undefined!=Fs&&Fs.FK_SST_SCTN_STATCD=="AC"){FK.push(Fp);Fs.SECTION_HEAD=Fs.SECTION_NUMBER.toString().match(/^\s*$/)?Fs.ORG_SECTION_NUMBER:Fs.SECTION_NUMBER;Fs.SECTION_HEAD_CODE=Fs.SECT_CODE;Fs.colaction=B4(Fs.SECTION_HEAD,Fs.AVAIL_SEAT,Fs.STP_ENRLT_FLAG,Fs.SUBJ_CODE,Fs.CRSE_CODE,Fs.BUTTON_ACTION,Ev);Fs.SORT_KEY=++FW[F4+"SortKey"];Fs.ROW_ATTR.rowClass=Fs.ROW_ATTR.rowClass+" wr-search-ac-alone ";FK.push(Fs);var F1=Fs.SECTION_NUMBER;if(F1 in Fi){Fs.ROW_ATTR.rowClass=Fs.ROW_ATTR.rowClass+" wr-search-group-section-text-owner ";E8(Fs.SECT_CODE,++FW[F4+"SortKey"],Fi[F1]);}if(Fv.length>0&&"CA"!=Fv[0].FK_SST_SCTN_STATCD){var Fl=$.extend(true,{},Ff);Fl.SORT_KEY=++FW[F4+"SortKey"];FK.push(Fl);}var Fm=0;$.each(Fv,function(F5,F6){var F7=F6.SECTION_NUMBER;F6.AVAIL_SEAT="";F6.SCTN_CPCTY_QTY="";F6.SECTION_NUMBER="";if(F5==Fv.length-1){F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-nc-alone-last ";}else{if(Fv[F5+1].FK_SST_SCTN_STATCD){F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-nc-alone-before-cancel ";}else{F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-nc-alone ";}}F6.SORT_KEY=++FW[F4+"SortKey"];FK.push(F6);if(F7 in Fi){F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-group-section-text-owner ";E8(F6.SECT_CODE,++FW[F4+"SortKey"],Fi[F7]);}});}else{if(undefined!=Fs&&Fs.FK_SST_SCTN_STATCD!="AC"){FK.push(Fp);var Fr=true;var Fn=true;var Fz=++FW[F4+"SortKey"];var Fj=false;$.each(Fv,function(F6,F8){var F5=F8.FK_SST_SCTN_STATCD=="AC"?true:false;if(F5){Fj=false;Fn=false;var F7=$.extend(true,{},Fs);F7.ROW_SPAN=2;F7.ROW_COUP=1;F8.ROW_COUP=2;F7.SECTION_NUMBER=F8.SECTION_NUMBER;F7.SECTION_HEAD=F8.SECTION_NUMBER.toString().match(/^\s*$/)?F8.ORG_SECTION_NUMBER:F8.SECTION_NUMBER;F7.SECTION_HEAD_CODE=F8.SECT_CODE;F7.colaction=B4(F8.ORG_SECTION_NUMBER,F8.AVAIL_SEAT,F8.STP_ENRLT_FLAG,F8.SUBJ_CODE,F8.CRSE_CODE,F8.BUTTON_ACTION,Ev);F7.ROW_ATTR.rowClass=F7.ROW_ATTR.rowClass+" wr-search-batch-middle ";if(F7.PERSON_FULL_NAME==F8.PERSON_FULL_NAME){F8.PERSON_FULL_NAME="";F7.ROW_SPAN_INST=2;}var GA=F7.ORG_SECTION_NUMBER;if(GA in Fi&&Fr){Fr=false;F7.ROW_ATTR.rowClass=F7.ROW_ATTR.rowClass+" wr-search-group-section-text-owner ";E8(F7.SECT_CODE,++FW[F4+"SortKey"],Fi[GA]);}F7.SORT_KEY=++FW[F4+"SortKey"];FK.push(F7);if("CA"!=F8.FK_SST_SCTN_STATCD){F8.ROW_SPAN=0;}}else{if("CA"!=F8.FK_SST_SCTN_STATCD){if(!Fj){var F9=$.extend(true,{},Ff);F9.SORT_KEY=++FW[F4+"SortKey"];FK.push(F9);Fj=true;}if(F6==Fv.length-1){F8.ROW_ATTR.rowClass=F8.ROW_ATTR.rowClass+" wr-search-nc-alone-last ";}else{F8.ROW_ATTR.rowClass=F8.ROW_ATTR.rowClass+" wr-search-nc-alone ";}}else{F8.SECTION_NUMBER="";if(F6==Fv.length-1){F8.ROW_ATTR.rowClass=F8.ROW_ATTR.rowClass+" wr-search-nc-alone-last ";}else{F8.ROW_ATTR.rowClass=F8.ROW_ATTR.rowClass+" wr-search-nc-alone ";}}}F8.SORT_KEY=++FW[F4+"SortKey"];FK.push(F8);var GA=F8.ORG_SECTION_NUMBER;if(GA in Fi){F8.ROW_ATTR.rowClass=F8.ROW_ATTR.rowClass+" wr-search-group-section-text-owner ";
E8(F8.SECT_CODE,++FW[F4+"SortKey"],Fi[GA]);}});if(Fn){if("CA"!=Fs.FK_SST_SCTN_STATCD){Fs.ROW_ATTR.rowClass=Fs.ROW_ATTR.rowClass+" wr-search-nc-alone ";}Fs.SORT_KEY=Fz;FK.push(Fs);}}}}else{FK.push(Fp);$.each(F0,function(F5,F6){F6.SORT_KEY=++FW[F4+"SortKey"];F6.SECTION_HEAD=F6.SECTION_NUMBER.toString().match(/^\s*$/)?F6.ORG_SECTION_NUMBER:F6.SECTION_NUMBER;F6.SECTION_HEAD_CODE=F6.SECT_CODE;if(F6.FK_SST_SCTN_STATCD=="NC"){if(undefined!=FW["cateNum"]&&F5==FW["cateNum"].length-1){F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-nc-alone-last ";}else{F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-nc-alone ";}}else{if(F6.FK_SST_SCTN_STATCD=="AC"){F6.colaction=B4(F6.SECTION_HEAD,F6.AVAIL_SEAT,F6.STP_ENRLT_FLAG,F6.SUBJ_CODE,F6.CRSE_CODE,F6.BUTTON_ACTION,Ev);}}FK.push(F6);var F7=F6.SECTION_NUMBER;if(F7 in Fi){F6.ROW_ATTR.rowClass=F6.ROW_ATTR.rowClass+" wr-search-group-section-text-owner ";E8(F6.SECT_CODE,++FW[F4+"SortKey"],Fi[F7]);}});}if(null!=Ft){var Fq=null;$.each(Ft,function(F5,F7){var F8=F7.SECTION_NUMBER+"-"+F7.FK_SPM_SPCL_MTG_CD;if(0==F5||1==Ft.length||(null!=Fq&&undefined!=Fq.FK_SPM_SPCL_MTG_CD&&Fq.FK_SPM_SPCL_MTG_CD!=F7.FK_SPM_SPCL_MTG_CD)){var F9=$.extend(true,{},F7);F9.SEARCH_PBF_ID=F8;var F6="<img class='search-pbf-header-class' id='search-pbf-id-"+F9.SEARCH_PBF_ID+"' alt='Expand: ' src='"+DJ+"' "+" style=' width:8px; height:8px; margin-right: 2px; margin-top: 5px;' ></img> ";F9.SECTION_NUMBER="<div style='width:100%; text-align:left' class='search-outer-pbf-header-class' id='search-outer-pbf-id-"+F9.SEARCH_PBF_ID+"'>"+F6+CS(F7.FK_SPM_SPCL_MTG_CD)+"</div>";F9.COL_SPAN=13;F9.SORT_KEY=++FW[F4+"SortKey"];FK.push(F9);}F7.SECTION_NUMBER="";F7.SECT_CODE="";F7.FK_CDI_INSTR_TYPE=F7.FK_SPM_SPCL_MTG_CD;F7.SCTN_CPCTY_QTY="";F7.AVAIL_SEAT="";F7.COUNT_ON_WAITLIST="";F7.BOOK_LINK="";F7.PERSON_FULL_NAME="";F7.SORT_KEY=++FW[F4+"SortKey"];F7.ROW_ATTR.rowClass=F7.ROW_ATTR.rowClass+" search-pbf-class search-pbf-class-"+F8;FK.push(F7);Fq=F7;});}if(null!=F2){$.each(F2,function(F5,F6){F6.SECT_CODE="";F6.FK_CDI_INSTR_TYPE="";F6.PERSON_FULL_NAME="";F6.SECTION_NUMBER='<span style="font-weight:bold;color:black">MIDTERM</span>';F6.AVAIL_SEAT="";F6.SCTN_CPCTY_QTY="";F6.SORT_KEY=++FW[F4+"SortKey"];FK.push(F6);});}if(null!=F3){if(!CE){F3.ROOM_CODE="TBA";F3.BLDG_CODE="TBA";}F3.SECT_CODE="";F3.FK_CDI_INSTR_TYPE="";F3.PERSON_FULL_NAME="";F3.SECTION_NUMBER='<span style="font-weight:bold;color:black">FINAL</span>';F3.AVAIL_SEAT="";F3.SCTN_CPCTY_QTY="";F3.SORT_KEY=++FW[F4+"SortKey"];FK.push(F3);}});$.each(FK,function(Fj,Fk){if(undefined!=Fk.SECTION_NUMBER&&Fk.SECTION_NUMBER.toString().match(/^\s*\d{6}\s*$/)&&(null!=Fk.LONG_DESC)&&(!Fk.LONG_DESC.match(/^\s*$/))){Fk.SECTION_NUMBER=Fk.SECTION_NUMBER+"\n"+Fk.LONG_DESC.trim();Fk.ROW_ATTR.rowClass=Fk.ROW_ATTR.rowClass+" wr-search-subtitle ";}});var E2=AV.concat(FK);AV.length=0;AV=E2;R(false,Eo,AV,Ez);BC(AV);Aa();Eo.jqGrid("groupingToggle",Ez);$(".search-pbf-class").hide();});}function Az(E0){$("#dialog-prereqs").dialog("open");var Ex=E0.data;var E2="";var Ez="<div class='msg info'><h4>Course Prerequisites:</h4><ol><li><ul>";var Ew="<div class='msg info'><h4>Test requirements can be satisfied with qualifying scores on any of the following exams:</h4><ul>";var E1=false;var Ev=false;var Ey="";$.each(Ex.resData,function(E4,E5){var E3;if(E5.TYPE=="TEST"){Ew+="<li>"+E5.TEST_TITLE+"</li>";Ev=true;}else{if(E5.TYPE=="COURSE"){if(Ey!=E5.PREREQ_SEQ_ID){if(Ey!==""){Ez+="</ul></li><hr /><li><ul>";}Ey=E5.PREREQ_SEQ_ID;}else{Ez+="<span class='prereq-or'>OR</span>";}Ez+="<li>"+E5.SUBJECT_CODE+": "+E5.COURSE_CODE+" - "+E5.CRSE_TITLE+"</li>";E1=true;}}});Ez+="</ul></li></ol></div>";Ew+="</ul></div>";E2+=E1?Ez:"";E2+=Ev?Ew:"";D3(E2);}function B3(Ex){$("#dialog-restrictions").dialog("open");var Ey="<div class='msg info'><h4>Course Restrictions</h4><ul>";var Ev={};var Ew=Ex.data;$.each(Ew.resData,function(Ez,E0){switch(E0){case"MA":ED(Ew.subjCode,Ew.crseCode,function(E2){var E5=[];var E4="<li>Open to ";var E3="<li>Not open to ";var E6=true;var E1=true;$.each(E2,function(E7,E8){if(E5.indexOf(E8.NAME.trim())!==-1){return;}if(E8.CRSE_REGIS_FLAG=="I"){if(E6){E4+=E8.NAME.trim();E6=false;}else{E4+=" and "+E8.NAME.trim();}}else{if(E1){E3+=E8.NAME.trim();E1=false;}else{E3+=" or "+E8.NAME.trim();}}E5.push(E8.NAME.trim());});if(!E6){E4+=" majors.</li>";Ey+=E4;}if(!E1){E3+=" majors.</li>";Ey+=E3;}});break;case"CO":Af(Ew.subjCode,Ew.crseCode,function(E2){var E5=[];var E4="<li>Open to ";var E3="<li>Not open to ";var E6=true;var E1=true;$.each(E2,function(E7,E8){if(E5.indexOf(E8.NAME.trim())!==-1){return;}if(E8.CRSE_REGIS_FLAG=="I"){if(E6){E4+=E8.NAME.trim();E6=false;}else{E4+=" and "+E8.NAME.trim();}}else{if(E1){E3+=E8.NAME.trim();E1=false;}else{E3+=" or "+E8.NAME.trim();}}E5.push(E8.NAME.trim());});if(!E6){E4+=" students.</li>";Ey+=E4;}if(!E1){E3+=" students.</li>";Ey+=E3;}});break;case"CL":D(Ew.subjCode,Ew.crseCode,function(E2){var E5=[];var E4="<li>Open to ";var E3="<li>Not open to ";var E6=true;var E1=true;$.each(E2,function(E7,E8){if(E5.indexOf(E8.NAME.trim())!==-1){return;}if(E8.CRSE_REGIS_FLAG=="I"){if(E6){E4+=E8.NAME.trim();E6=false;}else{E4+=" and "+E8.NAME.trim();}}else{if(E1){E3+=E8.NAME.trim();E1=false;}else{E3+=" or "+E8.NAME.trim();}}E5.push(E8.NAME.trim());});if(!E6){E4+=" students.</li>";Ey+=E4;}if(!E1){E3+=" students.</li>";Ey+=E3;}});break;case"LV":Er(Ew.subjCode,Ew.crseCode,function(E2){var E5=[];var E4="<li>Open to ";var E3="<li>Not open to ";var E6=true;var E1=true;$.each(E2,function(E7,E8){if(E5.indexOf(E8.NAME.trim())!==-1){return;}if(E8.CRSE_REGIS_FLAG=="I"){if(E6){E4+=E8.NAME.trim();E6=false;}else{E4+=" and "+E8.NAME.trim();}}else{if(E1){E3+=E8.NAME.trim();E1=false;}else{E3+=" or "+E8.NAME.trim();}}E5.push(E8.NAME.trim());});if(!E6){E4+=" students.</li>";Ey+=E4;}if(!E1){E3+=" students.</li>";Ey+=E3;}});break;}});Ey+="</ul></div>";D3(Ey);}function BC(Ev){$.each(Ev,function(Ey,E0){if(undefined!=E0.SEARCH_PBF_ID){$("#search-outer-pbf-id-"+E0.SEARCH_PBF_ID).click(function(){var E3=$("#search-pbf-id-"+E0.SEARCH_PBF_ID).attr("src");
if(E3===EO){$("#search-pbf-id-"+E0.SEARCH_PBF_ID).attr("src",DJ);$(".search-pbf-class-"+E0.SEARCH_PBF_ID).hide();}else{$("#search-pbf-id-"+E0.SEARCH_PBF_ID).attr("src",EO);$(".search-pbf-class-"+E0.SEARCH_PBF_ID).show();}});}var Ex=E0.SECTION_HEAD;if(undefined==Ex){return;}var E2=E0.SECTION_HEAD_CODE;var Ez=E0.SUBJ_CODE;var Ew=E0.CRSE_CODE;var E1=E0.SEARCH_TITLE;$("#search-enroll-id-"+Ex).button().click(function(){var E3=$(this).closest("tr").attr("id");DB(Ex,"enroll",Ez,Ew,undefined,E1,E3);});$("#search-wait-id-"+Ex).button().click(function(){DB(Ex,"waitlist",Ez,Ew,undefined,E1,undefined);});$("#search-plan-id-"+Ex).button().click(function(){At(Ex,E2,Ez,Ew,E1);});});$(".email-link-class").click(function(){var Ey=$(this).attr("emailref");var Ex=$(this).attr("emailname");var Ew="none";if(Ey.trim().match(/^[A-z]\d{8}$/)){Ay(Ey,function(Ez){Ew=Ez.OFFICIAL_EMAIL;});}else{$("#dialog-msg-small").dialog("open");D3("No email address found for "+Ex);return false;}if(undefined==Ew){$("#dialog-msg-small").dialog("open");D3("No email address found for "+Ex);return false;}$(this).attr("href","mailto:"+Ew);});}function Aa(){if(!CQ){$(".search-wait-class").button().button("disable");$(".search-wait-class").attr("title",EM);}if(Br){$(".search-plan-class").attr("title",N);$(".search-plan-class").button().button("disable");}if(!AA){$(".search-enroll-class").attr("title",DE);$(".search-enroll-class").button().button("disable");}if(EZ){$(".search-enroll-class").attr("title",Cf);$(".search-enroll-class").button().button("disable");}$(".disableSBClass").button().button("disable");if(Eu){$(".search-plan-class").button().button("disable");$(".search-plan-class").attr("title",CO);$(".search-enroll-class").button().button("disable");$(".search-enroll-class").attr("title",CO);}else{if(Eq){$(".search-plan-class").attr("title",CH);$(".search-plan-class").button().button("disable");$(".search-enroll-class").attr("title",CH);$(".search-enroll-class").button().button("disable");}else{if(C0){$(".disableSBEnWtClass").button().button("disable");$(".disableSBEnWtClass").attr("title",Ap);$(".disableSBEnClass").button().button("disable");$(".disableSBEnClass").attr("title",Bm);$(".disableSBWtClass").button().button("disable");$(".disableSBWtClass").attr("title",Bv);}$(".disableSBSectionClass").button().button("disable");$(".disableSBSectionClass").attr("title",AS);$(".enableSBEnWtClassPreauth").button().button("enable");$(".enableSBEnWtClassPreauth").attr("title",Bc);}}}function B4(E3,Ew,E2,Ey,Ex,Ez,E8){var Ev=AZ(E3,Ew,E2,Ey,Ex);var E1=" subjcrseallclass-"+Ey.trim()+Ex.trim();var E0=" subjcrseplanclass-"+Ey.trim()+Ex.trim();var E6=" subjcrseenwtclass-"+Ey.trim()+Ex.trim();switch(Ez){case"DISABLE-ALL":E1=E1+" disableSBClass ";break;case"DISABLE-ENWT":E6=" disableSBEnWtClass ";break;case"DISABLE-SECTION-PL":E1=E1+" disableSBSectionClass ";break;case"DISABLE-SECTION-ENWT":E1=E1+" disableSBSectionClass ";break;}if("enExist"==E8){E6=E6+" disableSBEnClass ";}else{if("wtExist"==E8){if(!Ev){E6=E6+" disableSBWtClass ";}}}if(!AT&&!AA){var E5=false;$.each(Dr,function(FD,FF){var FE=FF.SUBJ_CODE;var FA=FF.CRSE_CODE;var FG=FF.SECTION_NUMBER;var FC=FF.OVERRIDE_TYPE_1;var FB=FF.OVERRIDE_TYPE_2;var E9=FF.OVERRIDE_TYPE_3;if(null==FE||null==FA||undefined==FE||undefined==FA){return;}if(FC!="LA"&&FB!="LA"&&E9!="LA"){return;}if(!Ev){return;}if(FF.SUBJ_CODE.trim()==Ey&&FF.CRSE_CODE.trim()==Ex){if(undefined==FF.SECTION_NUMBER){E5=true;return false;}else{if(FF.SECTION_NUMBER==E3){E5=true;return false;}}}});if(E5){E6=E6+" enableSBEnWtClassPreauth ";}}if(Ev){var E7="<input "+" id=search-enroll-id-"+E3+" class=' wrbutton wrbuttons wrbuttonspew wrbuttonsr secondary search-enroll-class "+E1+" "+E6+" ' "+" type='button' value='Enroll' />";}else{var E7="<input "+" id=search-wait-id-"+E3+" class=' wrbutton wrbuttons wrbuttonspew wrbuttonsr secondary search-enroll-class search-wait-class "+E1+" "+E6+" ' "+" type='button' value='Waitlist' />";}var E4="<input "+" id=search-plan-id-"+E3+" class=' wrbutton wrbuttons wrbuttonspew secondary search-plan-class "+E1+" "+E0+" ' "+" type='button' value='Plan' />";return E4+E7;}function R(E0,Ez,Ev,Ex){var Ey=(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;Ez.jqGrid("clearGridData",true);Ez.jqGrid("setGridParam",{datatype:"local",data:Ev}).trigger("reloadGrid");var Ew=Eo.getGridParam("colModel")[0];if(D8){Ew.sorttype=CI;}else{Ew.sorttype="text";}if(E0){Da=[];Da.length=0;}else{$.each(Da,function(E1,E2){Ez.jqGrid("groupingToggle",E2);});}if(undefined!=Ex){Da.push(Ex);}$("#search-div-b-table tr.jqgroup").hover(function(E1){$(E1.target).closest("tr.jqgroup").addClass("search-group-mouseover");},function(E1){$(E1.target).closest("tr.jqgroup").removeClass("search-group-mouseover");});$(".search-pbf-class").hide();window.scrollTo(0,Ey);}function ER(Ev){var Ew=Ev.sectionHead;}function Dt(Ev){var Ew=Ev.sectionHead;}function EP(E1,Ey,Ex,Ev){var Ez=Ex.COL_SPAN;var E2=" colspan=1";if(Ez>0){E2=' colspan="'+Ez+'"';}var E0=Ex.ROW_SPAN;var Ew=" rowspan=1";if(0==E0){Ew=' style="display:none" ';}else{if(E0>0){Ew=' rowspan="'+E0+'"';}}return E2+" "+Ew;}function EH(Ez,Ex,Ew,Ev){var Ey=Ew.COL_SPAN_SC;if(undefined==Ey||""==Ey||null==Ey){Ey=1;}return' colspan="'+Ey+'"';}function k(Ez,Ex,Ew,Ev){var Ey=Ew.COL_SPAN_DAYS;if(undefined==Ey||""==Ey||null==Ey){Ey=1;}return' colspan="'+Ey+'"';}function Bb(Ez,Ex,Ew,Ev){var Ey=Ew.ROW_SPAN;if(undefined==Ey||""==Ey||null==Ey){Ey=1;}else{if(0==Ey){return' style="display:none" ';}}return' rowspan="'+Ey+'"';}function Ei(Ez,Ex,Ew,Ev){var Ey=Ew.ROW_SPAN_INST;if(undefined==Ey||""==Ey||null==Ey){Ey=1;}return' rowspan="'+Ey+'" ';}function C5(){$("#search-grid-toggle").hide();$("#search-pager-dropdown").hide();$("#search-pager-dropdown-header").hide();$("#search-div-b-table").hide();$("#search-grid-result").hide();$("#search-div-b").hide();}function Dn(){$("#search-grid-toggle").show();$("#search-pager-dropdown").hide();$("#search-pager-dropdown-header").hide();
$("#search-div-b-table").show();$("#search-grid-result").show();$("#search-div-b").show();$("#search-pager").empty();$("#search-pager").show();$("#search-grid-toggle").text("Hide search result");P();}function Dx(){$("#search-div-box-1 input.search-div-binput-canoff").prop("disabled",true);$("#search-div-box-2 input").prop("disabled",true);$("#search-div-t-t2-i1").select2("disable");$("#search-div-t-t3-i1").select2("disable");$("#search-div-t-t5 select.ui-timepicker-select").prop("disabled",true);$(".search-not-section").addClass("search-right-side-hide");}function Co(){$("#search-div-box-1 input.search-div-binput-canoff").prop("disabled",false);$("#search-div-box-2 input").prop("disabled",false);$("#search-div-t-t2-i1").select2("enable");$("#search-div-t-t3-i1").select2("enable");$("#search-div-t-t5 select.ui-timepicker-select").prop("disabled",false);$(".search-not-section").removeClass("search-right-side-hide");}function D1(){$("#search-div-t-t2-i1").select2("val","");if(a){return;}var Ev=undefined;$("#search-div-t-t2-i1").empty();$("#search-div-t-t2-i1").select2({multiple:true,containerCssClass:"wr-select-other wr-select-other-subj",dropdownCssClass:"wr-select-other-drop",placeholder:"Select one or more",allowClear:true,closeOnSelect:false,query:function(E1){var Ey=E1.term;var Ez={results:[]};var Ex=new RegExp(Ey.trim(),"i");if(""===Ey){if(undefined!=Ev){Ez.results=Ev;}}else{var E0=[];E0.length=0;var E2=new RegExp("^\\s*"+Ey.trim(),"i");var Ew=new RegExp(Ey.trim(),"i");$.each(BX,function(E3,E4){if(undefined!=E4.subjcode&&E4.subjcode.match(E2)){Ez.results.push({id:E3,text:E4.text,subjcode:E4.subjcode});}else{if(undefined!=E4.text&&E4.text.match(Ew)){E0.push({id:E3,text:E4.text,subjcode:E4.subjcode});}}});if(E0.length>0){Ez.results=Ez.results.concat(E0);}E0=[];E0.length=0;Ev=$.extend(true,[],Ez.results);}E1.callback(Ez);}});$("#search-div-t-t2-i1").on("select2-opening",function(){a=true;Ev=BX;});}function Cs(){$("#search-div-t-t3-i1").select2("val","");if(AE){return;}if(null==AG||(null!=AG&&0==AG.length)){DX(function(Ew){AG=Ew;});}if(0==AY.length){$.each(AG,function(Ez,E0){var Ew=E0.DEP_CODE;var Ey=E0.DEP_DESC;var Ex=Ew+" / "+Ey;AY.push({id:Ez,text:Ex,depcode:Ew,depdesc:Ey});});}var Ev=undefined;$("#search-div-t-t3-i1").empty();$("#search-div-t-t3-i1").select2({multiple:true,containerCssClass:"wr-select-other wr-select-other-dep",dropdownCssClass:"wr-select-other-drop",placeholder:"Select one or more",allowClear:true,closeOnSelect:false,query:function(E1){var Ey=E1.term;var Ez={results:[]};var Ex=new RegExp(Ey.trim(),"i");if(""===Ey){if(undefined!=Ev){Ez.results=Ev;}}else{var E0=[];E0.length=0;var E2=new RegExp("^\\s*"+Ey.trim(),"i");var Ew=new RegExp(Ey.trim(),"i");$.each(AY,function(E3,E4){if(undefined!=E4.depcode&&E4.depcode.match(E2)){Ez.results.push({id:E3,text:E4.text,depcode:E4.depcode});}else{if(undefined!=E4.text&&E4.text.match(Ew)){E0.push({id:E3,text:E4.text,depcode:E4.depcode});}}});if(E0.length>0){Ez.results=Ez.results.concat(E0);}E0=[];E0.length=0;Ev=$.extend(true,[],Ez.results);}E1.callback(Ez);}});$("#search-div-t-t3-i1").on("select2-opening",function(){AE=true;Ev=AY;});}function D4(Ew,Ev,Ex){if(undefined!=Ex){BK();U(undefined,undefined,Ex,false,true);return;}else{if(undefined!=Ew&&undefined!=Ev){BK();U(Ew,Ev,undefined,false,true);return;}}if($("#advanced-search").text().match(/hide/i)){$("#advanced-search").text("Advanced search");$("#search-div-1").hide();$("#search-div-t-t1-i1-td").show();$("#search-div-t-t1-button-div").show();Co();return;}$("#search-div-t-t1-i1-td").hide();$("#search-div-t-t1-button-div").hide();$("#search-div-1").show();$("#advanced-search").text("Hide advanced search");$("#search-div-t-t3-i4").val("");Co();$("#search-div-t-t3-i4").on("keyup cut paste drop",function(Ez){var Ey=undefined;if("paste"==Ez.type||"cut"==Ez.type||"drop"==Ez.type){setTimeout(function(){Ey=$("#search-div-t-t3-i4").val();if(Ey){if(!$("#search-div-t-t2-i2").prop("disabled")){Dx();}}else{Co();return;}},100);}else{Ey=$("#search-div-t-t3-i4").val();if(Ey){if(!$("#search-div-t-t2-i2").prop("disabled")){Dx();}}else{Co();return;}}});$("#search-div-t-t5-i1").timepicker(D7);$("#search-div-t-t5-i2").timepicker(D7);$("#search-div-t-t5 tbody tr td select.ui-timepicker-select").val("");D1();Cs();$("#search-div-t-t2-i1").select2("val","");$("#search-div-t-t3-i1").select2("val","");$("#search-div-t-b2").click(function(){Dn();BK();U();});$("#search-div-t-reset").click(function(){$("#search-div-t-t2-i1").select2("val","");$("#search-div-t-t3-i1").select2("val","");$(".search-div-binput").val("");$("#search-div-t-t5 tbody tr td select.ui-timepicker-select").val("");$(".search-div-bcheck").prop("checked",false);Co();C5();});$(".search-div-binput").keypress(function(Ey){if(Ey.which==13&&$(this).val()){Ey.preventDefault();$("#search-div-t-b2").trigger("click");return false;}});$(".search-div-binput").focus(function(){$(this).select();});}function BK(){if(Eo[0].grid){return;}$("#search-grid-toggle").show();$("#search-grid-toggle").click(function(){if($("#search-grid-toggle").text().match(/hide/i)){$("#search-grid-result").hide();$("#search-grid-toggle").text("Show search result");}else{$("#search-grid-result").show();$("#search-grid-toggle").text("Hide search result");}});Eo.jqGrid({data:AV,datatype:"local",hidegrid:true,autowidth:true,height:"100%",shrinkToFit:true,scrollOffset:0,loadComplete:function(){$(".search-group-header-noseat").parent().children().css("cursor","default");$(".search-group-header-noseat").closest("tr.jqgroup").find("td:first-child span").removeClass("ui-icon tree-wrap-ltr ui-icon-circlesmall-plus");$("#search-div-b-table tr.jqgrow.wr-search-group-data-row").hover(function(){var Ex=$(this).attr("id");var Ev=undefined;var Ew=Eo.jqGrid("getCell",Ex,22);if(1==Ew){Ev=Number(Ex)+1;}else{if(2==Ew){Ev=Number(Ex)-1;}}if(undefined!=Ev){$("#search-div-b-table tbody tr.jqgrow#"+Ev).addClass("ui-state-hover");}},function(){var Ex=$(this).attr("id");var Ev=undefined;var Ew=Eo.jqGrid("getCell",Ex,22);
if(1==Ew){Ev=Number(Ex)+1;}else{if(2==Ew){Ev=Number(Ex)-1;}}if(undefined!=Ev){$("#search-div-b-table tbody tr.jqgrow#"+Ev).removeClass("ui-state-hover");}});},gridview:true,loadonce:true,rowNum:5000,cmTemplate:{title:false},beforeSelectRow:function(Ev,Ew){return false;},onRightClickRow:function(){Eo.jqGrid("resetSelection");return false;},colNames:["colsubj","SUBJ_CODE","CRSE_CODE","Section ID","Section","Type","Days","Time","Building","Room","Avail Seats","Total Seats","WT POS","Book","Instructor","Action","SortKey","Span","RowAttr","RowCoup"],colModel:[{name:"colsubj",sorttype:"text",index:"colsubj",align:"center",editable:false,sortable:false},{name:"SUBJ_CODE",hidden:true},{name:"CRSE_CODE",hidden:true},{name:"SECTION_NUMBER",fixed:true,index:"sectnum",width:50,align:"center",editable:false,sortable:false,cellattr:EP},{name:"SECT_CODE",fixed:true,index:"sectcode",width:40,align:"center",editable:false,sortable:false,cellattr:EH},{name:"FK_CDI_INSTR_TYPE",fixed:true,index:"type",width:45,align:"center",editable:false,sortable:false,title:true,cellattr:C3},{name:"DAY_CODE",fixed:true,index:"days",width:60,align:"center",editable:false,sortable:false,cellattr:k},{name:"coltime",fixed:true,index:"time",width:70,align:"center",editable:false,sortable:false},{name:"BLDG_CODE",fixed:true,index:"bld",width:45,align:"center",editable:false,sortable:false},{name:"ROOM_CODE",fixed:true,index:"rm",width:30,align:"center",editable:false,sortable:false},{name:"AVAIL_SEAT",fixed:true,index:"aseat",width:30,align:"center",editable:false,sortable:false},{name:"SCTN_CPCTY_QTY",fixed:true,index:"tseat",width:30,align:"center",editable:false,sortable:false},{name:"COUNT_ON_WAITLIST",fixed:true,index:"cwt",width:40,align:"center",editable:false,sortable:false},{name:"BOOK_LINK",fixed:true,index:"book",width:33,align:"center",editable:false,sortable:false},{name:"PERSON_FULL_NAME",fixed:true,index:"inst",width:292,align:"center",editable:false,sortable:false,cellattr:Ei},{name:"colaction",fixed:true,index:"action",width:130,align:"center",editable:false,sortable:false,cellattr:Bb},{name:"SORT_KEY",hidden:true,sorttype:"int"},{name:"ROW_SPAN",hidden:true},{name:"ROW_ATTR",hidden:true},{name:"ROW_COUP",hidden:true}],rowattr:function(Ex){var Ew="";var Ev=Ex.ROW_ATTR;if(undefined!=Ev){if(undefined!=Ex.ROW_ATTR.rowClass){Ew={"class":Ex.ROW_ATTR.rowClass};}}return Ew;},caption:"Search results and action",sortname:"SORT_KEY",sortorder:"asc",grouping:true,groupingView:{groupField:["colsubj"],groupCollapse:true,groupColumnShow:[false]}});$("#jqgh_search-div-b-table_GRADE_OPTION").attr("title","Grade Option");}$("#dialog-plan").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{Cancel:{text:"Cancel",click:function(){$(this).dialog("close");}},Confirm:{text:"Confirm",click:function(){$(this).dialog("close");var E1=$("#diagplan-class-table-grade option:selected").val();var Ex=$("#diagplan-class-table-unit option:selected").text();if(undefined==E1||E1.trim()==""){E1=Dp($("#diagplan-class-table-grade-p").text());}if(undefined==Ex||Ex.trim()==""){Ex=$("#diagplan-class-table-unit-p").text();}var Ew=$(this).dialog("option","subjcrse");var E0=$(this).dialog("option","subjcode");var Ev=BM($(this).dialog("option","crsecode"));var Ez=$(this).dialog("option","stitle");var Ey=$(this).dialog("option","sectionhead");var E2=$(this).dialog("option","sectcode");Ex=Number(Ex).toFixed(2);BZ(EK,E0,Ev,Ey,E2,E1,Ex,function(E7){var E9="";if("SUCCESS"==E7.OPS){EI();r();E9="<div class='msg confirm'><h4>Request Successful</h4><span>Planned "+Ew.trim()+" with "+Ac(E1)+" grade option for "+Ex+" units, Section "+Ey+".</span></div>";E9+=L(Ey,true);$("#search-plan-id-"+Ey).button().button("disable");$("#search-plan-id-"+Ey).attr("title","Already planned");if(Eo[0].grid){if(undefined!=BU){A9[BU]=$.extend(true,[],AV);var E6=false;var E4=new RegExp(Ey);$.each(A9,function(FA,FB){if(E6){return false;}if(undefined==FB||0==FB.length){return;}$.each(FB,function(FC,FD){if(undefined!=FD.SECTION_NUMBER&&FD.SECTION_NUMBER.toString().match(E4)){if(undefined!=FD.colaction&&!FD.colaction.match(/^\s*$/)){FD.colaction=FD.colaction.replace(/disableSBSectionClass/g,"");FD.colaction=FD.colaction.replace(/wrbuttonspew/g,"wrbuttonspew disableSBSectionClass ");E6=true;return false;}}});});EV(BU,false,false);}}}else{var E8="";if(undefined!=E7.REASON||"null"!=E7.REASON){E8=E7.REASON;}E9="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to plan "+Ew.trim()+", Section "+Ey+".  "+E8+"</span></div>";}var E5=$("#dialog-after-action").dialog("open");var E3=O.slice(0);E3.splice(1,2);E5.dialog("option","buttons",E3);D3(E9);});return;}}}});$("#dialog-confirm-plan-remove").dialog({autoOpen:false,maxWidth:1050,position:{my:"center",at:"center",of:window},height:"auto",width:1050,modal:true,closeOnEscape:false,buttons:{but1:{text:"Cancel",click:function(){$(this).dialog("close");return;}},but2:{text:"Remove",click:function(){$(this).dialog("close");var Ex=$(this).dialog("option","sectionhead");var Ez=$(this).dialog("option","subjcode");var Ev=BM($(this).dialog("option","crsecode"));var Ey=$(this).dialog("option","stitle");var Ew=Ez.toString().trim();var E0=Ev.toString().trim();u(EK,Ex,function(E5){var E7="";if("SUCCESS"==E5.OPS){EI();r();E7="<div class='msg confirm'><h4>Request Successful</h4><span>Removed planned class "+Ez.trim()+" "+Ev.trim()+" "+Ey.trim()+", Section "+Ex+".</span></div>";if(Eo[0].grid){if(undefined!=BU){A9[BU]=$.extend(true,[],AV);var E4=false;var E2=new RegExp(Ex);$.each(A9,function(E8,E9){if(E4){return false;}if(undefined==E9||0==E9.length){return;}$.each(E9,function(FA,FB){if(undefined!=FB.SECTION_NUMBER&&FB.SECTION_NUMBER.toString().match(E2)){if(undefined!=FB.colaction&&!FB.colaction.match(/^\s*$/)){FB.colaction=FB.colaction.replace(/disableSBSectionClass/g," ");E4=true;return false;}}});});EV(BU,false,false);}}}else{var E6="";if(undefined!=E5.REASON||"null"!=E5.REASON){E6=E5.REASON;
}E7="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to remove Planned class - "+Ez.trim()+" "+Ev.trim()+" "+Ey.trim()+", Section "+Ex+".  "+E6+"</span></div>";}var E3=$("#dialog-after-action").dialog("open");var E1=O.slice(0);E1.splice(1,2);E3.dialog("option","buttons",E1);D3(E7);});return;}}}});$("#dialog-confirm-plan-add").dialog({autoOpen:false,maxWidth:800,position:{my:"center",at:"center",of:window},height:"auto",width:800,modal:true,closeOnEscape:false,buttons:{but1:{text:"Cancel",click:function(){$(this).dialog("close");return;}},but2:{text:"Confirm",click:function(){$(this).dialog("close");var E7=$(this).dialog("option","sectionhead");var E0=$(this).dialog("option","subjcode");var Ey=BM($(this).dialog("option","crsecode"));var Ew=$(this).dialog("option","stitle");var E8=E0.toString().trim();var E2=Ey.toString().trim();var E6=$(this).dialog("option","sectcode");var E1=$(this).dialog("option","gradeenable");var Ez=$(this).dialog("option","unitenable");var E4=$(this).dialog("option","unitfrom");var Ex=$(this).dialog("option","unitto");var Ev=$(this).dialog("option","unitinc");var E5=$(this).dialog("option","gradedefault");var E3=$(this).dialog("option","unitdefault");Cp(E7,E6,E0,Ey,Ew,E1,Ez,E5,E3,E4,Ex,Ev,undefined);return;}}}});function Cp(FF,FJ,FM,E4,Ey,FL,E0,Ev,Ez,E2,E5,FG,FE){var Ex=CV;var FK=Ey.toString().split("(")[0];Ey=FK;$("#diagplan-class-table-subj").empty();$("#diagplan-class-table-title").empty();$("#diagplan-class-table-grade-p").empty();$("#diagplan-class-table-unit-p").empty();$("#diagplan-class-table-code").empty();$("#diagplan-class-table-type").empty();$("#diagplan-class-table-days").empty();$("#diagplan-class-table-time").empty();$(".diagplan-class-table-no1234").empty();var E1=BM(E4);var FI=FM+" "+E4;var FA=$("#dialog-plan").dialog("open");FA.dialog("option","sectionhead",FF);FA.dialog("option","sectcode",FJ);FA.dialog("option","subjcrse",FI);FA.dialog("option","subjcode",FM);FA.dialog("option","crsecode",E4);FA.dialog("option","stitle",Ey);$("#diagplan-class-table-subj").text(FI);$("#diagplan-class-table-title").text(Ey);var E7=0;var FC=$(".wr-search-group-data-row").filter(function(){return $(this).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']").text().indexOf(FF)!=-1;});var E6="";if(DI){E6=$("#"+FC[0].id).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']")[0].innerHTML.trim();}else{E6=$("#"+FC[0].id).children("td[aria-describedby='search-div-b-table_SECTION_NUMBER']")[0].textContent.trim();}E6=E6.replace(/^\d+/,"");if(E6.trim()!=""){E6=Ey+" - "+E6.trim();$("#diagplan-class-table-title").text(E6);}FC.sort(function(FO,FN){return FO.id>FN.id;});var FD=[];$.each(FC,function(FO,FR){var FQ="";var FT="";var FN="";var FS="";if(DI){FQ=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_SECT_CODE']")[0].innerHTML.trim();FT=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_FK_CDI_INSTR_TYPE']")[0].innerHTML.trim();FN=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_DAY_CODE']")[0].innerHTML.trim();FS=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_coltime']")[0].innerHTML.trim();}else{FQ=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_SECT_CODE']")[0].textContent.trim();FT=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_FK_CDI_INSTR_TYPE']")[0].textContent.trim();FN=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_DAY_CODE']")[0].textContent.trim();FS=$("#"+FR.id).children("td[aria-describedby='search-div-b-table_coltime']")[0].textContent.trim();}if(FT!=""){if(E7==0){$("#diagplan-class-table-code").text(FQ);$("#diagplan-class-table-type").text(Ac(FT));$("#diagplan-class-table-days").text(FN);$("#diagplan-class-table-time").text(FS);}else{var FP=$("#diagplan-class-table");FP.append("<tr class='diagplan-class-table-no1234'>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td class='diagclass-class-table-empty'></td>"+"<td>"+FQ+"</td>"+"<td>"+Ac(FT)+"</td>"+"<td>"+FN+"</td>"+"<td>"+FS+"</td>"+"</tr>");}E7++;}});var E8=$("#diagplan-class-table-grade-p");E8.empty();if(FL){E8.append("<select class='diagxxx-class-table-td-select' id='diagplan-class-table-grade'></select>");var Ew=$("#diagplan-class-table-grade");Ew.empty();if(Ex=="UN"){Ew.append($("<option></option>").val("L").html("Letter"));Ew.append($("<option></option>").val("P").html("Pass / No Pass"));}else{if(Ex=="GR"){Ew.append($("<option></option>").val("L").html("Letter"));Ew.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));}else{if(Ex=="PH"){CT(FM,E4,function(FN){if(FN.ACADEMIC_LEVEL=="GR"){Ew.append($("<option></option>").val("L").html("Letter"));}else{Ew.append($("<option></option>").val("H").html("Honors Pass / Fail"));}Ew.append($("<option></option>").val("S").html("Satisfactory / Unsatisfactory"));});}}}if(undefined!=Ev){Ew.val(Ev);}}else{if(undefined!=Ev){E8.text(Ac(Ev));}else{if(Ex=="UN"){E8.text("Pass / No Pass");}else{if(Ex=="GR"){E8.text("Satisfactory / Unsatisfactory");}else{if(Ex=="PH"){E8.text("Satisfactory / Unsatisfactory");}}}}}var FB=$("#diagplan-class-table-unit-p");FB.empty();if(E0&&undefined!=E2&&undefined!=E5&&undefined!=FG){FB.append("<select class='diagxxx-class-table-td-select' id='diagplan-class-table-unit' ></select>");var FH=$("#diagplan-class-table-unit");FH.empty();var E9=Ej(E2,E5,FG,Ez);$.each(E9.ob2,function(FN,FO){FH.append($("<option></option>").val(FN).html(FO));});FH.val(E9.ob1);}else{FB.text(Ez);}var E3="<b>Confirm class, and/or grading option or units to add this class to your plan</b><br><br />";if(undefined!=FE&&!FE.toString().match(/^\s*$/)){E3=E3+"<div class='msg alert'><h4>Alert: </h4>"+FE+"</div>";}E3+=L(FF,true);D3(E3);}function L(Ew,Ez){var Ey="";var Ex=[];var Ev=[];if(Ez){n(Ew,Ex,Ev);}else{DT(Ew,Ex,Ev);}Dq(Ex);Bd(Ev);if(Cr.length>0||Bt.length>0){Ey=CP();}return Ey;}function CP(){var Ew=(Cr.length+Bt==1)?DG:Ds;
var Ev="<div class='msg alert'><h4>Warning: "+Ew+"</h4><ul>";$.each(Cr,function(Ex,Ey){Ev+="<li>"+Ey[0].SUBJ_CODE.trim()+" "+Ey[0].CRSE_CODE.trim()+((Ey[0].FK_CDI_INSTR_TYPE=="MI")?" Midterm":"")+" and "+Ey[1].SUBJ_CODE.trim()+" "+Ey[1].CRSE_CODE.trim()+((Ey[1].FK_CDI_INSTR_TYPE=="MI")?" Midterm":"")+"</li>";});$.each(Bt,function(Ex,Ey){Ev+="<li>"+Ey[0].SUBJ_CODE.trim()+" "+Ey[0].CRSE_CODE.trim()+" Final and "+Ey[1].SUBJ_CODE.trim()+" "+Ey[1].CRSE_CODE.trim()+" Final</li>";});Ev+="</ul>";Ev+="This section's time conflicts with another course on your schedule. Your add request has processed, but you must resolve this time conflict by dropping one of these courses. You are responsible for resolving time conflicts, which may also include conflicts in the midterm or final exam schedule.</div>";return Ev;}function CY(Ey,Ew){var Ev=Ew||0;var Ex=(Ey.FK_SPM_SPCL_MTG_CD.match(/MI|FI/))?Ey.FK_SPM_SPCL_MTG_CD:Ey.FK_CDI_INSTR_TYPE;return{DAY_CODE:Ey.DAY_CODE_NUM.charAt(Ev),BEGIN_HH_TIME:Ey.BEGIN_HH_TIME,BEGIN_MM_TIME:Ey.BEGIN_MM_TIME,END_HH_TIME:Ey.END_HH_TIME,END_MM_TIME:Ey.END_MM_TIME,FK_CDI_INSTR_TYPE:Ex,START_DATE:Ey.START_DATE,END_DATE:Ey.SECTION_END_DATE,SECTION_NUMBER:Ey.ORG_SECTION_NUMBER,SUBJ_CODE:Ey.SUBJ_CODE,CRSE_CODE:Ey.CRSE_CODE};}function DT(Ew,Ey,Ev){var Ex=AQ(V);$.each(Ex,function(Ez,E0){if(E0.SECTION_HEAD==Ew){if(E0.PB_FRIEND){if(E0.FK_CDI_INSTR_TYPE=="MI"){Ey.push(E0);}else{if(E0.FK_CDI_INSTR_TYPE=="FI"){Ev.push(E0);}}}else{Ey.push(E0);}}});}function n(Ew,Ey,Ev){var Ex=AQ(AV);var Ez=undefined;$.each(Ex,function(E0,E2){if(E2.ORG_SECTION_NUMBER==undefined){return;}if(E2.FK_SPM_SPCL_MTG_CD!=undefined&&E2.FK_SPM_SPCL_MTG_CD.match(/FM|PB|RE|OT|MU/)){return;}if(E2.ORG_SECTION_NUMBER==Ew){if(E2.FK_SPM_SPCL_MTG_CD!=undefined&&E2.FK_SPM_SPCL_MTG_CD.trim()=="FI"){Ev.push(CY(E2));return;}for(var E1=0;E1<E2.DAY_CODE_NUM.length;E1++){Ey.push(CY(E2,E1));}return;}else{if(E2.SECTION_NUMBER!=undefined&&E2.SECTION_NUMBER==Ew){Ez=E2.ORG_SECTION_NUMBER;for(var E1=0;E1<E2.DAY_CODE_NUM.length;E1++){Ey.push(CY(E2,E1));}return;}}if(Ez!=undefined){if(E2.ORG_SECTION_NUMBER==Ez){if(E2.FK_SPM_SPCL_MTG_CD!=undefined&&E2.FK_SPM_SPCL_MTG_CD.trim()=="FI"){Ev.push(CY(E2));return;}else{if(E2.FK_SPM_SPCL_MTG_CD!=undefined&&E2.FK_SPM_SPCL_MTG_CD.trim()=="MI"){Ey.push(CY(E2));return;}}}}});}function Dq(Ew){Cr=[];Cr.length=0;var Ev=AQ(V);$.each(Ew,function(E0,E3){if(undefined==E3.FK_CDI_INSTR_TYPE||E3.FK_CDI_INSTR_TYPE.match(/FI|FM|PB|RE|OT|MU/)){return;}var E2=String("0"+E3.BEGIN_HH_TIME).slice(-2)+String("0"+E3.BEGIN_MM_TIME).slice(-2);var Ey=String("0"+E3.END_HH_TIME).slice(-2)+String("0"+E3.END_MM_TIME).slice(-2);var Ez=E3.DAY_CODE;var E1=E3.FK_CDI_INSTR_TYPE;var Ex=String(E3.START_DATE).replace(/\-/g,"");var E4=String(E3.END_DATE).replace(/\-/g,"");if(E2.toString().match(/^0+$/)||Ex.toString().match(/TBA/i)){return;}$.each(Ev,function(FB,FA){if(undefined==FA.FK_CDI_INSTR_TYPE||FA.FK_CDI_INSTR_TYPE.match(/FI|FM|PB|RE|OT|MU/)){return;}var E9=String("0"+FA.BEGIN_HH_TIME).slice(-2)+String("0"+FA.BEGIN_MM_TIME).slice(-2);var E6=String("0"+FA.END_HH_TIME).slice(-2)+String("0"+FA.END_MM_TIME).slice(-2);var E8=FA.DAY_CODE;var FC=FA.FK_CDI_INSTR_TYPE;var E7=String(FA.START_DATE).replace(/\-/g,"");var E5=String(FA.END_DATE).replace(/\-/g,"");if(E9.toString().match(/^0+$/)||E7.toString().match(/TBA/i)){return;}if(E3.SECTION_NUMBER==FA.SECTION_NUMBER){return;}if(FA.PB_FRIEND&&FC!="MI"){return;}if("MI"==E1&&"MI"==FC){if(Ex==E7){if(E2<E6&&E9<Ey){DF(E3,FA);return;}}return;}if("MI"==E1||"MI"==FC){if(Ez==E8&&E2<E6&&E9<Ey){DF(E3,FA);return;}}if(Ez==E8&&E2<E6&&E9<Ey&&Ex<E5&&E7<E4){DF(E3,FA);return;}});});}function DF(Ew,Ev){var Ex=false;if(Ew.FK_CDI_INSTR_TYPE=="MI"||Ev.FK_CDI_INSTR_TYPE=="MI"){Cr.push([Ew,Ev]);return;}$.each(Cr,function(Ey,Ez){if(Ez[0].SUBJ_CODE==Ew.SUBJ_CODE&&Ez[0].CRSE_CODE==Ew.CRSE_CODE&&Ez[0].FK_CDI_INSTR_TYPE!="MI"&&Ez[1].SUBJ_CODE==Ev.SUBJ_CODE&&Ez[1].CRSE_CODE==Ev.CRSE_CODE&&Ez[1].FK_CDI_INSTR_TYPE!="MI"){Ex=true;return false;}});if(!Ex){Cr.push([Ew,Ev]);}}function Bd(Ev){Bt=[];Bt.length=0;var Ew=AQ(V);$.each(Ev,function(E0,E2){if(undefined==E2.FK_CDI_INSTR_TYPE||E2.FK_CDI_INSTR_TYPE!="FI"){return;}var E1=String("0"+E2.BEGIN_HH_TIME).slice(-2)+String("0"+E2.BEGIN_MM_TIME).slice(-2);var Ey=String("0"+E2.END_HH_TIME).slice(-2)+String("0"+E2.END_MM_TIME).slice(-2);var Ex=E2.START_DATE;var Ez=E2.DAY_CODE;if(E1.toString().match(/^0+$/)||Ex.toString().match(/TBA/i)){return;}$.each(Ew,function(E8,E7){if(undefined==E7.FK_CDI_INSTR_TYPE||E7.FK_CDI_INSTR_TYPE!="FI"){return;}var E6=String("0"+E7.BEGIN_HH_TIME).slice(-2)+String("0"+E7.BEGIN_MM_TIME).slice(-2);var E3=String("0"+E7.END_HH_TIME).slice(-2)+String("0"+E7.END_MM_TIME).slice(-2);var E4=E7.START_DATE;var E5=E7.DAY_CODE;var E9=E7.FK_CDI_INSTR_TYPE;if(E6.toString().match(/^0+$/)||E4.toString().match(/TBA/i)){return;}if(E2.SECTION_NUMBER==E7.SECTION_NUMBER){return;}if(Ex==E4&&E1<E3&&E6<Ey){Bt.push([E2,E7]);return;}});});}function At(Ey,E1,E0,Ev,Ez){if(BI(Ey,undefined,undefined,"ALL")[0]){var E2="<div class='msg error'><h4>Request Unsuccessful</h4><span>Attempting to plan "+E0.trim()+" "+Ev.trim()+", Section "+Ey+".<br /><br />You already have this section in your list.</span></div>";var Ex=$("#dialog-after-action").dialog("open");var Ew=O.slice(0);Ew.splice(1,2);Ex.dialog("option","buttons",Ew);Ex.dialog("option","actionevent",E2);D3(E2);return;}DZ(Ey,E0,Ev,function(E9){var E7=false;var E8=false;var FC=undefined;var E5=undefined;var E4=undefined;var FD=undefined;var FB=undefined;var FA="";if("YES"==E9.GRADE){E7=true;}if("YES"==E9.UNIT){E8=true;FC=E9.UNIT_FROM;E5=E9.UNIT_TO;E4=E9.UNIT_INC;}FD=E9.GRADE_DEFAULT;FB=E9.UNIT_DEFAULT;var E6=undefined;if("SUCCESS"==E9.OPS){if("YES"==E9.WARNING){if(undefined!=E9.REASON||"null"!=E9.REASON){E6=E9.REASON;}}Cp(Ey,E1,E0,Ev,Ez,E7,E8,FD,FB,FC,E5,E4,E6);}else{if(undefined!=E9.REASON||"null"==E9.REASON){reason=E9.REASON;}if(undefined==FB){FA="<div class='msg error'><h4>Warning</h4><span>Attempting to plan "+E0.trim()+" "+Ev.trim()+", Section "+Ey+".<br /><br />"+reason+"<br /><br />You cannot plan this class.</span></div>";
$("#dialog-msg").dialog("open");D3(FA);}else{FA="<div class='msg alert'><h4>Warning</h4><span>Attempting to plan "+E0.trim()+" "+Ev.trim()+", Section "+Ey+".<br /><br />"+reason+"</span></div><b>Do you still want to plan this class?</b>";var E3=$("#dialog-confirm-plan-add").dialog("open");E3.dialog("option","sectionhead",Ey);E3.dialog("option","sectcode",E1);E3.dialog("option","subjcode",E0);E3.dialog("option","crsecode",Ev);E3.dialog("option","stitle",Ez);E3.dialog("option","gradeenable",E7);E3.dialog("option","unitenable",E8);E3.dialog("option","unitfrom",FC);E3.dialog("option","unitto",E5);E3.dialog("option","unitinc",E4);E3.dialog("option","gradedefault",FD);E3.dialog("option","unitdefault",FB);}D3(FA);}});}function Bo(Ex){var E7=Ex.data.actionTip;var E8=Ex.data.sectionHead;var E5=Ex.data.gradeVal;var E9=Ex.data.unitVal;var E0=Ex.data.isEnroll;var Ey="";var Ez=[];var E2=$("#list-id-table");var Ew=E2.jqGrid("getDataIDs");for(var E4=0;E4<Ew.length;E4++){var E3=Ew[E4];rowData=E2.jqGrid("getRowData",E3);if(!rowData.colstatusorg.match(/plan/i)){continue;}if(undefined!=rowData.PB_FRIEND&&"true"==rowData.PB_FRIEND){continue;}if(rowData.SECTION_HEAD==E8){Ey=CS(rowData.FK_CDI_INSTR_TYPE);if(undefined==Ey||Ey.trim()==""){Ey=rowData.FK_CDI_INSTR_TYPE;}var E1={key0:rowData.SUBJ_CODE,key1:rowData.CRSE_CODE,key2:rowData.CRSE_TITLE,key3:rowData.colsubj,key4:Ey,key5:rowData.DAY_CODE,key6:rowData.coltime,key7:Ac(rowData.GRADE_OPTION),key8:rowData.SECT_CREDIT_HRS,key9:rowData.SECT_CODE};Ez.push(E1);}}var Ev=$("#dialog-confirm-plan-remove").dialog("open");Ev.dialog("option","sectionhead",E8);Ev.dialog("option","subjcode",Ez[0].key0);Ev.dialog("option","crsecode",Ez[0].key1);Ev.dialog("option","stitle",Ez[0].key2);Ev.dialog("option","gradeval",E5);Ev.dialog("option","unitval",E9);Ev.dialog("option","isenroll",E0);$("#diagplanrm-class-table-subj").empty();$("#diagplanrm-class-table-title").empty();$("#diagplanrm-class-table-grade-p").empty();$("#diagplanrm-class-table-unit-p").empty();$("#diagplanrm-class-table-code").empty();$("#diagplanrm-class-table-type").empty();$("#diagplanrm-class-table-days").empty();$("#diagplanrm-class-table-time").empty();$(".diagplanrm-class-table-no1234").empty();$("#diagplanrm-class-table-subj").text(Ez[0].key3);$("#diagplanrm-class-table-title").text(Ez[0].key2);$("#diagplanrm-class-table-grade-p").text(Ez[0].key7);$("#diagplanrm-class-table-unit-p").text(Ez[0].key8);$("#diagplanrm-class-table-code").text(Ez[0].key9);$("#diagplanrm-class-table-type").text(Ez[0].key4);$("#diagplanrm-class-table-days").text(Ez[0].key5);$("#diagplanrm-class-table-time").text(Ez[0].key6);var E6=$("#diagplanrm-class-table");$(".diagplanrm-class-table-extra-row").empty();$.each(Ez.slice(1),function(FB,FC){var FA='<tr class="diagplanrm-class-table-extra-row diagplanrm-class-table-no1234" >';E6.append(FA+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+'<td class="diagclass-class-table-empty"></td>'+"<td>"+FC.key9+"</td>"+"<td>"+FC.key4+"</td>"+"<td>"+FC.key5+"</td>"+"<td>"+FC.key6+"</td>"+"</tr>");});D3(E7);}C7();EU();$("body").css("display","block");});